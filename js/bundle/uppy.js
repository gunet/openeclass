var C3=Object.create;var{getPrototypeOf:R3,defineProperty:vh,getOwnPropertyNames:k3}=Object;var g3=Object.prototype.hasOwnProperty;var W=(d,h,c)=>{c=d!=null?C3(R3(d)):{};let a=h||!d||!d.__esModule?vh(c,"default",{value:d,enumerable:!0}):c;for(let b of k3(d))if(!g3.call(a,b))vh(a,b,{get:()=>d[b],enumerable:!0});return a};var Q=(d,h)=>()=>(h||d((h={exports:{}}).exports,h),h.exports);var U0=Q((sb,Ic)=>{function o4(d){var h=typeof d;return d!=null&&(h=="object"||h=="function")}Ic.exports=o4});var rc=Q((Vb,_c)=>{var U4=typeof global=="object"&&global&&global.Object===Object&&global;_c.exports=U4});var Nd=Q((tb,xc)=>{var M4=rc(),Y4=typeof self=="object"&&self&&self.Object===Object&&self,A4=M4||Y4||Function("return this")();xc.exports=A4});var Pc=Q((wb,vc)=>{var $4=Nd(),Z4=function(){return $4.Date.now()};vc.exports=Z4});var Tc=Q((Xb,Ec)=>{var L4=/\s/;function y4(d){var h=d.length;while(h--&&L4.test(d.charAt(h)));return h}Ec.exports=y4});var jc=Q((Ob,nc)=>{var G4=Tc(),N4=/^\s+/;function F4(d){return d?d.slice(0,G4(d)+1).replace(N4,""):d}nc.exports=F4});var Fd=Q((ob,pc)=>{var W4=Nd(),H4=W4.Symbol;pc.exports=H4});var h5=Q((Ub,d5)=>{var lc=Fd(),ec=Object.prototype,Q4=ec.hasOwnProperty,J4=ec.toString,q1=lc?lc.toStringTag:void 0;function B4(d){var h=Q4.call(d,q1),c=d[q1];try{d[q1]=void 0;var a=!0}catch(f){}var b=J4.call(d);if(a)if(h)d[q1]=c;else delete d[q1];return b}d5.exports=B4});var a5=Q((Mb,c5)=>{var K4=Object.prototype,D4=K4.toString;function q4(d){return D4.call(d)}c5.exports=q4});var u5=Q((Yb,z5)=>{var b5=Fd(),C4=h5(),R4=a5(),k4="[object Null]",g4="[object Undefined]",f5=b5?b5.toStringTag:void 0;function S4(d){if(d==null)return d===void 0?g4:k4;return f5&&f5 in Object(d)?C4(d):R4(d)}z5.exports=S4});var m5=Q((Ab,i5)=>{function I4(d){return d!=null&&typeof d=="object"}i5.exports=I4});var V5=Q(($b,s5)=>{var _4=u5(),r4=m5(),x4="[object Symbol]";function v4(d){return typeof d=="symbol"||r4(d)&&_4(d)==x4}s5.exports=v4});var O5=Q((Zb,X5)=>{var P4=jc(),t5=U0(),E4=V5(),w5=NaN,T4=/^[-+]0x[0-9a-f]+$/i,n4=/^0b[01]+$/i,j4=/^0o[0-7]+$/i,p4=parseInt;function l4(d){if(typeof d=="number")return d;if(E4(d))return w5;if(t5(d)){var h=typeof d.valueOf=="function"?d.valueOf():d;d=t5(h)?h+"":h}if(typeof d!="string")return d===0?d:+d;d=P4(d);var c=n4.test(d);return c||j4.test(d)?p4(d.slice(2),c?2:8):T4.test(d)?w5:+d}X5.exports=l4});var Hd=Q((Lb,U5)=>{var e4=U0(),Wd=Pc(),o5=O5(),d2="Expected a function",h2=Math.max,c2=Math.min;function a2(d,h,c){var a,b,f,z,i,m,s=0,t=!1,V=!1,X=!0;if(typeof d!="function")throw new TypeError(d2);if(h=o5(h)||0,e4(c))t=!!c.leading,V="maxWait"in c,f=V?h2(o5(c.maxWait)||0,h):f,X="trailing"in c?!!c.trailing:X;function w(A){var L=a,q=b;return a=b=void 0,s=A,z=d.apply(q,L),z}function O(A){return s=A,i=setTimeout(o,h),t?w(A):z}function Z(A){var L=A-m,q=A-s,_=h-L;return V?c2(_,f-q):_}function M(A){var L=A-m,q=A-s;return m===void 0||L>=h||L<0||V&&q>=f}function o(){var A=Wd();if(M(A))return U(A);i=setTimeout(o,Z(A))}function U(A){if(i=void 0,X&&a)return w(A);return a=b=void 0,z}function y(){if(i!==void 0)clearTimeout(i);s=0,a=m=b=i=void 0}function F(){return i===void 0?z:U(Wd())}function Y(){var A=Wd(),L=M(A);if(a=arguments,b=this,m=A,L){if(i===void 0)return O(m);if(V)return clearTimeout(i),i=setTimeout(o,h),w(m)}if(i===void 0)i=setTimeout(o,h);return z}return Y.cancel=y,Y.flush=F,Y}U5.exports=a2});var Y5=Q((yb,M5)=>{var b2=Hd(),f2=U0(),z2="Expected a function";function u2(d,h,c){var a=!0,b=!0;if(typeof d!="function")throw new TypeError(z2);if(f2(c))a="leading"in c?!!c.leading:a,b="trailing"in c?!!c.trailing:b;return b2(d,h,{leading:a,maxWait:h,trailing:b})}M5.exports=u2});var $5=Q((Gb,A5)=>{A5.exports=function d(){var h={},c=h._fns={};h.emit=function f(z,i,m,s,t,V,X){var w=a(z);if(w.length)b(z,w,[i,m,s,t,V,X])},h.on=function f(z,i){if(!c[z])c[z]=[];c[z].push(i)},h.once=function f(z,i){function m(){i.apply(this,arguments),h.off(z,m)}this.on(z,m)},h.off=function f(z,i){var m=[];if(z&&i){var s=this._fns[z],t=0,V=s?s.length:0;for(t;t<V;t++)if(s[t]!==i)m.push(s[t])}m.length?this._fns[z]=m:delete this._fns[z]};function a(f){var z=c[f]?c[f]:[],i=f.indexOf(":"),m=i===-1?[f]:[f.substring(0,i),f.substring(i+1)],s=Object.keys(c),t=0,V=s.length;for(t;t<V;t++){var X=s[t];if(X==="*")z=z.concat(c[X]);if(m.length===2&&m[0]===X){z=z.concat(c[X]);break}}return z}function b(f,z,i){var m=0,s=z.length;for(m;m<s;m++){if(!z[m])break;z[m].event=f,z[m].apply(z[m],i)}}return h}});var M0=Q((Qb,y5)=>{y5.exports=function d(h){if(typeof h!=="number"||Number.isNaN(h))throw new TypeError(`Expected a number, got ${typeof h}`);let c=h<0,a=Math.abs(h);if(c)a=-a;if(a===0)return"0 B";let b=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],f=Math.min(Math.floor(Math.log(a)/Math.log(1024)),b.length-1),z=Number(a/1024**f),i=b[f];return`${z>=10||z%1===0?Math.round(z):z.toFixed(1)} ${i}`}});var F5=Q((Jb,N5)=>{function G5(d,h){this.text=d=d||"",this.hasWild=~d.indexOf("*"),this.separator=h,this.parts=d.split(h)}G5.prototype.match=function(d){var h=!0,c=this.parts,a,b=c.length,f;if(typeof d=="string"||d instanceof String)if(!this.hasWild&&this.text!=d)h=!1;else{f=(d||"").split(this.separator);for(a=0;h&&a<b;a++)if(c[a]==="*")continue;else if(a<f.length)h=c[a]===f[a];else h=!1;h=h&&f}else if(typeof d.splice=="function"){h=[];for(a=d.length;a--;)if(this.match(d[a]))h[h.length]=d[a]}else if(typeof d=="object"){h={};for(var z in d)if(this.match(z))h[z]=d[z]}return h};N5.exports=function(d,h,c){var a=new G5(d,c||/[\/\.]/);if(typeof h!="undefined")return a.match(h);return a}});var H5=Q((Bb,W5)=>{var s2=F5(),V2=/[\/\+\.]/;W5.exports=function(d,h){function c(a){var b=s2(a,d,V2);return b&&b.length>=2}return h?c(h.split(";")[0]):c}});var g=Q((g7,Z0)=>{/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(){var d={}.hasOwnProperty;function h(){var b="";for(var f=0;f<arguments.length;f++){var z=arguments[f];if(z)b=a(b,c(z))}return b}function c(b){if(typeof b==="string"||typeof b==="number")return b;if(typeof b!=="object")return"";if(Array.isArray(b))return h.apply(null,b);if(b.toString!==Object.prototype.toString&&!b.toString.toString().includes("[native code]"))return b.toString();var f="";for(var z in b)if(d.call(b,z)&&b[z])f=a(f,z);return f}function a(b,f){if(!f)return b;if(b)return b+" "+f;return b+f}if(typeof Z0!=="undefined"&&Z0.exports)h.default=h,Z0.exports=h;else if(typeof define==="function"&&typeof define.amd==="object"&&define.amd)define("classnames",[],function(){return h});else window.classNames=h})()});var x5=Q((Gf,gd)=>{var k2=Object.prototype.hasOwnProperty,S="~";function I1(){}if(Object.create){if(I1.prototype=Object.create(null),!new I1().__proto__)S=!1}function g2(d,h,c){this.fn=d,this.context=h,this.once=c||!1}function r5(d,h,c,a,b){if(typeof c!=="function")throw new TypeError("The listener must be a function");var f=new g2(c,a||d,b),z=S?S+h:h;if(!d._events[z])d._events[z]=f,d._eventsCount++;else if(!d._events[z].fn)d._events[z].push(f);else d._events[z]=[d._events[z],f];return d}function Q0(d,h){if(--d._eventsCount===0)d._events=new I1;else delete d._events[h]}function k(){this._events=new I1,this._eventsCount=0}k.prototype.eventNames=function d(){var h=[],c,a;if(this._eventsCount===0)return h;for(a in c=this._events)if(k2.call(c,a))h.push(S?a.slice(1):a);if(Object.getOwnPropertySymbols)return h.concat(Object.getOwnPropertySymbols(c));return h};k.prototype.listeners=function d(h){var c=S?S+h:h,a=this._events[c];if(!a)return[];if(a.fn)return[a.fn];for(var b=0,f=a.length,z=new Array(f);b<f;b++)z[b]=a[b].fn;return z};k.prototype.listenerCount=function d(h){var c=S?S+h:h,a=this._events[c];if(!a)return 0;if(a.fn)return 1;return a.length};k.prototype.emit=function d(h,c,a,b,f,z){var i=S?S+h:h;if(!this._events[i])return!1;var m=this._events[i],s=arguments.length,t,V;if(m.fn){if(m.once)this.removeListener(h,m.fn,void 0,!0);switch(s){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,c),!0;case 3:return m.fn.call(m.context,c,a),!0;case 4:return m.fn.call(m.context,c,a,b),!0;case 5:return m.fn.call(m.context,c,a,b,f),!0;case 6:return m.fn.call(m.context,c,a,b,f,z),!0}for(V=1,t=new Array(s-1);V<s;V++)t[V-1]=arguments[V];m.fn.apply(m.context,t)}else{var X=m.length,w;for(V=0;V<X;V++){if(m[V].once)this.removeListener(h,m[V].fn,void 0,!0);switch(s){case 1:m[V].fn.call(m[V].context);break;case 2:m[V].fn.call(m[V].context,c);break;case 3:m[V].fn.call(m[V].context,c,a);break;case 4:m[V].fn.call(m[V].context,c,a,b);break;default:if(!t)for(w=1,t=new Array(s-1);w<s;w++)t[w-1]=arguments[w];m[V].fn.apply(m[V].context,t)}}}return!0};k.prototype.on=function d(h,c,a){return r5(this,h,c,a,!1)};k.prototype.once=function d(h,c,a){return r5(this,h,c,a,!0)};k.prototype.removeListener=function d(h,c,a,b){var f=S?S+h:h;if(!this._events[f])return this;if(!c)return Q0(this,f),this;var z=this._events[f];if(z.fn){if(z.fn===c&&(!b||z.once)&&(!a||z.context===a))Q0(this,f)}else{for(var i=0,m=[],s=z.length;i<s;i++)if(z[i].fn!==c||b&&!z[i].once||a&&z[i].context!==a)m.push(z[i]);if(m.length)this._events[f]=m.length===1?m[0]:m;else Q0(this,f)}return this};k.prototype.removeAllListeners=function d(h){var c;if(h){if(c=S?S+h:h,this._events[c])Q0(this,c)}else this._events=new I1,this._eventsCount=0;return this};k.prototype.off=k.prototype.removeListener;k.prototype.addListener=k.prototype.on;k.prefixed=S;k.EventEmitter=k;if(typeof gd!=="undefined")gd.exports=k});function S3(d,h,c){let a=[];return d.forEach((b)=>{if(typeof b!=="string")return a.push(b);return h[Symbol.split](b).forEach((f,z,i)=>{if(f!=="")a.push(f);if(z<i.length-1)a.push(c)})}),a}function Ph(d,h){let c=/\$/g,a="$$$$",b=[d];if(h==null)return b;for(let f of Object.keys(h))if(f!=="_"){let z=h[f];if(typeof z==="string")z=c[Symbol.replace](z,"$$$$");b=S3(b,new RegExp(`%\\{${f}\\}`,"g"),z)}return b}var I3=(d)=>{throw new Error(`missing string: ${d}`)};class X1{locale;constructor(d,{onMissingKey:h=I3}={}){if(this.locale={strings:{},pluralize(c){if(c===1)return 0;return 1}},Array.isArray(d))d.forEach(this.#h,this);else this.#h(d);this.#d=h}#d;#h(d){if(!d?.strings)return;let h=this.locale;Object.assign(this.locale,{strings:{...h.strings,...d.strings},pluralize:d.pluralize||h.pluralize})}translate(d,h){return this.translateArray(d,h).join("")}translateArray(d,h){let c=this.locale.strings[d];if(c==null)this.#d(d),c=d;if(typeof c==="object"){if(h&&typeof h.smart_count!=="undefined"){let b=this.locale.pluralize(h.smart_count);return Ph(c[b],h)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}if(typeof c!=="string")throw new Error("string was not a string");return Ph(c,h)}}class a1{uppy;opts;id;defaultLocale;i18n;i18nArray;type;VERSION;constructor(d,h){this.uppy=d,this.opts=h??{}}getPluginState(){let{plugins:d}=this.uppy.getState();return d?.[this.id]||{}}setPluginState(d){let{plugins:h}=this.uppy.getState();this.uppy.setState({plugins:{...h,[this.id]:{...h[this.id],...d}}})}setOptions(d){this.opts={...this.opts,...d},this.setPluginState(void 0),this.i18nInit()}i18nInit(){let d=new X1([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=d.translate.bind(d),this.i18nArray=d.translateArray.bind(d),this.setPluginState(void 0)}addTarget(d){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}install(){}uninstall(){}update(d){}afterUpdate(){}}function td(d){return d<10?`0${d}`:d.toString()}function O1(){let d=new Date,h=td(d.getHours()),c=td(d.getMinutes()),a=td(d.getSeconds());return`${h}:${c}:${a}`}var Eh={debug:()=>{},warn:()=>{},error:(...d)=>console.error(`[Uppy] [${O1()}]`,...d)},Th={debug:(...d)=>console.debug(`[Uppy] [${O1()}]`,...d),warn:(...d)=>console.warn(`[Uppy] [${O1()}]`,...d),error:(...d)=>console.error(`[Uppy] [${O1()}]`,...d)};function N1(d){if(typeof d!=="object"||d===null)return!1;if(!("nodeType"in d))return!1;return d.nodeType===Node.ELEMENT_NODE}function _3(d,h=document){if(typeof d==="string")return h.querySelector(d);if(N1(d))return d;return null}var i0=_3;function r3(d){while(d&&!d.dir)d=d.parentNode;return d?.dir}var m0=r3;var H1,$,eh,x3,m1,nh,dc,hc,cc,od,wd,Xd,v3,W1={},ac=[],P3=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Q1=Array.isArray;function d1(d,h){for(var c in h)d[c]=h[c];return d}function Ud(d){d&&d.parentNode&&d.parentNode.removeChild(d)}function G(d,h,c){var a,b,f,z={};for(f in h)f=="key"?a=h[f]:f=="ref"?b=h[f]:z[f]=h[f];if(arguments.length>2&&(z.children=arguments.length>3?H1.call(arguments,2):c),typeof d=="function"&&d.defaultProps!=null)for(f in d.defaultProps)z[f]===void 0&&(z[f]=d.defaultProps[f]);return F1(d,z,a,b,null)}function F1(d,h,c,a,b){var f={type:d,props:h,key:c,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:b==null?++eh:b,__i:-1,__u:0};return b==null&&$.vnode!=null&&$.vnode(f),f}function t0(){return{current:null}}function H(d){return d.children}function J(d,h){this.props=d,this.context=h}function o1(d,h){if(h==null)return d.__?o1(d.__,d.__i+1):null;for(var c;h<d.__k.length;h++)if((c=d.__k[h])!=null&&c.__e!=null)return c.__e;return typeof d.type=="function"?o1(d):null}function bc(d){var h,c;if((d=d.__)!=null&&d.__c!=null){for(d.__e=d.__c.base=null,h=0;h<d.__k.length;h++)if((c=d.__k[h])!=null&&c.__e!=null){d.__e=d.__c.base=c.__e;break}return bc(d)}}function jh(d){(!d.__d&&(d.__d=!0)&&m1.push(d)&&!V0.__r++||nh!=$.debounceRendering)&&((nh=$.debounceRendering)||dc)(V0)}function V0(){for(var d,h,c,a,b,f,z,i=1;m1.length;)m1.length>i&&m1.sort(hc),d=m1.shift(),i=m1.length,d.__d&&(c=void 0,b=(a=(h=d).__v).__e,f=[],z=[],h.__P&&((c=d1({},a)).__v=a.__v+1,$.vnode&&$.vnode(c),Md(h.__P,c,a,h.__n,h.__P.namespaceURI,32&a.__u?[b]:null,f,b==null?o1(a):b,!!(32&a.__u),z),c.__v=a.__v,c.__.__k[c.__i]=c,uc(f,c,z),c.__e!=b&&bc(c)));V0.__r=0}function fc(d,h,c,a,b,f,z,i,m,s,t){var V,X,w,O,Z,M,o,U=a&&a.__k||ac,y=h.length;for(m=E3(c,h,U,m,y),V=0;V<y;V++)(w=c.__k[V])!=null&&(X=w.__i==-1?W1:U[w.__i]||W1,w.__i=V,M=Md(d,w,X,b,f,z,i,m,s,t),O=w.__e,w.ref&&X.ref!=w.ref&&(X.ref&&Yd(X.ref,null,w),t.push(w.ref,w.__c||O,w)),Z==null&&O!=null&&(Z=O),(o=!!(4&w.__u))||X.__k===w.__k?m=zc(w,m,d,o):typeof w.type=="function"&&M!==void 0?m=M:O&&(m=O.nextSibling),w.__u&=-7);return c.__e=Z,m}function E3(d,h,c,a,b){var f,z,i,m,s,t=c.length,V=t,X=0;for(d.__k=new Array(b),f=0;f<b;f++)(z=h[f])!=null&&typeof z!="boolean"&&typeof z!="function"?(m=f+X,(z=d.__k[f]=typeof z=="string"||typeof z=="number"||typeof z=="bigint"||z.constructor==String?F1(null,z,null,null,null):Q1(z)?F1(H,{children:z},null,null,null):z.constructor==null&&z.__b>0?F1(z.type,z.props,z.key,z.ref?z.ref:null,z.__v):z).__=d,z.__b=d.__b+1,i=null,(s=z.__i=T3(z,c,m,V))!=-1&&(V--,(i=c[s])&&(i.__u|=2)),i==null||i.__v==null?(s==-1&&(b>t?X--:b<t&&X++),typeof z.type!="function"&&(z.__u|=4)):s!=m&&(s==m-1?X--:s==m+1?X++:(s>m?X--:X++,z.__u|=4))):d.__k[f]=null;if(V)for(f=0;f<t;f++)(i=c[f])!=null&&(2&i.__u)==0&&(i.__e==a&&(a=o1(i)),mc(i,i));return a}function zc(d,h,c,a){var b,f;if(typeof d.type=="function"){for(b=d.__k,f=0;b&&f<b.length;f++)b[f]&&(b[f].__=d,h=zc(b[f],h,c,a));return h}d.__e!=h&&(a&&(h&&d.type&&!h.parentNode&&(h=o1(d)),c.insertBefore(d.__e,h||null)),h=d.__e);do h=h&&h.nextSibling;while(h!=null&&h.nodeType==8);return h}function r(d,h){return h=h||[],d==null||typeof d=="boolean"||(Q1(d)?d.some(function(c){r(c,h)}):h.push(d)),h}function T3(d,h,c,a){var b,f,z,i=d.key,m=d.type,s=h[c],t=s!=null&&(2&s.__u)==0;if(s===null&&d.key==null||t&&i==s.key&&m==s.type)return c;if(a>(t?1:0)){for(b=c-1,f=c+1;b>=0||f<h.length;)if((s=h[z=b>=0?b--:f++])!=null&&(2&s.__u)==0&&i==s.key&&m==s.type)return z}return-1}function ph(d,h,c){h[0]=="-"?d.setProperty(h,c==null?"":c):d[h]=c==null?"":typeof c!="number"||P3.test(h)?c:c+"px"}function s0(d,h,c,a,b){var f,z;d:if(h=="style")if(typeof c=="string")d.style.cssText=c;else{if(typeof a=="string"&&(d.style.cssText=a=""),a)for(h in a)c&&h in c||ph(d.style,h,"");if(c)for(h in c)a&&c[h]==a[h]||ph(d.style,h,c[h])}else if(h[0]=="o"&&h[1]=="n")f=h!=(h=h.replace(cc,"$1")),z=h.toLowerCase(),h=z in d||h=="onFocusOut"||h=="onFocusIn"?z.slice(2):h.slice(2),d.l||(d.l={}),d.l[h+f]=c,c?a?c.u=a.u:(c.u=od,d.addEventListener(h,f?Xd:wd,f)):d.removeEventListener(h,f?Xd:wd,f);else{if(b=="http://www.w3.org/2000/svg")h=h.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(h!="width"&&h!="height"&&h!="href"&&h!="list"&&h!="form"&&h!="tabIndex"&&h!="download"&&h!="rowSpan"&&h!="colSpan"&&h!="role"&&h!="popover"&&h in d)try{d[h]=c==null?"":c;break d}catch(i){}typeof c=="function"||(c==null||c===!1&&h[4]!="-"?d.removeAttribute(h):d.setAttribute(h,h=="popover"&&c==1?"":c))}}function lh(d){return function(h){if(this.l){var c=this.l[h.type+d];if(h.t==null)h.t=od++;else if(h.t<c.u)return;return c($.event?$.event(h):h)}}}function Md(d,h,c,a,b,f,z,i,m,s){var t,V,X,w,O,Z,M,o,U,y,F,Y,A,L,q,_,l,C=h.type;if(h.constructor!=null)return null;128&c.__u&&(m=!!(32&c.__u),f=[i=h.__e=c.__e]),(t=$.__b)&&t(h);d:if(typeof C=="function")try{if(o=h.props,U="prototype"in C&&C.prototype.render,y=(t=C.contextType)&&a[t.__c],F=t?y?y.props.value:t.__:a,c.__c?M=(V=h.__c=c.__c).__=V.__E:(U?h.__c=V=new C(o,F):(h.__c=V=new J(o,F),V.constructor=C,V.render=j3),y&&y.sub(V),V.props=o,V.state||(V.state={}),V.context=F,V.__n=a,X=V.__d=!0,V.__h=[],V._sb=[]),U&&V.__s==null&&(V.__s=V.state),U&&C.getDerivedStateFromProps!=null&&(V.__s==V.state&&(V.__s=d1({},V.__s)),d1(V.__s,C.getDerivedStateFromProps(o,V.__s))),w=V.props,O=V.state,V.__v=h,X)U&&C.getDerivedStateFromProps==null&&V.componentWillMount!=null&&V.componentWillMount(),U&&V.componentDidMount!=null&&V.__h.push(V.componentDidMount);else{if(U&&C.getDerivedStateFromProps==null&&o!==w&&V.componentWillReceiveProps!=null&&V.componentWillReceiveProps(o,F),!V.__e&&V.shouldComponentUpdate!=null&&V.shouldComponentUpdate(o,V.__s,F)===!1||h.__v==c.__v){for(h.__v!=c.__v&&(V.props=o,V.state=V.__s,V.__d=!1),h.__e=c.__e,h.__k=c.__k,h.__k.some(function(e){e&&(e.__=h)}),Y=0;Y<V._sb.length;Y++)V.__h.push(V._sb[Y]);V._sb=[],V.__h.length&&z.push(V);break d}V.componentWillUpdate!=null&&V.componentWillUpdate(o,V.__s,F),U&&V.componentDidUpdate!=null&&V.__h.push(function(){V.componentDidUpdate(w,O,Z)})}if(V.context=F,V.props=o,V.__P=d,V.__e=!1,A=$.__r,L=0,U){for(V.state=V.__s,V.__d=!1,A&&A(h),t=V.render(V.props,V.state,V.context),q=0;q<V._sb.length;q++)V.__h.push(V._sb[q]);V._sb=[]}else do V.__d=!1,A&&A(h),t=V.render(V.props,V.state,V.context),V.state=V.__s;while(V.__d&&++L<25);V.state=V.__s,V.getChildContext!=null&&(a=d1(d1({},a),V.getChildContext())),U&&!X&&V.getSnapshotBeforeUpdate!=null&&(Z=V.getSnapshotBeforeUpdate(w,O)),_=t,t!=null&&t.type===H&&t.key==null&&(_=ic(t.props.children)),i=fc(d,Q1(_)?_:[_],h,c,a,b,f,z,i,m,s),V.base=h.__e,h.__u&=-161,V.__h.length&&z.push(V),M&&(V.__E=V.__=null)}catch(e){if(h.__v=null,m||f!=null)if(e.then){for(h.__u|=m?160:128;i&&i.nodeType==8&&i.nextSibling;)i=i.nextSibling;f[f.indexOf(i)]=null,h.__e=i}else{for(l=f.length;l--;)Ud(f[l]);Od(h)}else h.__e=c.__e,h.__k=c.__k,e.then||Od(h);$.__e(e,h,c)}else f==null&&h.__v==c.__v?(h.__k=c.__k,h.__e=c.__e):i=h.__e=n3(c.__e,h,c,a,b,f,z,m,s);return(t=$.diffed)&&t(h),128&h.__u?void 0:i}function Od(d){d&&d.__c&&(d.__c.__e=!0),d&&d.__k&&d.__k.forEach(Od)}function uc(d,h,c){for(var a=0;a<c.length;a++)Yd(c[a],c[++a],c[++a]);$.__c&&$.__c(h,d),d.some(function(b){try{d=b.__h,b.__h=[],d.some(function(f){f.call(b)})}catch(f){$.__e(f,b.__v)}})}function ic(d){return typeof d!="object"||d==null||d.__b&&d.__b>0?d:Q1(d)?d.map(ic):d1({},d)}function n3(d,h,c,a,b,f,z,i,m){var s,t,V,X,w,O,Z,M=c.props,o=h.props,U=h.type;if(U=="svg"?b="http://www.w3.org/2000/svg":U=="math"?b="http://www.w3.org/1998/Math/MathML":b||(b="http://www.w3.org/1999/xhtml"),f!=null){for(s=0;s<f.length;s++)if((w=f[s])&&"setAttribute"in w==!!U&&(U?w.localName==U:w.nodeType==3)){d=w,f[s]=null;break}}if(d==null){if(U==null)return document.createTextNode(o);d=document.createElementNS(b,U,o.is&&o),i&&($.__m&&$.__m(h,f),i=!1),f=null}if(U==null)M===o||i&&d.data==o||(d.data=o);else{if(f=f&&H1.call(d.childNodes),M=c.props||W1,!i&&f!=null)for(M={},s=0;s<d.attributes.length;s++)M[(w=d.attributes[s]).name]=w.value;for(s in M)if(w=M[s],s=="children");else if(s=="dangerouslySetInnerHTML")V=w;else if(!(s in o)){if(s=="value"&&"defaultValue"in o||s=="checked"&&"defaultChecked"in o)continue;s0(d,s,null,w,b)}for(s in o)w=o[s],s=="children"?X=w:s=="dangerouslySetInnerHTML"?t=w:s=="value"?O=w:s=="checked"?Z=w:i&&typeof w!="function"||M[s]===w||s0(d,s,w,M[s],b);if(t)i||V&&(t.__html==V.__html||t.__html==d.innerHTML)||(d.innerHTML=t.__html),h.__k=[];else if(V&&(d.innerHTML=""),fc(h.type=="template"?d.content:d,Q1(X)?X:[X],h,c,a,U=="foreignObject"?"http://www.w3.org/1999/xhtml":b,f,z,f?f[0]:c.__k&&o1(c,0),i,m),f!=null)for(s=f.length;s--;)Ud(f[s]);i||(s="value",U=="progress"&&O==null?d.removeAttribute("value"):O!=null&&(O!==d[s]||U=="progress"&&!O||U=="option"&&O!=M[s])&&s0(d,s,O,M[s],b),s="checked",Z!=null&&Z!=d[s]&&s0(d,s,Z,M[s],b))}return d}function Yd(d,h,c){try{if(typeof d=="function"){var a=typeof d.__u=="function";a&&d.__u(),a&&h==null||(d.__u=d(h))}else d.current=h}catch(b){$.__e(b,c)}}function mc(d,h,c){var a,b;if($.unmount&&$.unmount(d),(a=d.ref)&&(a.current&&a.current!=d.__e||Yd(a,null,h)),(a=d.__c)!=null){if(a.componentWillUnmount)try{a.componentWillUnmount()}catch(f){$.__e(f,h)}a.base=a.__P=null}if(a=d.__k)for(b=0;b<a.length;b++)a[b]&&mc(a[b],h,c||typeof d.type!="function");c||Ud(d.__e),d.__c=d.__=d.__e=void 0}function j3(d,h,c){return this.constructor(d,c)}function sc(d,h,c){var a,b,f,z;h==document&&(h=document.documentElement),$.__&&$.__(d,h),b=(a=typeof c=="function")?null:c&&c.__k||h.__k,f=[],z=[],Md(h,d=(!a&&c||h).__k=G(H,null,[d]),b||W1,W1,h.namespaceURI,!a&&c?[c]:b?null:h.firstChild?H1.call(h.childNodes):null,f,!a&&c?c:b?b.__e:h.firstChild,a,z),uc(f,d,z)}function J1(d,h,c){var a,b,f,z,i=d1({},d.props);for(f in d.type&&d.type.defaultProps&&(z=d.type.defaultProps),h)f=="key"?a=h[f]:f=="ref"?b=h[f]:i[f]=h[f]===void 0&&z!=null?z[f]:h[f];return arguments.length>2&&(i.children=arguments.length>3?H1.call(arguments,2):c),F1(d.type,i,a||d.key,b||d.ref,null)}H1=ac.slice,$={__e:function(d,h,c,a){for(var b,f,z;h=h.__;)if((b=h.__c)&&!b.__)try{if((f=b.constructor)&&f.getDerivedStateFromError!=null&&(b.setState(f.getDerivedStateFromError(d)),z=b.__d),b.componentDidCatch!=null&&(b.componentDidCatch(d,a||{}),z=b.__d),z)return b.__E=b}catch(i){d=i}throw d}},eh=0,x3=function(d){return d!=null&&d.constructor==null},J.prototype.setState=function(d,h){var c;c=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=d1({},this.state),typeof d=="function"&&(d=d(d1({},c),this.props)),d&&d1(c,d),d!=null&&this.__v&&(h&&this._sb.push(h),jh(this))},J.prototype.forceUpdate=function(d){this.__v&&(this.__e=!0,d&&this.__h.push(d),jh(this))},J.prototype.render=H,m1=[],dc=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,hc=function(d,h){return d.__v.__b-h.__v.__b},V0.__r=0,cc=/(PointerCapture)$|Capture$/i,od=0,wd=lh(!1),Xd=lh(!0),v3=0;var B1,B,Ad,Vc,K1=0,Yc=[],K=$,tc=K.__b,wc=K.__r,Xc=K.diffed,Oc=K.__c,oc=K.unmount,Uc=K.__;function Zd(d,h){K.__h&&K.__h(B,d,K1||h),K1=0;var c=B.__H||(B.__H={__:[],__h:[]});return d>=c.__.length&&c.__.push({}),c.__[d]}function E(d){return K1=1,Ac(Zc,d)}function Ac(d,h,c){var a=Zd(B1++,2);if(a.t=d,!a.__c&&(a.__=[c?c(h):Zc(void 0,h),function(i){var m=a.__N?a.__N[0]:a.__[0],s=a.t(m,i);m!==s&&(a.__N=[s,a.__[1]],a.__c.setState({}))}],a.__c=B,!B.__f)){var b=function(i,m,s){if(!a.__c.__H)return!0;var t=a.__c.__H.__.filter(function(X){return!!X.__c});if(t.every(function(X){return!X.__N}))return!f||f.call(this,i,m,s);var V=a.__c.props!==i;return t.forEach(function(X){if(X.__N){var w=X.__[0];X.__=X.__N,X.__N=void 0,w!==X.__[0]&&(V=!0)}}),f&&f.call(this,i,m,s)||V};B.__f=!0;var{shouldComponentUpdate:f,componentWillUpdate:z}=B;B.componentWillUpdate=function(i,m,s){if(this.__e){var t=f;f=void 0,b(i,m,s),f=t}z&&z.call(this,i,m,s)},B.shouldComponentUpdate=b}return a.__N||a.__}function n(d,h){var c=Zd(B1++,3);!K.__s&&$c(c.__H,h)&&(c.__=d,c.u=h,B.__H.__h.push(c))}function f1(d){return K1=5,z1(function(){return{current:d}},[])}function z1(d,h){var c=Zd(B1++,7);return $c(c.__H,h)&&(c.__=d(),c.__H=h,c.__h=d),c.__}function u1(d,h){return K1=8,z1(function(){return d},h)}function p3(){for(var d;d=Yc.shift();)if(d.__P&&d.__H)try{d.__H.__h.forEach(w0),d.__H.__h.forEach($d),d.__H.__h=[]}catch(h){d.__H.__h=[],K.__e(h,d.__v)}}K.__b=function(d){B=null,tc&&tc(d)},K.__=function(d,h){d&&h.__k&&h.__k.__m&&(d.__m=h.__k.__m),Uc&&Uc(d,h)},K.__r=function(d){wc&&wc(d),B1=0;var h=(B=d.__c).__H;h&&(Ad===B?(h.__h=[],B.__h=[],h.__.forEach(function(c){c.__N&&(c.__=c.__N),c.u=c.__N=void 0})):(h.__h.forEach(w0),h.__h.forEach($d),h.__h=[],B1=0)),Ad=B},K.diffed=function(d){Xc&&Xc(d);var h=d.__c;h&&h.__H&&(h.__H.__h.length&&(Yc.push(h)!==1&&Vc===K.requestAnimationFrame||((Vc=K.requestAnimationFrame)||l3)(p3)),h.__H.__.forEach(function(c){c.u&&(c.__H=c.u),c.u=void 0})),Ad=B=null},K.__c=function(d,h){h.some(function(c){try{c.__h.forEach(w0),c.__h=c.__h.filter(function(a){return!a.__||$d(a)})}catch(a){h.some(function(b){b.__h&&(b.__h=[])}),h=[],K.__e(a,c.__v)}}),Oc&&Oc(d,h)},K.unmount=function(d){oc&&oc(d);var h,c=d.__c;c&&c.__H&&(c.__H.__.forEach(function(a){try{w0(a)}catch(b){h=b}}),c.__H=void 0,h&&K.__e(h,c.__v))};var Mc=typeof requestAnimationFrame=="function";function l3(d){var h,c=function(){clearTimeout(a),Mc&&cancelAnimationFrame(h),setTimeout(d)},a=setTimeout(c,35);Mc&&(h=requestAnimationFrame(c))}function w0(d){var h=B,c=d.__c;typeof c=="function"&&(d.__c=void 0,c()),B=h}function $d(d){var h=B;d.__c=d.__(),B=h}function $c(d,h){return!d||d.length!==h.length||h.some(function(c,a){return c!==d[a]})}function Zc(d,h){return typeof h=="function"?h(d):h}function d4(d,h){for(var c in h)d[c]=h[c];return d}function Lc(d,h){for(var c in d)if(c!=="__source"&&!(c in h))return!0;for(var a in h)if(a!=="__source"&&d[a]!==h[a])return!0;return!1}function yc(d,h){this.props=d,this.context=h}(yc.prototype=new J).isPureReactComponent=!0,yc.prototype.shouldComponentUpdate=function(d,h){return Lc(this.props,d)||Lc(this.state,h)};var Gc=$.__b;$.__b=function(d){d.type&&d.type.__f&&d.ref&&(d.props.ref=d.ref,d.ref=null),Gc&&Gc(d)};var h4=$.__e;$.__e=function(d,h,c,a){if(d.then){for(var b,f=h;f=f.__;)if((b=f.__c)&&b.__c)return h.__e==null&&(h.__e=c.__e,h.__k=c.__k),b.__c(d,h)}h4(d,h,c,a)};var Nc=$.unmount;function Bc(d,h,c){return d&&(d.__c&&d.__c.__H&&(d.__c.__H.__.forEach(function(a){typeof a.__c=="function"&&a.__c()}),d.__c.__H=null),(d=d4({},d)).__c!=null&&(d.__c.__P===c&&(d.__c.__P=h),d.__c.__e=!0,d.__c=null),d.__k=d.__k&&d.__k.map(function(a){return Bc(a,h,c)})),d}function Kc(d,h,c){return d&&c&&(d.__v=null,d.__k=d.__k&&d.__k.map(function(a){return Kc(a,h,c)}),d.__c&&d.__c.__P===h&&(d.__e&&c.appendChild(d.__e),d.__c.__e=!0,d.__c.__P=c)),d}function Ld(){this.__u=0,this.o=null,this.__b=null}function Dc(d){var h=d.__.__c;return h&&h.__a&&h.__a(d)}function X0(){this.i=null,this.l=null}$.unmount=function(d){var h=d.__c;h&&h.__R&&h.__R(),h&&32&d.__u&&(d.type=null),Nc&&Nc(d)},(Ld.prototype=new J).__c=function(d,h){var c=h.__c,a=this;a.o==null&&(a.o=[]),a.o.push(c);var b=Dc(a.__v),f=!1,z=function(){f||(f=!0,c.__R=null,b?b(i):i())};c.__R=z;var i=function(){if(!--a.__u){if(a.state.__a){var m=a.state.__a;a.__v.__k[0]=Kc(m,m.__c.__P,m.__c.__O)}var s;for(a.setState({__a:a.__b=null});s=a.o.pop();)s.forceUpdate()}};a.__u++||32&h.__u||a.setState({__a:a.__b=a.__v.__k[0]}),d.then(z,z)},Ld.prototype.componentWillUnmount=function(){this.o=[]},Ld.prototype.render=function(d,h){if(this.__b){if(this.__v.__k){var c=document.createElement("div"),a=this.__v.__k[0].__c;this.__v.__k[0]=Bc(this.__b,c,a.__O=a.__P)}this.__b=null}var b=h.__a&&G(H,null,d.fallback);return b&&(b.__u&=-33),[G(H,null,h.__a?null:d.children),b]};var Fc=function(d,h,c){if(++c[1]===c[0]&&d.l.delete(h),d.props.revealOrder&&(d.props.revealOrder[0]!=="t"||!d.l.size))for(c=d.i;c;){for(;c.length>3;)c.pop()();if(c[1]<c[0])break;d.i=c=c[2]}};(X0.prototype=new J).__a=function(d){var h=this,c=Dc(h.__v),a=h.l.get(d);return a[0]++,function(b){var f=function(){h.props.revealOrder?(a.push(b),Fc(h,d,a)):b()};c?c(f):f()}},X0.prototype.render=function(d){this.i=null,this.l=new Map;var h=r(d.children);d.revealOrder&&d.revealOrder[0]==="b"&&h.reverse();for(var c=h.length;c--;)this.l.set(h[c],this.i=[1,0,this.i]);return d.children},X0.prototype.componentDidUpdate=X0.prototype.componentDidMount=function(){var d=this;this.l.forEach(function(h,c){Fc(d,c,h)})};var c4=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,a4=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,b4=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,f4=/[A-Z0-9]/g,z4=typeof document!="undefined",u4=function(d){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(d)};function yd(d,h,c){return h.__k==null&&(h.textContent=""),sc(d,h),typeof c=="function"&&c(),d?d.__c:null}J.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(d){Object.defineProperty(J.prototype,d,{configurable:!0,get:function(){return this["UNSAFE_"+d]},set:function(h){Object.defineProperty(this,d,{configurable:!0,writable:!0,value:h})}})});var Wc=$.event;function i4(){}function m4(){return this.cancelBubble}function s4(){return this.defaultPrevented}$.event=function(d){return Wc&&(d=Wc(d)),d.persist=i4,d.isPropagationStopped=m4,d.isDefaultPrevented=s4,d.nativeEvent=d};var qc,V4={enumerable:!1,configurable:!0,get:function(){return this.class}},Hc=$.vnode;$.vnode=function(d){typeof d.type=="string"&&function(h){var{props:c,type:a}=h,b={},f=a.indexOf("-")===-1;for(var z in c){var i=c[z];if(!(z==="value"&&("defaultValue"in c)&&i==null||z4&&z==="children"&&a==="noscript"||z==="class"||z==="className")){var m=z.toLowerCase();z==="defaultValue"&&"value"in c&&c.value==null?z="value":z==="download"&&i===!0?i="":m==="translate"&&i==="no"?i=!1:m[0]==="o"&&m[1]==="n"?m==="ondoubleclick"?z="ondblclick":m!=="onchange"||a!=="input"&&a!=="textarea"||u4(c.type)?m==="onfocus"?z="onfocusin":m==="onblur"?z="onfocusout":b4.test(z)&&(z=m):m=z="oninput":f&&a4.test(z)?z=z.replace(f4,"-$&").toLowerCase():i===null&&(i=void 0),m==="oninput"&&b[z=m]&&(z="oninputCapture"),b[z]=i}}a=="select"&&b.multiple&&Array.isArray(b.value)&&(b.value=r(c.children).forEach(function(s){s.props.selected=b.value.indexOf(s.props.value)!=-1})),a=="select"&&b.defaultValue!=null&&(b.value=r(c.children).forEach(function(s){s.props.selected=b.multiple?b.defaultValue.indexOf(s.props.value)!=-1:b.defaultValue==s.props.value})),c.class&&!c.className?(b.class=c.class,Object.defineProperty(b,"className",V4)):(c.className&&!c.class||c.class&&c.className)&&(b.class=b.className=c.className),h.props=b}(d),d.$$typeof=c4,Hc&&Hc(d)};var Qc=$.__r;$.__r=function(d){Qc&&Qc(d),qc=d.__c};var Jc=$.diffed;$.diffed=function(d){Jc&&Jc(d);var{props:h,__e:c}=d;c!=null&&d.type==="textarea"&&"value"in h&&h.value!==c.value&&(c.value=h.value==null?"":h.value),qc=null};function t4(d){let h=null,c;return(...a)=>{if(c=a,!h)h=Promise.resolve().then(()=>{return h=null,d(...c)});return h}}class O0 extends a1{#d;isTargetDOMEl;el;parent;title;getTargetPlugin(d){let h;if(typeof d?.addTarget==="function"){if(h=d,!(h instanceof O0))console.warn(new Error("The provided plugin is not an instance of UIPlugin. This is an indication of a bug with the way Uppy is bundled.",{cause:{targetPlugin:h,UIPlugin:O0}}))}else if(typeof d==="function"){let c=d;this.uppy.iteratePlugins((a)=>{if(a instanceof c)h=a})}return h}mount(d,h){let c=h.id,a=i0(d);if(a){this.isTargetDOMEl=!0;let z=document.createElement("div");if(z.classList.add("uppy-Root"),this.#d=t4((i)=>{if(!this.uppy.getPlugin(this.id))return;yd(this.render(i,z),z),this.afterUpdate()}),this.uppy.log(`Installing ${c} to a DOM element '${d}'`),this.opts.replaceTargetContent)a.innerHTML="";return yd(this.render(this.uppy.getState(),z),z),this.el=z,a.appendChild(z),z.dir=this.opts.direction||m0(z)||"ltr",this.onMount(),this.el}let b=this.getTargetPlugin(d);if(b)return this.uppy.log(`Installing ${c} to ${b.id}`),this.parent=b,this.el=b.addTarget(h),this.onMount(),this.el;this.uppy.log(`Not installing ${c}`);let f=`Invalid target option given to ${c}.`;if(typeof d==="function")f+=" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.";else f+="If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.";throw new Error(f)}render(d,h){throw new Error("Extend the render method to add your plugin to a DOM element")}update(d){if(this.el!=null)this.#d?.(d)}unmount(){if(this.isTargetDOMEl)this.el?.remove();this.onUnmount()}onMount(){}onUnmount(){}}var j=O0;var Cc={name:"@uppy/store-default",description:"The default simple object-based store for Uppy.",version:"4.3.2",license:"MIT",main:"lib/index.js",type:"module",scripts:{build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},keywords:["file uploader","uppy","uppy-store"],homepage:"https://uppy.io",bugs:{url:"https://github.com/transloadit/uppy/issues"},devDependencies:{jsdom:"^26.1.0",typescript:"^5.8.3",vitest:"^3.2.4"},repository:{type:"git",url:"git+https://github.com/transloadit/uppy.git"},files:["src","lib","dist","CHANGELOG.md"]};class Rc{static VERSION=Cc.version;state={};#d=new Set;getState(){return this.state}setState(d){let h={...this.state},c={...this.state,...d};this.state=c,this.#h(h,c,d)}subscribe(d){return this.#d.add(d),()=>{this.#d.delete(d)}}#h(...d){this.#d.forEach((h)=>{h(...d)})}}var kc=Rc;function s1(d){let h=d.lastIndexOf(".");if(h===-1||h===d.length-1)return{name:d,extension:void 0};return{name:d.slice(0,h),extension:d.slice(h+1)}}var Gd={__proto__:null,md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",msg:"application/vnd.ms-outlook",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};function D1(d){if(d.type)return d.type;let h=d.name?s1(d.name).extension?.toLowerCase():null;if(h&&h in Gd)return Gd[h];return"application/octet-stream"}function X4(d){return d.charCodeAt(0).toString(32)}function gc(d){let h="";return d.replace(/[^A-Z0-9]/gi,(c)=>{return h+=`-${X4(c)}`,"/"})+h}function Sc(d,h){let c=h||"uppy";if(typeof d.name==="string")c+=`-${gc(d.name.toLowerCase())}`;if(d.type!==void 0)c+=`-${d.type}`;if(d.meta&&typeof d.meta.relativePath==="string")c+=`-${gc(d.meta.relativePath.toLowerCase())}`;if(d.data.size!==void 0)c+=`-${d.data.size}`;if(d.data.lastModified!==void 0)c+=`-${d.data.lastModified}`;return c}function O4(d){if(!d.isRemote||!d.remote)return!1;return new Set(["box","dropbox","drive","facebook","unsplash"]).has(d.remote.provider)}function o0(d,h){if(O4(d))return d.id;let c=D1(d);return Sc({...d,type:c},h)}var B5=W(Y5(),1),K5=W($5(),1);var i2="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";var i1=(d=21)=>{let h="",c=d|0;while(c--)h+=i2[Math.random()*64|0];return h};var Z5={name:"@uppy/core",description:"Core module for the extensible JavaScript file upload widget with support for drag&drop, resumable uploads, previews, restrictions, file processing/encoding, remote providers like Instagram, Dropbox, Google Drive, S3 and more :dog:",version:"4.5.3",license:"MIT",main:"lib/index.js",style:"dist/style.min.css",type:"module",sideEffects:["*.css"],scripts:{build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},keywords:["file uploader","uppy","uppy-plugin"],homepage:"https://uppy.io",bugs:{url:"https://github.com/transloadit/uppy/issues"},repository:{type:"git",url:"git+https://github.com/transloadit/uppy.git"},files:["src","lib","dist","CHANGELOG.md"],dependencies:{"@transloadit/prettier-bytes":"^0.3.4","@uppy/store-default":"^4.3.2","@uppy/utils":"^6.2.2",lodash:"^4.17.21","mime-match":"^1.0.2","namespace-emitter":"^2.0.1",nanoid:"^5.0.9",preact:"^10.5.13"},devDependencies:{"@types/deep-freeze":"^0",cssnano:"^7.0.7","deep-freeze":"^0.0.1",jsdom:"^26.1.0",postcss:"^8.5.6","postcss-cli":"^11.0.1",sass:"^1.89.2",typescript:"^5.8.3",vitest:"^3.2.4"}};function Qd(d,h){if(h.name)return h.name;if(d.split("/")[0]==="image")return`${d.split("/")[0]}.${d.split("/")[1]}`;return"noname"}var L5={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},aggregateExceedsSize:"You selected %{size} of files, but maximum allowed size is %{sizeAllowed}",exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",noSearchResults:"Unfortunately, there are no results for this search",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",logIn:"Log in",pickFiles:"Pick files",pickPhotos:"Pick photos",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",loadedXFiles:"Loaded %{numFiles} files",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",resetSearch:"Reset search",emptyFolderAdded:"No files were added from empty folder",addedNumFiles:"Added %{numFiles} file(s)",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"},additionalRestrictionsFailed:"%{count} additional restrictions were not fulfilled",unnamed:"Unnamed",pleaseWait:"Please wait"}};var C1=W(M0(),1),Q5=W(H5(),1),J5={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]};class x extends Error{isUserFacing;file;constructor(d,h){super(d);if(this.isUserFacing=h?.isUserFacing??!0,h?.file)this.file=h.file}isRestriction=!0}class Jd{getI18n;getOpts;constructor(d,h){this.getI18n=h,this.getOpts=()=>{let c=d();if(c.restrictions?.allowedFileTypes!=null&&!Array.isArray(c.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return c}}validateAggregateRestrictions(d,h){let{maxTotalFileSize:c,maxNumberOfFiles:a}=this.getOpts().restrictions;if(a){if(d.filter((f)=>!f.isGhost).length+h.length>a)throw new x(`${this.getI18n()("youCanOnlyUploadX",{smart_count:a})}`)}if(c){let b=[...d,...h].reduce((f,z)=>f+(z.size??0),0);if(b>c)throw new x(this.getI18n()("aggregateExceedsSize",{sizeAllowed:C1.default(c),size:C1.default(b)}))}}validateSingleFile(d){let{maxFileSize:h,minFileSize:c,allowedFileTypes:a}=this.getOpts().restrictions;if(a){if(!a.some((f)=>{if(f.includes("/")){if(!d.type)return!1;return Q5.default(d.type.replace(/;.*?$/,""),f)}if(f[0]==="."&&d.extension)return d.extension.toLowerCase()===f.slice(1).toLowerCase();return!1})){let f=a.join(", ");throw new x(this.getI18n()("youCanOnlyUploadFileTypes",{types:f}),{file:d})}}if(h&&d.size!=null&&d.size>h)throw new x(this.getI18n()("exceedsSize",{size:C1.default(h),file:d.name??this.getI18n()("unnamed")}),{file:d});if(c&&d.size!=null&&d.size<c)throw new x(this.getI18n()("inferiorSize",{size:C1.default(c)}),{file:d})}validate(d,h){h.forEach((c)=>{this.validateSingleFile(c)}),this.validateAggregateRestrictions(d,h)}validateMinNumberOfFiles(d){let{minNumberOfFiles:h}=this.getOpts().restrictions;if(h&&Object.keys(d).length<h)throw new x(this.getI18n()("youHaveToAtLeastSelectX",{smart_count:h}))}getMissingRequiredMetaFields(d){let h=new x(this.getI18n()("missingRequiredMetaFieldOnFile",{fileName:d.name??this.getI18n()("unnamed")})),{requiredMetaFields:c}=this.getOpts().restrictions,a=[];for(let b of c)if(!Object.hasOwn(d.meta,b)||d.meta[b]==="")a.push(b);return{missingFields:a,error:h}}}function Bd(d){if(d==null&&typeof navigator!=="undefined")d=navigator.userAgent;if(!d)return!0;let h=/Edge\/(\d+\.\d+)/.exec(d);if(!h)return!0;let a=h[1].split(".",2),b=parseInt(a[0],10),f=parseInt(a[1],10);if(b<15||b===15&&f<15063)return!0;if(b>18||b===18&&f>=18218)return!0;return!1}var Y0={totalProgress:0,allowNewUpload:!0,error:null,recoveredState:null};class Kd{static VERSION=Z5.version;#d=Object.create(null);#h;#c;#a=K5.default();#f=new Set;#u=new Set;#z=new Set;defaultLocale;locale;opts;store;i18n;i18nArray;scheduledAutoProceed=null;wasOffline=!1;constructor(d){this.defaultLocale=L5;let h={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:J5,meta:{},onBeforeFileAdded:(a,b)=>!Object.hasOwn(b,a.id),onBeforeUpload:(a)=>a,store:new kc,logger:Eh,infoTimeout:5000},c={...h,...d};if(this.opts={...c,restrictions:{...h.restrictions,...d?.restrictions}},d?.logger&&d.debug)this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning");else if(d?.debug)this.opts.logger=Th;if(this.log(`Using Core v${Kd.VERSION}`),this.i18nInit(),this.store=this.opts.store,this.setState({...Y0,plugins:{},files:{},currentUploads:{},capabilities:{uploadProgress:Bd(),individualCancellation:!0,resumableUploads:!1},meta:{...this.opts.meta},info:[]}),this.#h=new Jd(()=>this.opts,()=>this.i18n),this.#c=this.store.subscribe((a,b,f)=>{this.emit("state-update",a,b,f),this.updateAll(b)}),this.opts.debug&&typeof window!=="undefined")window[this.opts.id]=this;this.#$()}emit(d,...h){this.#a.emit(d,...h)}on(d,h){return this.#a.on(d,h),this}once(d,h){return this.#a.once(d,h),this}off(d,h){return this.#a.off(d,h),this}updateAll(d){this.iteratePlugins((h)=>{h.update(d)})}setState(d){this.store.setState(d)}getState(){return this.store.getState()}patchFilesState(d){let h=this.getState().files;this.setState({files:{...h,...Object.fromEntries(Object.entries(d).map(([c,a])=>[c,{...h[c],...a}]))}})}setFileState(d,h){if(!this.getState().files[d])throw new Error(`Canâ€™t set state for ${d} (the file could have been removed)`);this.patchFilesState({[d]:h})}i18nInit(){let d=(c)=>this.log(`Missing i18n string: ${c}`,"error"),h=new X1([this.defaultLocale,this.opts.locale],{onMissingKey:d});this.i18n=h.translate.bind(h),this.i18nArray=h.translateArray.bind(h),this.locale=h.locale}setOptions(d){if(this.opts={...this.opts,...d,restrictions:{...this.opts.restrictions,...d?.restrictions}},d.meta)this.setMeta(d.meta);if(this.i18nInit(),d.locale)this.iteratePlugins((h)=>{h.setOptions(d)});this.setState(void 0)}resetProgress(){let d={percentage:0,bytesUploaded:!1,uploadComplete:!1,uploadStarted:null},h={...this.getState().files},c=Object.create(null);Object.keys(h).forEach((a)=>{c[a]={...h[a],progress:{...h[a].progress,...d},tus:void 0,transloadit:void 0}}),this.setState({files:c,...Y0})}clear(){let{capabilities:d,currentUploads:h}=this.getState();if(Object.keys(h).length>0&&!d.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");this.setState({...Y0,files:{}})}addPreProcessor(d){this.#f.add(d)}removePreProcessor(d){return this.#f.delete(d)}addPostProcessor(d){this.#z.add(d)}removePostProcessor(d){return this.#z.delete(d)}addUploader(d){this.#u.add(d)}removeUploader(d){return this.#u.delete(d)}setMeta(d){let h={...this.getState().meta,...d},c={...this.getState().files};Object.keys(c).forEach((a)=>{c[a]={...c[a],meta:{...c[a].meta,...d}}}),this.log("Adding metadata:"),this.log(d),this.setState({meta:h,files:c})}setFileMeta(d,h){let c={...this.getState().files};if(!c[d]){this.log(`Was trying to set metadata for a file that has been removed: ${d}`);return}let a={...c[d].meta,...h};c[d]={...c[d],meta:a},this.setState({files:c})}getFile(d){return this.getState().files[d]}getFiles(){let{files:d}=this.getState();return Object.values(d)}getFilesByIds(d){return d.map((h)=>this.getFile(h))}getObjectOfFilesPerState(){let{files:d,totalProgress:h,error:c}=this.getState(),a=Object.values(d),b=[],f=[],z=[],i=[],m=[],s=[],t=[],V=[],X=[];for(let w of a){let{progress:O}=w;if(!O.uploadComplete&&O.uploadStarted){if(b.push(w),!w.isPaused)V.push(w)}if(!O.uploadStarted)f.push(w);if(O.uploadStarted||O.preprocess||O.postprocess)z.push(w);if(O.uploadStarted)i.push(w);if(w.isPaused)m.push(w);if(O.uploadComplete)s.push(w);if(w.error)t.push(w);if(O.preprocess||O.postprocess)X.push(w)}return{newFiles:f,startedFiles:z,uploadStartedFiles:i,pausedFiles:m,completeFiles:s,erroredFiles:t,inProgressFiles:b,inProgressNotPausedFiles:V,processingFiles:X,isUploadStarted:i.length>0,isAllComplete:h===100&&s.length===a.length&&X.length===0,isAllErrored:!!c&&t.length===a.length,isAllPaused:b.length!==0&&m.length===b.length,isUploadInProgress:b.length>0,isSomeGhost:a.some((w)=>w.isGhost)}}#i(d){for(let f of d){if(f.isRestriction)this.emit("restriction-failed",f.file,f);else this.emit("error",f,f.file);this.log(f,"warning")}let h=d.filter((f)=>f.isUserFacing),c=4,a=h.slice(0,c),b=h.slice(c);if(a.forEach(({message:f,details:z=""})=>{this.info({message:f,details:z},"error",this.opts.infoTimeout)}),b.length>0)this.info({message:this.i18n("additionalRestrictionsFailed",{count:b.length})})}validateRestrictions(d,h=this.getFiles()){try{this.#h.validate(h,[d])}catch(c){return c}return null}validateSingleFile(d){try{this.#h.validateSingleFile(d)}catch(h){return h.message}return null}validateAggregateRestrictions(d){let h=this.getFiles();try{this.#h.validateAggregateRestrictions(h,d)}catch(c){return c.message}return null}#b(d){let{missingFields:h,error:c}=this.#h.getMissingRequiredMetaFields(d);if(h.length>0)return this.setFileState(d.id,{missingRequiredMetaFields:h,error:c.message}),this.log(c.message),this.emit("restriction-failed",d,c),!1;if(h.length===0&&d.missingRequiredMetaFields)this.setFileState(d.id,{missingRequiredMetaFields:[]});return!0}#w(d){let h=!0;for(let c of Object.values(d))if(!this.#b(c))h=!1;return h}#m(d){let{allowNewUpload:h}=this.getState();if(h===!1){let c=new x(this.i18n("noMoreFilesAllowed"),{file:d});throw this.#i([c]),c}}checkIfFileAlreadyExists(d){let{files:h}=this.getState();if(h[d]&&!h[d].isGhost)return!0;return!1}#t(d){let h=d instanceof File?{name:d.name,type:d.type,size:d.size,data:d}:d,c=D1(h),a=Qd(c,h),b=s1(a).extension,f=o0(h,this.getID()),z=h.meta||{};z.name=a,z.type=c;let i=Number.isFinite(h.data.size)?h.data.size:null;return{source:h.source||"",id:f,name:a,extension:b||"",meta:{...this.getState().meta,...z},type:c,data:h.data,progress:{percentage:0,bytesUploaded:!1,bytesTotal:i,uploadComplete:!1,uploadStarted:null},size:i,isGhost:!1,isRemote:h.isRemote||!1,remote:h.remote,preview:h.preview}}#s(){if(this.opts.autoProceed&&!this.scheduledAutoProceed)this.scheduledAutoProceed=setTimeout(()=>{this.scheduledAutoProceed=null,this.upload().catch((d)=>{if(!d.isRestriction)this.log(d.stack||d.message||d)})},4)}#V(d){let{files:h}=this.getState(),c={...h},a=[],b=[];for(let f of d)try{let z=this.#t(f),i=h[z.id]?.isGhost;if(i)z={...h[z.id],isGhost:!1,data:f.data},this.log(`Replaced the blob in the restored ghost file: ${z.name}, ${z.id}`);let m=this.opts.onBeforeFileAdded(z,c);if(h=this.getState().files,c={...h,...c},!m&&this.checkIfFileAlreadyExists(z.id))throw new x(this.i18n("noDuplicates",{fileName:z.name??this.i18n("unnamed")}),{file:f});if(m===!1&&!i)throw new x("Cannot add the file because onBeforeFileAdded returned false.",{isUserFacing:!1,file:f});else if(typeof m==="object"&&m!==null)z=m;this.#h.validateSingleFile(z),c[z.id]=z,a.push(z)}catch(z){b.push(z)}try{this.#h.validateAggregateRestrictions(Object.values(h),a)}catch(f){return b.push(f),{nextFilesState:h,validFilesToAdd:[],errors:b}}return{nextFilesState:c,validFilesToAdd:a,errors:b}}addFile(d){this.#m(d);let{nextFilesState:h,validFilesToAdd:c,errors:a}=this.#V([d]),b=a.filter((z)=>z.isRestriction);if(this.#i(b),a.length>0)throw a[0];this.setState({files:h});let[f]=c;return this.emit("file-added",f),this.emit("files-added",c),this.log(`Added file: ${f.name}, ${f.id}, mime type: ${f.type}`),this.#s(),f.id}addFiles(d){this.#m();let{nextFilesState:h,validFilesToAdd:c,errors:a}=this.#V(d),b=a.filter((z)=>z.isRestriction);this.#i(b);let f=a.filter((z)=>!z.isRestriction);if(f.length>0){let z=`Multiple errors occurred while adding files:
`;if(f.forEach((i)=>{z+=`
 * ${i.message}`}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:f.length}),details:z},"error",this.opts.infoTimeout),typeof AggregateError==="function")throw new AggregateError(f,z);else{let i=new Error(z);throw i.errors=f,i}}if(this.setState({files:h}),c.forEach((z)=>{this.emit("file-added",z)}),this.emit("files-added",c),c.length>5)this.log(`Added batch of ${c.length} files`);else Object.values(c).forEach((z)=>{this.log(`Added file: ${z.name}
 id: ${z.id}
 type: ${z.type}`)});if(c.length>0)this.#s()}removeFiles(d){let{files:h,currentUploads:c}=this.getState(),a={...h},b={...c},f=Object.create(null);d.forEach((s)=>{if(h[s])f[s]=h[s],delete a[s]});function z(s){return f[s]===void 0}Object.keys(b).forEach((s)=>{let t=c[s].fileIDs.filter(z);if(t.length===0){delete b[s];return}let{capabilities:V}=this.getState();if(t.length!==c[s].fileIDs.length&&!V.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");b[s]={...c[s],fileIDs:t}});let i={currentUploads:b,files:a};if(Object.keys(a).length===0)i.allowNewUpload=!0,i.error=null,i.recoveredState=null;this.setState(i),this.#Y();let m=Object.keys(f);if(m.forEach((s)=>{this.emit("file-removed",f[s])}),m.length>5)this.log(`Removed ${m.length} files`);else this.log(`Removed files: ${m.join(", ")}`)}removeFile(d){this.removeFiles([d])}pauseResume(d){if(!this.getState().capabilities.resumableUploads||this.getFile(d).progress.uploadComplete)return;let h=this.getFile(d),a=!h.isPaused;return this.setFileState(d,{isPaused:a}),this.emit("upload-pause",h,a),a}pauseAll(){let d={...this.getState().files};Object.keys(d).filter((c)=>{return!d[c].progress.uploadComplete&&d[c].progress.uploadStarted}).forEach((c)=>{let a={...d[c],isPaused:!0};d[c]=a}),this.setState({files:d}),this.emit("pause-all")}resumeAll(){let d={...this.getState().files};Object.keys(d).filter((c)=>{return!d[c].progress.uploadComplete&&d[c].progress.uploadStarted}).forEach((c)=>{let a={...d[c],isPaused:!1,error:null};d[c]=a}),this.setState({files:d}),this.emit("resume-all")}#o(){let{files:d}=this.getState();return Object.keys(d).filter((h)=>{let c=d[h];return c.error&&(!c.missingRequiredMetaFields||c.missingRequiredMetaFields.length===0)})}async#U(){let d=this.#o(),h={...this.getState().files};if(d.forEach((a)=>{h[a]={...h[a],isPaused:!1,error:null}}),this.setState({files:h,error:null}),this.emit("retry-all",this.getFilesByIds(d)),d.length===0)return{successful:[],failed:[]};let c=this.#O(d,{forceAllowNewUpload:!0});return this.#y(c)}async retryAll(){let d=await this.#U();return this.emit("complete",d),d}cancelAll(){this.emit("cancel-all");let{files:d}=this.getState(),h=Object.keys(d);if(h.length)this.removeFiles(h);this.setState(Y0)}retryUpload(d){this.setFileState(d,{error:null,isPaused:!1}),this.emit("upload-retry",this.getFile(d));let h=this.#O([d],{forceAllowNewUpload:!0});return this.#y(h)}logout(){this.iteratePlugins((d)=>{d.provider?.logout?.()})}#A=(d,h)=>{let c=d?this.getFile(d.id):void 0;if(d==null||!c){this.log(`Not setting progress for a file that has been removed: ${d?.id}`);return}if(c.progress.percentage===100){this.log(`Not setting progress for a file that has been already uploaded: ${d.id}`);return}let a={bytesTotal:h.bytesTotal,percentage:h.bytesTotal!=null&&Number.isFinite(h.bytesTotal)&&h.bytesTotal>0?Math.round(h.bytesUploaded/h.bytesTotal*100):void 0};if(c.progress.uploadStarted!=null)this.setFileState(d.id,{progress:{...c.progress,...a,bytesUploaded:h.bytesUploaded}});else this.setFileState(d.id,{progress:{...c.progress,...a}});this.#Y()};#L(){let d=this.#G(),h=null;if(d!=null){if(h=Math.round(d*100),h>100)h=100;else if(h<0)h=0}this.emit("progress",h??0),this.setState({totalProgress:h??0})}#Y=B5.default(()=>this.#L(),500,{leading:!0,trailing:!0});[Symbol.for("uppy test: updateTotalProgress")](){return this.#L()}#G(){let h=this.getFiles().filter((i)=>{return i.progress.uploadStarted||i.progress.preprocess||i.progress.postprocess});if(h.length===0)return 0;if(h.every((i)=>i.progress.uploadComplete))return 1;let c=(i)=>i.progress.bytesTotal!=null&&i.progress.bytesTotal!==0,a=h.filter(c),b=h.filter((i)=>!c(i));if(a.every((i)=>i.progress.uploadComplete)&&b.length>0&&!b.every((i)=>i.progress.uploadComplete))return null;let f=a.reduce((i,m)=>i+(m.progress.bytesTotal??0),0),z=a.reduce((i,m)=>i+(m.progress.bytesUploaded||0),0);return f===0?0:z/f}#$(){let d=(a,b,f)=>{let z=a.message||"Unknown error";if(a.details)z+=` ${a.details}`;if(this.setState({error:z}),b!=null&&b.id in this.getState().files)this.setFileState(b.id,{error:z,response:f})};this.on("error",d),this.on("upload-error",(a,b,f)=>{if(d(b,a,f),typeof b==="object"&&b.message){this.log(b.message,"error");let z=new Error(this.i18n("failedToUpload",{file:a?.name??""}));if(z.isUserFacing=!0,z.details=b.message,b.details)z.details+=` ${b.details}`;this.#i([z])}else this.#i([b])});let h=null;this.on("upload-stalled",(a,b)=>{let{message:f}=a,z=b.map((i)=>i.meta.name).join(", ");if(!h)this.info({message:f,details:z},"warning",this.opts.infoTimeout),h=setTimeout(()=>{h=null},this.opts.infoTimeout);this.log(`${f} ${z}`.trim(),"warning")}),this.on("upload",()=>{this.setState({error:null})});let c=(a)=>{let b=a.filter((z)=>{let i=z!=null&&this.getFile(z.id);if(!i)this.log(`Not setting progress for a file that has been removed: ${z?.id}`);return i}),f=Object.fromEntries(b.map((z)=>[z.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,bytesUploaded:0,bytesTotal:z.size}}]));this.patchFilesState(f)};if(this.on("upload-start",c),this.on("upload-progress",this.#A),this.on("upload-success",(a,b)=>{if(a==null||!this.getFile(a.id)){this.log(`Not setting progress for a file that has been removed: ${a?.id}`);return}let f=this.getFile(a.id).progress;if(this.setFileState(a.id,{progress:{...f,postprocess:this.#z.size>0?{mode:"indeterminate"}:void 0,uploadComplete:!0,percentage:100,bytesUploaded:f.bytesTotal},response:b,uploadURL:b.uploadURL,isPaused:!1}),a.size==null)this.setFileState(a.id,{size:b.bytesUploaded||f.bytesTotal});this.#Y()}),this.on("preprocess-progress",(a,b)=>{if(a==null||!this.getFile(a.id)){this.log(`Not setting progress for a file that has been removed: ${a?.id}`);return}this.setFileState(a.id,{progress:{...this.getFile(a.id).progress,preprocess:b}})}),this.on("preprocess-complete",(a)=>{if(a==null||!this.getFile(a.id)){this.log(`Not setting progress for a file that has been removed: ${a?.id}`);return}let b={...this.getState().files};b[a.id]={...b[a.id],progress:{...b[a.id].progress}},delete b[a.id].progress.preprocess,this.setState({files:b})}),this.on("postprocess-progress",(a,b)=>{if(a==null||!this.getFile(a.id)){this.log(`Not setting progress for a file that has been removed: ${a?.id}`);return}this.setFileState(a.id,{progress:{...this.getState().files[a.id].progress,postprocess:b}})}),this.on("postprocess-complete",(a)=>{if(a==null||!this.getFile(a.id)){this.log(`Not setting progress for a file that has been removed: ${a?.id}`);return}let b={...this.getState().files};b[a.id]={...b[a.id],progress:{...b[a.id].progress}},delete b[a.id].progress.postprocess,this.setState({files:b})}),this.on("restored",()=>{this.#Y()}),this.on("dashboard:file-edit-complete",(a)=>{if(a)this.#b(a)}),typeof window!=="undefined"&&window.addEventListener)window.addEventListener("online",this.#X),window.addEventListener("offline",this.#X),setTimeout(this.#X,3000)}updateOnlineStatus(){if(!(window.navigator.onLine??!0))this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0;else if(this.emit("is-online"),this.wasOffline)this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3000),this.wasOffline=!1}#X=this.updateOnlineStatus.bind(this);getID(){return this.opts.id}use(d,...h){if(typeof d!=="function")throw new TypeError(`Expected a plugin class, but got ${d===null?"null":typeof d}. Please verify that the plugin was imported and spelled correctly.`);let c=new d(this,...h),a=c.id;if(!a)throw new Error("Your plugin must have an id");if(!c.type)throw new Error("Your plugin must have a type");let b=this.getPlugin(a);if(b){let f=`Already found a plugin named '${b.id}'. Tried to use: '${a}'.
Uppy plugins must have unique \`id\` options.`;throw new Error(f)}if(d.VERSION)this.log(`Using ${a} v${d.VERSION}`);if(c.type in this.#d)this.#d[c.type].push(c);else this.#d[c.type]=[c];return c.install(),this.emit("plugin-added",c),this}getPlugin(d){for(let h of Object.values(this.#d)){let c=h.find((a)=>a.id===d);if(c!=null)return c}return}[Symbol.for("uppy test: getPlugins")](d){return this.#d[d]}iteratePlugins(d){Object.values(this.#d).flat(1).forEach(d)}removePlugin(d){if(this.log(`Removing plugin ${d.id}`),this.emit("plugin-remove",d),d.uninstall)d.uninstall();let h=this.#d[d.type],c=h.findIndex((f)=>f.id===d.id);if(c!==-1)h.splice(c,1);let b={plugins:{...this.getState().plugins,[d.id]:void 0}};this.setState(b)}destroy(){if(this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`),this.cancelAll(),this.#c(),this.iteratePlugins((d)=>{this.removePlugin(d)}),typeof window!=="undefined"&&window.removeEventListener)window.removeEventListener("online",this.#X),window.removeEventListener("offline",this.#X)}hideInfo(){let{info:d}=this.getState();this.setState({info:d.slice(1)}),this.emit("info-hidden")}info(d,h="info",c=3000){let a=typeof d==="object";this.setState({info:[...this.getState().info,{type:h,message:a?d.message:d,details:a?d.details:null}]}),setTimeout(()=>this.hideInfo(),c),this.emit("info-visible")}log(d,h){let{logger:c}=this.opts;switch(h){case"error":c.error(d);break;case"warning":c.warn(d);break;default:c.debug(d);break}}#Z=new Map;registerRequestClient(d,h){this.#Z.set(d,h)}getRequestClientForFile(d){if(!d.remote)throw new Error(`Tried to get RequestClient for a non-remote file ${d.id}`);let h=this.#Z.get(d.remote.requestClientId);if(h==null)throw new Error(`requestClientId "${d.remote.requestClientId}" not registered for file "${d.id}"`);return h}restore(d){if(this.log(`Core: attempting to restore upload "${d}"`),!this.getState().currentUploads[d])return this.#M(d),Promise.reject(new Error("Nonexistent upload"));return this.#y(d)}#O(d,h={}){let{forceAllowNewUpload:c=!1}=h,{allowNewUpload:a,currentUploads:b}=this.getState();if(!a&&!c)throw new Error("Cannot create a new upload: already uploading.");let f=i1();return this.emit("upload",f,this.getFilesByIds(d)),this.setState({allowNewUpload:this.opts.allowMultipleUploadBatches!==!1&&this.opts.allowMultipleUploads!==!1,currentUploads:{...b,[f]:{fileIDs:d,step:0,result:{}}}}),f}[Symbol.for("uppy test: createUpload")](...d){return this.#O(...d)}#N(d){let{currentUploads:h}=this.getState();return h[d]}addResultData(d,h){if(!this.#N(d)){this.log(`Not setting result for an upload that has been removed: ${d}`);return}let{currentUploads:c}=this.getState(),a={...c[d],result:{...c[d].result,...h}};this.setState({currentUploads:{...c,[d]:a}})}#M(d){let h={...this.getState().currentUploads};delete h[d],this.setState({currentUploads:h})}async#y(d){let h=()=>{let{currentUploads:f}=this.getState();return f[d]},c=h(),a=[...this.#f,...this.#u,...this.#z];try{for(let f=c.step||0;f<a.length;f++){if(!c)break;let z=a[f];this.setState({currentUploads:{...this.getState().currentUploads,[d]:{...c,step:f}}});let{fileIDs:i}=c;await z(i,d),c=h()}}catch(f){throw this.#M(d),f}if(c){c.fileIDs.forEach((m)=>{let s=this.getFile(m);if(s?.progress.postprocess)this.emit("postprocess-complete",s)});let f=c.fileIDs.map((m)=>this.getFile(m)),z=f.filter((m)=>!m.error),i=f.filter((m)=>m.error);this.addResultData(d,{successful:z,failed:i,uploadID:d}),c=h()}let b;if(c)b=c.result,this.#M(d);if(b==null)this.log(`Not setting result for an upload that has been removed: ${d}`),b={successful:[],failed:[],uploadID:d};return b}async upload(){if(!this.#d.uploader?.length)this.log("No uploader type plugins are used","warning");let{files:d}=this.getState();if(this.#o().length>0){let a=await this.#U();if(!(this.getFiles().filter((f)=>f.progress.uploadStarted==null).length>0))return this.emit("complete",a),a;({files:d}=this.getState())}let c=this.opts.onBeforeUpload(d);if(c===!1)return Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false"));if(c&&typeof c==="object")d=c,this.setState({files:d});return Promise.resolve().then(()=>this.#h.validateMinNumberOfFiles(d)).catch((a)=>{throw this.#i([a]),a}).then(()=>{if(!this.#w(d))throw new x(this.i18n("missingRequiredMetaField"))}).catch((a)=>{throw a}).then(async()=>{let{currentUploads:a}=this.getState(),b=Object.values(a).flatMap((m)=>m.fileIDs),f=[];Object.keys(d).forEach((m)=>{let s=this.getFile(m);if(!s.progress.uploadStarted&&b.indexOf(m)===-1)f.push(s.id)});let z=this.#O(f),i=await this.#y(z);return this.emit("complete",i),i}).catch((a)=>{throw this.emit("error",a),this.log(a,"error"),a})}}var Dd=Kd;var t2=0;function u(d,h,c,a,b,f){h||(h={});var z,i,m=h;if("ref"in m)for(i in m={},h)i=="ref"?z=h[i]:m[i]=h[i];var s={type:d,props:m,key:c,ref:z,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--t2,__i:-1,__u:0,__source:b,__self:f};if(typeof d=="function"&&(z=d.defaultProps))for(i in z)m[i]===void 0&&(m[i]=z[i]);return $.vnode&&$.vnode(s),s}var D5={name:"@uppy/informer",description:"A notification and error pop-up bar for Uppy.",version:"4.3.2",license:"MIT",main:"lib/index.js",style:"dist/style.min.css",type:"module",scripts:{build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build"},keywords:["file uploader","uppy","uppy-plugin","notification","bar","ui"],homepage:"https://uppy.io",bugs:{url:"https://github.com/transloadit/uppy/issues"},repository:{type:"git",url:"git+https://github.com/transloadit/uppy.git"},files:["src","lib","dist","CHANGELOG.md"],dependencies:{"@uppy/utils":"^6.2.2",preact:"^10.5.13"},peerDependencies:{"@uppy/core":"^4.5.2"},devDependencies:{cssnano:"^7.0.7",postcss:"^8.5.6","postcss-cli":"^11.0.1",sass:"^1.89.2",typescript:"^5.8.3"}};var q5=300;class A0 extends J{ref=t0();componentWillEnter(d){this.ref.current.style.opacity="1",this.ref.current.style.transform="none",setTimeout(d,q5)}componentWillLeave(d){this.ref.current.style.opacity="0",this.ref.current.style.transform="translateY(350%)",setTimeout(d,q5)}render(){let{children:d}=this.props;return u("div",{className:"uppy-Informer-animated",ref:this.ref,children:d})}}function X2(d,h){return Object.assign(d,h)}function O2(d,h){return d?.key??h}function o2(d,h){let c=d._ptgLinkedRefs||(d._ptgLinkedRefs={});return c[h]||(c[h]=(a)=>{d.refs[h]=a})}function R1(d){let h={};for(let c=0;c<d.length;c++)if(d[c]!=null){let a=O2(d[c],c.toString(36));h[a]=d[c]}return h}function U2(d,h){d=d||{},h=h||{};let c=(z)=>Object.hasOwn(h,z)?h[z]:d[z],a={},b=[];for(let z in d)if(Object.hasOwn(h,z)){if(b.length)a[z]=b,b=[]}else b.push(z);let f={};for(let z in h){if(Object.hasOwn(a,z))for(let i=0;i<a[z].length;i++){let m=a[z][i];f[a[z][i]]=c(m)}f[z]=c(z)}for(let z=0;z<b.length;z++)f[b[z]]=c(b[z]);return f}var M2=(d)=>d;class qd extends J{constructor(d,h){super(d,h);this.refs={},this.state={children:R1(r(r(this.props.children))||[])},this.performAppear=this.performAppear.bind(this),this.performEnter=this.performEnter.bind(this),this.performLeave=this.performLeave.bind(this)}componentWillMount(){this.currentlyTransitioningKeys={},this.keysToAbortLeave=[],this.keysToEnter=[],this.keysToLeave=[]}componentDidMount(){let d=this.state.children;for(let h in d)if(d[h])this.performAppear(h)}componentWillReceiveProps(d){let h=R1(r(d.children)||[]),c=this.state.children;this.setState((b)=>({children:U2(b.children,h)}));let a;for(a in h)if(Object.hasOwn(h,a)){let b=c&&Object.hasOwn(c,a);if(h[a]&&b&&this.currentlyTransitioningKeys[a])this.keysToEnter.push(a),this.keysToAbortLeave.push(a);else if(h[a]&&!b&&!this.currentlyTransitioningKeys[a])this.keysToEnter.push(a)}for(a in c)if(Object.hasOwn(c,a)){let b=h&&Object.hasOwn(h,a);if(c[a]&&!b&&!this.currentlyTransitioningKeys[a])this.keysToLeave.push(a)}}componentDidUpdate(){let{keysToEnter:d}=this;this.keysToEnter=[],d.forEach(this.performEnter);let{keysToLeave:h}=this;this.keysToLeave=[],h.forEach(this.performLeave)}_finishAbort(d){let h=this.keysToAbortLeave.indexOf(d);if(h!==-1)this.keysToAbortLeave.splice(h,1)}performAppear(d){this.currentlyTransitioningKeys[d]=!0;let h=this.refs[d];if(h?.componentWillAppear)h.componentWillAppear(this._handleDoneAppearing.bind(this,d));else this._handleDoneAppearing(d)}_handleDoneAppearing(d){let h=this.refs[d];if(h?.componentDidAppear)h.componentDidAppear();delete this.currentlyTransitioningKeys[d],this._finishAbort(d);let c=R1(r(this.props.children)||[]);if(!c||!Object.hasOwn(c,d))this.performLeave(d)}performEnter(d){this.currentlyTransitioningKeys[d]=!0;let h=this.refs[d];if(h?.componentWillEnter)h.componentWillEnter(this._handleDoneEntering.bind(this,d));else this._handleDoneEntering(d)}_handleDoneEntering(d){let h=this.refs[d];if(h?.componentDidEnter)h.componentDidEnter();delete this.currentlyTransitioningKeys[d],this._finishAbort(d);let c=R1(r(this.props.children)||[]);if(!c||!Object.hasOwn(c,d))this.performLeave(d)}performLeave(d){if(this.keysToAbortLeave.indexOf(d)!==-1)return;this.currentlyTransitioningKeys[d]=!0;let c=this.refs[d];if(c?.componentWillLeave)c.componentWillLeave(this._handleDoneLeaving.bind(this,d));else this._handleDoneLeaving(d)}_handleDoneLeaving(d){if(this.keysToAbortLeave.indexOf(d)!==-1)return;let c=this.refs[d];if(c?.componentDidLeave)c.componentDidLeave();delete this.currentlyTransitioningKeys[d];let a=R1(r(this.props.children)||[]);if(a&&Object.hasOwn(a,d))this.performEnter(d);else{let b=X2({},this.state.children);delete b[d],this.setState({children:b})}}render({childFactory:d,transitionLeave:h,transitionName:c,transitionAppear:a,transitionEnter:b,transitionLeaveTimeout:f,transitionEnterTimeout:z,transitionAppearTimeout:i,component:m,...s},{children:t}){let V=Object.entries(t).map(([X,w])=>{if(!w)return;let O=o2(this,X);return J1(d(w),{ref:O,key:X})}).filter(Boolean);return G(m,s,V)}}qd.defaultProps={component:"span",childFactory:M2};var C5=qd;class k1 extends j{static VERSION=D5.version;constructor(d,h){super(d,h);this.type="progressindicator",this.id=this.opts.id||"Informer",this.title="Informer"}render=(d)=>{return u("div",{className:"uppy uppy-Informer",children:u(C5,{children:d.info.map((h)=>u(A0,{children:u("p",{role:"alert",children:[h.message," ",h.details&&u("span",{"aria-label":h.details,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:()=>alert(`${h.message} 

 ${h.details}`),children:"?"})]})},h.message))})})};install(){let{target:d}=this.opts;if(d)this.mount(d,this)}}function Y2(){return u("svg",{width:"26",height:"26",viewBox:"0 0 26 26",xmlns:"http://www.w3.org/2000/svg",children:u("g",{fill:"none","fill-rule":"evenodd",children:[u("circle",{fill:"#FFF",cx:"13",cy:"13",r:"13"}),u("path",{d:"M21.64 13.205c0-.639-.057-1.252-.164-1.841H13v3.481h4.844a4.14 4.14 0 01-1.796 2.716v2.259h2.908c1.702-1.567 2.684-3.875 2.684-6.615z",fill:"#4285F4","fill-rule":"nonzero"}),u("path",{d:"M13 22c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H4.957v2.332A8.997 8.997 0 0013 22z",fill:"#34A853","fill-rule":"nonzero"}),u("path",{d:"M7.964 14.71A5.41 5.41 0 017.682 13c0-.593.102-1.17.282-1.71V8.958H4.957A8.996 8.996 0 004 13c0 1.452.348 2.827.957 4.042l3.007-2.332z",fill:"#FBBC05","fill-rule":"nonzero"}),u("path",{d:"M13 7.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C17.463 4.891 15.426 4 13 4a8.997 8.997 0 00-8.043 4.958l3.007 2.332C8.672 9.163 10.656 7.58 13 7.58z",fill:"#EA4335","fill-rule":"nonzero"}),u("path",{d:"M4 4h18v18H4z"})]})})}function A2({pluginName:d,i18n:h,onAuth:c}){let a=d==="Google Drive",b=u1((f)=>{f.preventDefault(),c()},[c]);return u("form",{onSubmit:b,children:a?u("button",{type:"submit",className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn uppy-Provider-btn-google","data-uppy-super-focusable":!0,children:[u(Y2,{}),h("signInWithGoogle")]}):u("button",{type:"submit",className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn","data-uppy-super-focusable":!0,children:h("authenticateWith",{pluginName:d})})})}var $2=({pluginName:d,i18n:h,onAuth:c})=>u(A2,{pluginName:d,i18n:h,onAuth:c});function $0({loading:d,pluginName:h,pluginIcon:c,i18n:a,handleAuth:b,renderForm:f=$2}){return u("div",{className:"uppy-Provider-auth",children:[u("div",{className:"uppy-Provider-authIcon",children:c()}),u("div",{className:"uppy-Provider-authTitle",children:a("authenticateWithTitle",{pluginName:h})}),f({pluginName:h,i18n:a,loading:d,onAuth:b})]})}function g1(d){return{...d,type:d.mimeType,extension:d.name?s1(d.name).extension:null}}var ha=W(g(),1);var L0={name:"@uppy/provider-views",description:"View library for Uppy remote provider plugins.",version:"4.5.3",license:"MIT",main:"lib/index.js",style:"dist/style.min.css",type:"module",scripts:{build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},keywords:["file uploader","uppy"],homepage:"https://uppy.io",bugs:{url:"https://github.com/transloadit/uppy/issues"},repository:{type:"git",url:"git+https://github.com/transloadit/uppy.git"},files:["src","lib","dist","CHANGELOG.md"],dependencies:{"@uppy/utils":"^6.2.2",classnames:"^2.2.6",nanoid:"^5.0.9","p-queue":"^8.0.0",preact:"^10.5.13"},devDependencies:{"@types/gapi":"^0.0.47","@types/google.accounts":"^0.0.14","@types/google.picker":"^0.0.42",cssnano:"^7.0.7",jsdom:"^26.1.0",postcss:"^8.5.6","postcss-cli":"^11.0.1",sass:"^1.89.2",typescript:"^5.8.3",vitest:"^3.2.4"},peerDependencies:{"@uppy/core":"^4.5.3"}};var L2={position:"relative",width:"100%",minHeight:"100%"},y2={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"};class R5 extends J{constructor(d){super(d);this.focusElement=null,this.state={offset:0,height:0}}componentDidMount(){this.resize(),window.addEventListener("resize",this.handleResize)}componentWillUpdate(){if(this.base.contains(document.activeElement))this.focusElement=document.activeElement}componentDidUpdate(){if(this.focusElement?.parentNode&&document.activeElement!==this.focusElement)this.focusElement.focus();this.focusElement=null,this.resize()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}handleScroll=()=>{this.setState({offset:this.base.scrollTop})};handleResize=()=>{this.resize()};resize(){let{height:d}=this.state;if(d!==this.base.offsetHeight)this.setState({height:this.base.offsetHeight})}render({data:d,rowHeight:h,renderRow:c,overscanCount:a=10,...b}){let{offset:f,height:z}=this.state,i=Math.floor(f/h),m=Math.floor(z/h);if(a)i=Math.max(0,i-i%a),m+=a;let s=i+m+4,t=d.slice(i,s),V={...L2,height:d.length*h},X={...y2,top:i*h};return u("div",{onScroll:this.handleScroll,...b,children:u("div",{role:"presentation",style:V,children:u("div",{role:"presentation",style:X,children:t.map(c)})})})}}var y0=R5;var k5=W(g(),1);function G2(){return u("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:11,height:14.5,viewBox:"0 0 44 58",children:u("path",{d:"M27.437.517a1 1 0 0 0-.094.03H4.25C2.037.548.217 2.368.217 4.58v48.405c0 2.212 1.82 4.03 4.03 4.03H39.03c2.21 0 4.03-1.818 4.03-4.03V15.61a1 1 0 0 0-.03-.28 1 1 0 0 0 0-.093 1 1 0 0 0-.03-.032 1 1 0 0 0 0-.03 1 1 0 0 0-.032-.063 1 1 0 0 0-.03-.063 1 1 0 0 0-.032 0 1 1 0 0 0-.03-.063 1 1 0 0 0-.032-.03 1 1 0 0 0-.03-.063 1 1 0 0 0-.063-.062l-14.593-14a1 1 0 0 0-.062-.062A1 1 0 0 0 28 .708a1 1 0 0 0-.374-.157 1 1 0 0 0-.156 0 1 1 0 0 0-.03-.03l-.003-.003zM4.25 2.547h22.218v9.97c0 2.21 1.82 4.03 4.03 4.03h10.564v36.438a2.02 2.02 0 0 1-2.032 2.032H4.25c-1.13 0-2.032-.9-2.032-2.032V4.58c0-1.13.902-2.032 2.03-2.032zm24.218 1.345l10.375 9.937.75.718H30.5c-1.13 0-2.032-.9-2.032-2.03V3.89z"})})}function N2(){return u("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",style:{minWidth:16,marginRight:3},viewBox:"0 0 276.157 276.157",children:u("path",{d:"M273.08 101.378c-3.3-4.65-8.86-7.32-15.254-7.32h-24.34V67.59c0-10.2-8.3-18.5-18.5-18.5h-85.322c-3.63 0-9.295-2.875-11.436-5.805l-6.386-8.735c-4.982-6.814-15.104-11.954-23.546-11.954H58.73c-9.292 0-18.638 6.608-21.737 15.372l-2.033 5.752c-.958 2.71-4.72 5.37-7.596 5.37H18.5C8.3 49.09 0 57.39 0 67.59v167.07c0 .886.16 1.73.443 2.52.152 3.306 1.18 6.424 3.053 9.064 3.3 4.652 8.86 7.32 15.255 7.32h188.487c11.395 0 23.27-8.425 27.035-19.18l40.677-116.188c2.11-6.035 1.43-12.164-1.87-16.816zM18.5 64.088h8.864c9.295 0 18.64-6.607 21.738-15.37l2.032-5.75c.96-2.712 4.722-5.373 7.597-5.373h29.565c3.63 0 9.295 2.876 11.437 5.806l6.386 8.735c4.982 6.815 15.104 11.954 23.546 11.954h85.322c1.898 0 3.5 1.602 3.5 3.5v26.47H69.34c-11.395 0-23.27 8.423-27.035 19.178L15 191.23V67.59c0-1.898 1.603-3.5 3.5-3.5zm242.29 49.15l-40.676 116.188c-1.674 4.78-7.812 9.135-12.877 9.135H18.75c-1.447 0-2.576-.372-3.02-.997-.442-.625-.422-1.814.057-3.18l40.677-116.19c1.674-4.78 7.812-9.134 12.877-9.134h188.487c1.448 0 2.577.372 3.02.997.443.625.423 1.814-.056 3.18z"})})}function F2(){return u("svg",{"aria-hidden":"true",focusable:"false",style:{width:16,marginRight:4},viewBox:"0 0 58 58",children:[u("path",{d:"M36.537 28.156l-11-7a1.005 1.005 0 0 0-1.02-.033C24.2 21.3 24 21.635 24 22v14a1 1 0 0 0 1.537.844l11-7a1.002 1.002 0 0 0 0-1.688zM26 34.18V23.82L34.137 29 26 34.18z"}),u("path",{d:"M57 6H1a1 1 0 0 0-1 1v44a1 1 0 0 0 1 1h56a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1zM10 28H2v-9h8v9zm-8 2h8v9H2v-9zm10 10V8h34v42H12V40zm44-12h-8v-9h8v9zm-8 2h8v9h-8v-9zm8-22v9h-8V8h8zM2 8h8v9H2V8zm0 42v-9h8v9H2zm54 0h-8v-9h8v9z"})]})}function U1({itemIconString:d,alt:h=void 0}){if(d===null)return null;switch(d){case"file":return u(G2,{});case"folder":return u(N2,{});case"video":return u(F2,{});default:return u("img",{src:d,alt:h,referrerPolicy:"no-referrer",loading:"lazy",width:16,height:16})}}function W2({file:d,toggleCheckbox:h,className:c,isDisabled:a,restrictionError:b,showTitles:f,children:z=null,i18n:i}){return u("li",{className:c,title:a&&b?b:void 0,children:[u("input",{type:"checkbox",className:"uppy-u-reset uppy-ProviderBrowserItem-checkbox uppy-ProviderBrowserItem-checkbox--grid",onChange:h,name:"listitem",id:d.id,checked:d.status==="checked",disabled:a,"data-uppy-super-focusable":!0}),u("label",{htmlFor:d.id,"aria-label":d.data.name??i("unnamed"),className:"uppy-u-reset uppy-ProviderBrowserItem-inner",children:[u(U1,{itemIconString:d.data.thumbnail||d.data.icon}),f&&(d.data.name??i("unnamed")),z]})]})}var Cd=W2;function Rd({file:d,openFolder:h,className:c,isDisabled:a,restrictionError:b,toggleCheckbox:f,showTitles:z,i18n:i}){return u("li",{className:c,title:d.status!=="checked"&&b?b:void 0,children:[u("input",{type:"checkbox",className:"uppy-u-reset uppy-ProviderBrowserItem-checkbox",onChange:f,name:"listitem",id:d.id,checked:d.status==="checked","aria-label":d.data.isFolder?i("allFilesFromFolderNamed",{name:d.data.name??i("unnamed")}):null,disabled:a,"data-uppy-super-focusable":!0}),d.data.isFolder?u("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-ProviderBrowserItem-inner",onClick:()=>h(d.id),"aria-label":i("openFolderNamed",{name:d.data.name??i("unnamed")}),children:[u("div",{className:"uppy-ProviderBrowserItem-iconWrap",children:u(U1,{itemIconString:d.data.icon})}),z&&d.data.name?u("span",{children:d.data.name}):i("unnamed")]}):u("label",{htmlFor:d.id,className:"uppy-u-reset uppy-ProviderBrowserItem-inner",children:[u("div",{className:"uppy-ProviderBrowserItem-iconWrap",children:u(U1,{itemIconString:d.data.icon})}),z&&(d.data.name??i("unnamed"))]})]})}function kd(d){let{viewType:h,toggleCheckbox:c,showTitles:a,i18n:b,openFolder:f,file:z,utmSource:i}=d,m=z.type==="folder"?null:z.restrictionError,s=!!m&&z.status!=="checked",t={file:z,openFolder:f,toggleCheckbox:c,utmSource:i,i18n:b,viewType:h,showTitles:a,className:k5.default("uppy-ProviderBrowserItem",{"uppy-ProviderBrowserItem--disabled":s},{"uppy-ProviderBrowserItem--noPreview":z.data.icon==="video"},{"uppy-ProviderBrowserItem--is-checked":z.status==="checked"},{"uppy-ProviderBrowserItem--is-partial":z.status==="partial"}),isDisabled:s,restrictionError:m};switch(h){case"grid":return u(Cd,{...t});case"list":return u(Rd,{...t});case"unsplash":return u(Cd,{...t,children:u("a",{href:`${z.data.author.url}?utm_source=${i}&utm_medium=referral`,target:"_blank",rel:"noopener noreferrer",className:"uppy-ProviderBrowserItem-author",tabIndex:-1,children:z.data.author.name})});default:throw new Error(`There is no such type ${h}`)}}function H2(d){let{displayedPartialTree:h,viewType:c,toggleCheckbox:a,handleScroll:b,showTitles:f,i18n:z,isLoading:i,openFolder:m,noResultsLabel:s,virtualList:t,utmSource:V}=d,[X,w]=E(!1);if(n(()=>{let Z=(o)=>{if(o.key==="Shift")w(!1)},M=(o)=>{if(o.key==="Shift")w(!0)};return document.addEventListener("keyup",Z),document.addEventListener("keydown",M),()=>{document.removeEventListener("keyup",Z),document.removeEventListener("keydown",M)}},[]),i)return u("div",{className:"uppy-Provider-loading",children:typeof i==="string"?i:z("loading")});if(h.length===0)return u("div",{className:"uppy-Provider-empty",children:s});let O=(Z)=>u(kd,{viewType:c,toggleCheckbox:(M)=>{M.stopPropagation(),M.preventDefault(),document.getSelection()?.removeAllRanges(),a(Z,X)},showTitles:f,i18n:z,openFolder:m,file:Z,utmSource:V},Z.id);if(t)return u("div",{className:"uppy-ProviderBrowser-body",children:u(y0,{className:"uppy-ProviderBrowser-list",data:h,renderRow:O,rowHeight:35.5})});return u("div",{className:"uppy-ProviderBrowser-body",children:u("ul",{className:"uppy-ProviderBrowser-list",onScroll:b,tabIndex:-1,children:h.map(O)})})}var G0=H2;var g5=W(g(),1);var Q2=(d)=>{return d.filter((c)=>{if(c.type==="file"&&c.status==="checked")return!0;if(c.type==="folder"&&c.status==="checked")return!d.some((b)=>b.type!=="root"&&b.parentId===c.id);return!1}).length},N0=Q2;function S1({cancelSelection:d,donePicking:h,i18n:c,partialTree:a,validateAggregateRestrictions:b}){let f=z1(()=>{return b(a)},[a,b]),z=z1(()=>{return N0(a)},[a]);if(z===0)return null;return u("div",{className:"uppy-ProviderBrowser-footer",children:[u("div",{className:"uppy-ProviderBrowser-footer-buttons",children:[u("button",{className:g5.default("uppy-u-reset uppy-c-btn uppy-c-btn-primary",{"uppy-c-btn--disabled":f}),disabled:!!f,onClick:h,type:"button",children:c("selectX",{smart_count:z})}),u("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link",onClick:d,type:"button",children:c("cancel")})]}),f&&u("div",{className:"uppy-ProviderBrowser-footer-error",children:f})]})}function J2({searchString:d,setSearchString:h,submitSearchString:c,wrapperClassName:a,inputClassName:b,inputLabel:f,clearSearchLabel:z="",showButton:i=!1,buttonLabel:m="",buttonCSSClassName:s=""}){let t=(w)=>{h(w.target.value)},V=u1((w)=>{w.preventDefault(),c()},[c]),[X]=E(()=>{let w=document.createElement("form");return w.setAttribute("tabindex","-1"),w.id=i1(),w});return n(()=>{return document.body.appendChild(X),X.addEventListener("submit",V),()=>{X.removeEventListener("submit",V),document.body.removeChild(X)}},[X,V]),u("section",{className:a,children:[u("input",{className:`uppy-u-reset ${b}`,type:"search","aria-label":f,placeholder:f,value:d,onInput:t,form:X.id,"data-uppy-super-focusable":!0}),!i&&u("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-ProviderBrowser-searchFilterIcon",width:"12",height:"12",viewBox:"0 0 12 12",children:u("path",{d:"M8.638 7.99l3.172 3.172a.492.492 0 1 1-.697.697L7.91 8.656a4.977 4.977 0 0 1-2.983.983C2.206 9.639 0 7.481 0 4.819 0 2.158 2.206 0 4.927 0c2.721 0 4.927 2.158 4.927 4.82a4.74 4.74 0 0 1-1.216 3.17zm-3.71.685c2.176 0 3.94-1.726 3.94-3.856 0-2.129-1.764-3.855-3.94-3.855C2.75.964.984 2.69.984 4.819c0 2.13 1.765 3.856 3.942 3.856z"})}),!i&&d&&u("button",{className:"uppy-u-reset uppy-ProviderBrowser-searchFilterReset",type:"button","aria-label":z,title:z,onClick:()=>h(""),children:u("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",viewBox:"0 0 19 19",children:u("path",{d:"M17.318 17.232L9.94 9.854 9.586 9.5l-.354.354-7.378 7.378h.707l-.62-.62v.706L9.318 9.94l.354-.354-.354-.354L1.94 1.854v.707l.62-.62h-.706l7.378 7.378.354.354.354-.354 7.378-7.378h-.707l.622.62v-.706L9.854 9.232l-.354.354.354.354 7.378 7.378.708-.707-7.38-7.378v.708l7.38-7.38.353-.353-.353-.353-.622-.622-.353-.353-.354.352-7.378 7.38h.708L2.56 1.23 2.208.88l-.353.353-.622.62-.353.355.352.353 7.38 7.38v-.708l-7.38 7.38-.353.353.352.353.622.622.353.353.354-.353 7.38-7.38h-.708l7.38 7.38z"})})}),i&&u("button",{className:`uppy-u-reset uppy-c-btn uppy-c-btn-primary ${s}`,type:"submit",form:X.id,children:m})]})}var M1=J2;var B2=(d,h,c)=>{return{id:d.id,source:h.id,name:d.name||d.id,type:d.mimeType,isRemote:!0,data:d,preview:d.thumbnail||void 0,meta:{authorName:d.author?.name,authorUrl:d.author?.url,relativePath:d.relDirPath||null,absolutePath:d.absDirPath},body:{fileId:d.id},remote:{companionUrl:h.opts.companionUrl,url:`${c.fileUrl(d.requestPath)}`,body:{fileId:d.id},providerName:c.name,provider:c.provider,requestClientId:c.provider}}},S5=B2;var K2=(d,h,c)=>{let a=d.map((z)=>S5(z,h,c)),b=[],f=[];if(a.forEach((z)=>{if(h.uppy.checkIfFileAlreadyExists(o0(z,h.uppy.getID())))f.push(z);else b.push(z)}),b.length>0)h.uppy.info(h.uppy.i18n("addedNumFiles",{numFiles:b.length}));if(f.length>0)h.uppy.info(`Not adding ${f.length} files because they already exist`);h.uppy.addFiles(b)},F0=K2;var D2=(d,h,c,a)=>{let b=h.findIndex((f)=>f.id===a);if(b!==-1&&c){let f=h.findIndex((i)=>i.id===d);return h.slice(Math.min(b,f),Math.max(b,f)+1).map((i)=>i.id)}return[d]},W0=D2;var q2=(d)=>(h)=>{if(h.isAuthError)return;if(h.name==="AbortError"){d.log("Aborting request","warning");return}if(d.log(h,"error"),h.name==="UserFacingApiError")d.info({message:d.i18n("companionError"),details:d.i18n(h.message)},"warning",5000)},b1=q2;var C2=(d,h)=>{let c=d.find((b)=>b.id===h),a=[];while(!0){if(a=[c,...a],c.type==="root")break;let b=c.parentId;c=d.find((f)=>f.id===b)}return a},I5=C2;var _5=(d,h,c)=>{let a=h===null?"null":h;if(c[a])return c[a];let b=d.find((z)=>z.id===h);if(b.type==="root")return[];let f=[..._5(d,b.parentId,c),b];return c[a]=f,f},R2=(d)=>{let h=Object.create(null);return d.filter((b)=>b.type==="file"&&b.status==="checked").map((b)=>{let f=_5(d,b.id,h),z=f.findIndex((t)=>t.type==="folder"&&t.status==="checked"),i=f.slice(z),m=`/${f.map((t)=>t.data.name).join("/")}`,s=i.length===1?void 0:i.map((t)=>t.data.name).join("/");return{...b.data,absDirPath:m,relDirPath:s}})},H0=R2;var Sd=W(x5(),1);class J0 extends Error{constructor(d){super(d);this.name="TimeoutError"}}class E5 extends Error{constructor(d){super();this.name="AbortError",this.message=d}}var v5=(d)=>globalThis.DOMException===void 0?new E5(d):new DOMException(d),P5=(d)=>{let h=d.reason===void 0?v5("This operation was aborted."):d.reason;return h instanceof Error?h:v5(h)};function Id(d,h){let{milliseconds:c,fallback:a,message:b,customTimers:f={setTimeout,clearTimeout}}=h,z,i,s=new Promise((t,V)=>{if(typeof c!=="number"||Math.sign(c)!==1)throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${c}\``);if(h.signal){let{signal:w}=h;if(w.aborted)V(P5(w));i=()=>{V(P5(w))},w.addEventListener("abort",i,{once:!0})}if(c===Number.POSITIVE_INFINITY){d.then(t,V);return}let X=new J0;z=f.setTimeout.call(void 0,()=>{if(a){try{t(a())}catch(w){V(w)}return}if(typeof d.cancel==="function")d.cancel();if(b===!1)t();else if(b instanceof Error)V(b);else X.message=b??`Promise timed out after ${c} milliseconds`,V(X)},c),(async()=>{try{t(await d)}catch(w){V(w)}})()}).finally(()=>{if(s.clear(),i&&h.signal)h.signal.removeEventListener("abort",i)});return s.clear=()=>{f.clearTimeout.call(void 0,z),z=void 0},s}function _d(d,h,c){let a=0,b=d.length;while(b>0){let f=Math.trunc(b/2),z=a+f;if(c(d[z],h)<=0)a=++z,b-=f+1;else b=f}return a}class B0{#d=[];enqueue(d,h){h={priority:0,...h};let c={priority:h.priority,id:h.id,run:d};if(this.size===0||this.#d[this.size-1].priority>=h.priority){this.#d.push(c);return}let a=_d(this.#d,c,(b,f)=>f.priority-b.priority);this.#d.splice(a,0,c)}setPriority(d,h){let c=this.#d.findIndex((b)=>b.id===d);if(c===-1)throw new ReferenceError(`No promise function with the id "${d}" exists in the queue.`);let[a]=this.#d.splice(c,1);this.enqueue(a.run,{priority:h,id:d})}dequeue(){return this.#d.shift()?.run}filter(d){return this.#d.filter((h)=>h.priority===d.priority).map((h)=>h.run)}get size(){return this.#d.length}}class K0 extends Sd.default{#d;#h;#c=0;#a;#f;#u=0;#z;#i;#b;#w;#m=0;#t;#s;#V;#o=1n;timeout;constructor(d){super();if(d={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:B0,...d},!(typeof d.intervalCap==="number"&&d.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${d.intervalCap?.toString()??""}\` (${typeof d.intervalCap})`);if(d.interval===void 0||!(Number.isFinite(d.interval)&&d.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${d.interval?.toString()??""}\` (${typeof d.interval})`);this.#d=d.carryoverConcurrencyCount,this.#h=d.intervalCap===Number.POSITIVE_INFINITY||d.interval===0,this.#a=d.intervalCap,this.#f=d.interval,this.#b=new d.queueClass,this.#w=d.queueClass,this.concurrency=d.concurrency,this.timeout=d.timeout,this.#V=d.throwOnTimeout===!0,this.#s=d.autoStart===!1}get#U(){return this.#h||this.#c<this.#a}get#A(){return this.#m<this.#t}#L(){this.#m--,this.#$(),this.emit("next")}#Y(){this.#Z(),this.#X(),this.#i=void 0}get#G(){let d=Date.now();if(this.#z===void 0){let h=this.#u-d;if(h<0)this.#c=this.#d?this.#m:0;else{if(this.#i===void 0)this.#i=setTimeout(()=>{this.#Y()},h);return!0}}return!1}#$(){if(this.#b.size===0){if(this.#z)clearInterval(this.#z);if(this.#z=void 0,this.emit("empty"),this.#m===0)this.emit("idle");return!1}if(!this.#s){let d=!this.#G;if(this.#U&&this.#A){let h=this.#b.dequeue();if(!h)return!1;if(this.emit("active"),h(),d)this.#X();return!0}}return!1}#X(){if(this.#h||this.#z!==void 0)return;this.#z=setInterval(()=>{this.#Z()},this.#f),this.#u=Date.now()+this.#f}#Z(){if(this.#c===0&&this.#m===0&&this.#z)clearInterval(this.#z),this.#z=void 0;this.#c=this.#d?this.#m:0,this.#O()}#O(){while(this.#$());}get concurrency(){return this.#t}set concurrency(d){if(!(typeof d==="number"&&d>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${d}\` (${typeof d})`);this.#t=d,this.#O()}async#N(d){return new Promise((h,c)=>{d.addEventListener("abort",()=>{c(d.reason)},{once:!0})})}setPriority(d,h){this.#b.setPriority(d,h)}async add(d,h={}){return h.id??=(this.#o++).toString(),h={timeout:this.timeout,throwOnTimeout:this.#V,...h},new Promise((c,a)=>{this.#b.enqueue(async()=>{this.#m++,this.#c++;try{h.signal?.throwIfAborted();let b=d({signal:h.signal});if(h.timeout)b=Id(Promise.resolve(b),{milliseconds:h.timeout});if(h.signal)b=Promise.race([b,this.#N(h.signal)]);let f=await b;c(f),this.emit("completed",f)}catch(b){if(b instanceof J0&&!h.throwOnTimeout){c();return}a(b),this.emit("error",b)}finally{this.#L()}},h),this.emit("add"),this.#$()})}async addAll(d,h){return Promise.all(d.map(async(c)=>this.add(c,h)))}start(){if(!this.#s)return this;return this.#s=!1,this.#O(),this}pause(){this.#s=!0}clear(){this.#b=new this.#w}async onEmpty(){if(this.#b.size===0)return;await this.#M("empty")}async onSizeLessThan(d){if(this.#b.size<d)return;await this.#M("next",()=>this.#b.size<d)}async onIdle(){if(this.#m===0&&this.#b.size===0)return;await this.#M("idle")}async#M(d,h){return new Promise((c)=>{let a=()=>{if(h&&!h())return;this.off(d,a),c()};this.on(d,a)})}get size(){return this.#b.size}sizeBy(d){return this.#b.filter(d).length}get pending(){return this.#m}get isPaused(){return this.#s}}var S2=(d)=>{return d.map((h)=>({...h}))},D0=S2;var T5=async(d,h,c,a,b)=>{let f=[],z=c.cached?c.nextPagePath:c.id;while(z){let V=await a(z);f=f.concat(V.items),z=V.nextPagePath}let i=f.filter((V)=>V.isFolder===!0),m=f.filter((V)=>V.isFolder===!1),s=i.map((V)=>({type:"folder",id:V.requestPath,cached:!1,nextPagePath:null,status:"checked",parentId:c.id,data:V})),t=m.map((V)=>{let X=b(V);return{type:"file",id:V.requestPath,restrictionError:X,status:X?"unchecked":"checked",parentId:c.id,data:V}});c.cached=!0,c.nextPagePath=null,h.push(...t,...s),s.forEach(async(V)=>{d.add(()=>T5(d,h,V,a,b))})},I2=async(d,h,c,a)=>{let b=new K0({concurrency:6}),f=D0(d);return f.filter((i)=>i.type==="folder"&&i.status==="checked"&&(i.cached===!1||i.nextPagePath)).forEach((i)=>{b.add(()=>T5(b,f,i,h,c))}),b.on("completed",()=>{let i=f.filter((m)=>m.type==="file"&&m.status==="checked").length;a(i)}),await b.onIdle(),f},n5=I2;var _2=(d,h,c,a,b)=>{let f=h.filter((w)=>w.isFolder===!0),z=h.filter((w)=>w.isFolder===!1),i=c.type==="folder"&&c.status==="checked",m=f.map((w)=>({type:"folder",id:w.requestPath,cached:!1,nextPagePath:null,status:i?"checked":"unchecked",parentId:c.id,data:w})),s=z.map((w)=>{let O=b(w);return{type:"file",id:w.requestPath,restrictionError:O,status:i&&!O?"checked":"unchecked",parentId:c.id,data:w}}),t={...c,cached:!0,nextPagePath:a};return[...d.map((w)=>w.id===t.id?t:w),...m,...s]},j5=_2;var r2=(d,h,c,a,b)=>{let f=d.find((O)=>O.id===h),z=c.filter((O)=>O.isFolder===!0),i=c.filter((O)=>O.isFolder===!1),m={...f,nextPagePath:a},s=d.map((O)=>O.id===m.id?m:O),t=m.type==="folder"&&m.status==="checked",V=z.map((O)=>({type:"folder",id:O.requestPath,cached:!1,nextPagePath:null,status:t?"checked":"unchecked",parentId:m.id,data:O})),X=i.map((O)=>{let Z=b(O);return{type:"file",id:O.requestPath,restrictionError:Z,status:t&&!Z?"checked":"unchecked",parentId:m.id,data:O}});return[...s,...V,...X]},p5=r2;var rd=(d,h,c)=>{d.filter((b)=>b.type!=="root"&&b.parentId===h).forEach((b)=>{b.status=c&&!(b.type==="file"&&b.restrictionError)?"checked":"unchecked",rd(d,b.id,c)})},xd=(d,h)=>{let c=d.find((z)=>z.id===h);if(c.type==="root")return;let a=d.filter((z)=>z.type!=="root"&&z.parentId===c.id&&!(z.type==="file"&&z.restrictionError)),b=a.every((z)=>z.status==="checked"),f=a.every((z)=>z.status==="unchecked");if(b)c.status="checked";else if(f)c.status="unchecked";else c.status="partial";xd(d,c.parentId)},x2=(d,h)=>{let c=D0(d);if(h.length>=2){let a=c.filter((b)=>b.type!=="root"&&h.includes(b.id));a.forEach((b)=>{if(b.type==="file")b.status=b.restrictionError?"unchecked":"checked";else b.status="checked"}),a.forEach((b)=>{rd(c,b.id,!0)}),xd(c,a[0].parentId)}else{let a=c.find((b)=>b.id===h[0]);a.status=a.status==="checked"?"unchecked":"checked",rd(c,a.id,a.status==="checked"),xd(c,a.parentId)}return c},l5=x2;var V1={afterOpenFolder:j5,afterScrollFolder:p5,afterToggleCheckbox:l5,afterFill:n5};var v2=(d)=>{let{scrollHeight:h,scrollTop:c,offsetHeight:a}=d.target;return h-(c+a)<50},q0=v2;var e5=W(g(),1);function vd(d){let{openFolder:h,title:c,breadcrumbsIcon:a,breadcrumbs:b,i18n:f}=d;return u("div",{className:"uppy-Provider-breadcrumbs",children:[u("div",{className:"uppy-Provider-breadcrumbsIcon",children:a}),b.map((z,i)=>u(H,{children:[u("button",{type:"button",className:"uppy-u-reset uppy-c-btn",onClick:()=>h(z.id),children:z.type==="root"?c:z.data.name??f("unnamed")},z.id),b.length===i+1?"":" / "]}))]})}function Pd({i18n:d,logout:h,username:c}){return u(H,{children:[c&&u("span",{className:"uppy-ProviderBrowser-user",children:c},"username"),u("button",{type:"button",onClick:h,className:"uppy-u-reset uppy-c-btn uppy-ProviderBrowser-userLogout",children:d("logOut")},"logout")]})}function Ed(d){return u("div",{className:"uppy-ProviderBrowser-header",children:u("div",{className:e5.default("uppy-ProviderBrowser-headerBar",!d.showBreadcrumbs&&"uppy-ProviderBrowser-headerBar--simple"),children:[d.showBreadcrumbs&&u(vd,{openFolder:d.openFolder,breadcrumbs:d.breadcrumbs,breadcrumbsIcon:d.pluginIcon?.(),title:d.title,i18n:d.i18n}),u(Pd,{logout:d.logout,username:d.username,i18n:d.i18n})]})})}function _1(){return u("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30",children:u("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"})})}var da=(d)=>({authenticated:void 0,partialTree:[{type:"root",id:d,cached:!1,nextPagePath:null}],currentFolderId:d,searchString:"",didFirstRender:!1,username:null,loading:!1});class C0{static VERSION=L0.version;plugin;provider;opts;isHandlingScroll=!1;lastCheckbox=null;constructor(d,h){this.plugin=d,this.provider=h.provider;let c={viewType:"list",showTitles:!0,showFilter:!0,showBreadcrumbs:!0,loadAllFiles:!1,virtualList:!1};this.opts={...c,...h},this.openFolder=this.openFolder.bind(this),this.logout=this.logout.bind(this),this.handleAuth=this.handleAuth.bind(this),this.handleScroll=this.handleScroll.bind(this),this.resetPluginState=this.resetPluginState.bind(this),this.donePicking=this.donePicking.bind(this),this.render=this.render.bind(this),this.cancelSelection=this.cancelSelection.bind(this),this.toggleCheckbox=this.toggleCheckbox.bind(this),this.resetPluginState(),this.plugin.uppy.on("dashboard:close-panel",this.resetPluginState),this.plugin.uppy.registerRequestClient(this.provider.provider,this.provider)}resetPluginState(){this.plugin.setPluginState(da(this.plugin.rootFolderId))}tearDown(){}setLoading(d){this.plugin.setPluginState({loading:d})}cancelSelection(){let{partialTree:d}=this.plugin.getPluginState(),h=d.map((c)=>c.type==="root"?c:{...c,status:"unchecked"});this.plugin.setPluginState({partialTree:h})}#d;async#h(d){this.#d?.abort();let h=new AbortController;this.#d=h;let c=()=>{h.abort()};try{this.plugin.uppy.on("dashboard:close-panel",c),this.plugin.uppy.on("cancel-all",c),await d(h.signal)}finally{this.plugin.uppy.off("dashboard:close-panel",c),this.plugin.uppy.off("cancel-all",c),this.#d=void 0}}async openFolder(d){this.lastCheckbox=null;let{partialTree:h}=this.plugin.getPluginState(),c=h.find((a)=>a.id===d);if(c.cached){this.plugin.setPluginState({currentFolderId:d,searchString:""});return}this.setLoading(!0),await this.#h(async(a)=>{let b=d,f=[];do{let{username:i,nextPagePath:m,items:s}=await this.provider.list(b,{signal:a});this.plugin.setPluginState({username:i}),b=m,f=f.concat(s),this.setLoading(this.plugin.uppy.i18n("loadedXFiles",{numFiles:f.length}))}while(this.opts.loadAllFiles&&b);let z=V1.afterOpenFolder(h,f,c,b,this.validateSingleFile);this.plugin.setPluginState({partialTree:z,currentFolderId:d,searchString:""})}).catch(b1(this.plugin.uppy)),this.setLoading(!1)}async logout(){await this.#h(async(d)=>{let h=await this.provider.logout({signal:d});if(h.ok){if(!h.revoked){let c=this.plugin.uppy.i18n("companionUnauthorizeHint",{provider:this.plugin.title,url:h.manual_revoke_url});this.plugin.uppy.info(c,"info",7000)}this.plugin.setPluginState({...da(this.plugin.rootFolderId),authenticated:!1})}}).catch(b1(this.plugin.uppy))}async handleAuth(d){await this.#h(async(h)=>{this.setLoading(!0),await this.provider.login({authFormData:d,signal:h}),this.plugin.setPluginState({authenticated:!0}),await Promise.all([this.provider.fetchPreAuthToken(),this.openFolder(this.plugin.rootFolderId)])}).catch(b1(this.plugin.uppy)),this.setLoading(!1)}async handleScroll(d){let{partialTree:h,currentFolderId:c}=this.plugin.getPluginState(),a=h.find((b)=>b.id===c);if(q0(d)&&!this.isHandlingScroll&&a.nextPagePath)this.isHandlingScroll=!0,await this.#h(async(b)=>{let{nextPagePath:f,items:z}=await this.provider.list(a.nextPagePath,{signal:b}),i=V1.afterScrollFolder(h,c,z,f,this.validateSingleFile);this.plugin.setPluginState({partialTree:i})}).catch(b1(this.plugin.uppy)),this.isHandlingScroll=!1}validateSingleFile=(d)=>{let h=g1(d);return this.plugin.uppy.validateSingleFile(h)};async donePicking(){let{partialTree:d}=this.plugin.getPluginState();this.setLoading(!0),await this.#h(async(h)=>{let c=await V1.afterFill(d,(f)=>this.provider.list(f,{signal:h}),this.validateSingleFile,(f)=>{this.setLoading(this.plugin.uppy.i18n("addedNumFiles",{numFiles:f}))});if(this.validateAggregateRestrictions(c)){this.plugin.setPluginState({partialTree:c});return}let b=H0(c);F0(b,this.plugin,this.provider),this.resetPluginState()}).catch(b1(this.plugin.uppy)),this.setLoading(!1)}toggleCheckbox(d,h){let{partialTree:c}=this.plugin.getPluginState(),a=W0(d.id,this.getDisplayedPartialTree(),h,this.lastCheckbox),b=V1.afterToggleCheckbox(c,a);this.plugin.setPluginState({partialTree:b}),this.lastCheckbox=d.id}getDisplayedPartialTree=()=>{let{partialTree:d,currentFolderId:h,searchString:c}=this.plugin.getPluginState(),a=d.filter((f)=>f.type!=="root"&&f.parentId===h);return c===""?a:a.filter((f)=>(f.data.name??this.plugin.uppy.i18n("unnamed")).toLowerCase().indexOf(c.toLowerCase())!==-1)};getBreadcrumbs=()=>{let{partialTree:d,currentFolderId:h}=this.plugin.getPluginState();return I5(d,h)};getSelectedAmount=()=>{let{partialTree:d}=this.plugin.getPluginState();return N0(d)};validateAggregateRestrictions=(d)=>{let c=d.filter((a)=>a.type==="file"&&a.status==="checked").map((a)=>a.data);return this.plugin.uppy.validateAggregateRestrictions(c)};render(d,h={}){let{didFirstRender:c}=this.plugin.getPluginState(),{i18n:a}=this.plugin.uppy;if(!c)this.plugin.setPluginState({didFirstRender:!0}),this.provider.fetchPreAuthToken(),this.openFolder(this.plugin.rootFolderId);let b={...this.opts,...h},{authenticated:f,loading:z}=this.plugin.getPluginState(),i=this.plugin.icon||_1;if(f===!1)return u($0,{pluginName:this.plugin.title,pluginIcon:i,handleAuth:this.handleAuth,i18n:this.plugin.uppy.i18n,renderForm:b.renderAuthForm,loading:z});let{partialTree:m,username:s,searchString:t}=this.plugin.getPluginState(),V=this.getBreadcrumbs();return u("div",{className:ha.default("uppy-ProviderBrowser",`uppy-ProviderBrowser-viewType--${b.viewType}`),children:[u(Ed,{showBreadcrumbs:b.showBreadcrumbs,openFolder:this.openFolder,breadcrumbs:V,pluginIcon:i,title:this.plugin.title,logout:this.logout,username:s,i18n:a}),b.showFilter&&u(M1,{searchString:t,setSearchString:(X)=>{this.plugin.setPluginState({searchString:X})},submitSearchString:()=>{},inputLabel:a("filter"),clearSearchLabel:a("resetFilter"),wrapperClassName:"uppy-ProviderBrowser-searchFilter",inputClassName:"uppy-ProviderBrowser-searchFilterInput"}),u(G0,{toggleCheckbox:this.toggleCheckbox,displayedPartialTree:this.getDisplayedPartialTree(),openFolder:this.openFolder,virtualList:b.virtualList,noResultsLabel:a("noFilesFound"),handleScroll:this.handleScroll,viewType:b.viewType,showTitles:b.showTitles,i18n:this.plugin.uppy.i18n,isLoading:z,utmSource:"Companion"}),u(S1,{partialTree:m,donePicking:this.donePicking,cancelSelection:this.cancelSelection,i18n:a,validateAggregateRestrictions:this.validateAggregateRestrictions})]})}}var ca=W(g(),1);var P2={loading:!1,searchString:"",partialTree:[{type:"root",id:null,cached:!1,nextPagePath:null}],currentFolderId:null,isInputMode:!0},E2={viewType:"grid",showTitles:!0,showFilter:!0,utmSource:"Companion"};class R0{static VERSION=L0.version;plugin;provider;opts;isHandlingScroll=!1;lastCheckbox=null;constructor(d,h){this.plugin=d,this.provider=h.provider,this.opts={...E2,...h},this.setSearchString=this.setSearchString.bind(this),this.search=this.search.bind(this),this.resetPluginState=this.resetPluginState.bind(this),this.handleScroll=this.handleScroll.bind(this),this.donePicking=this.donePicking.bind(this),this.cancelSelection=this.cancelSelection.bind(this),this.toggleCheckbox=this.toggleCheckbox.bind(this),this.render=this.render.bind(this),this.resetPluginState(),this.plugin.uppy.on("dashboard:close-panel",this.resetPluginState),this.plugin.uppy.registerRequestClient(this.provider.provider,this.provider)}tearDown(){}setLoading(d){this.plugin.setPluginState({loading:d})}resetPluginState(){this.plugin.setPluginState(P2)}cancelSelection(){let{partialTree:d}=this.plugin.getPluginState(),h=d.map((c)=>c.type==="root"?c:{...c,status:"unchecked"});this.plugin.setPluginState({partialTree:h})}async search(){let{searchString:d}=this.plugin.getPluginState();if(d==="")return;this.setLoading(!0);try{let h=await this.provider.search(d),c=[{type:"root",id:null,cached:!1,nextPagePath:h.nextPageQuery},...h.items.map((a)=>({type:"file",id:a.requestPath,status:"unchecked",parentId:null,data:a}))];this.plugin.setPluginState({partialTree:c,isInputMode:!1})}catch(h){b1(this.plugin.uppy)(h)}this.setLoading(!1)}async handleScroll(d){let{partialTree:h,searchString:c}=this.plugin.getPluginState(),a=h.find((b)=>b.type==="root");if(q0(d)&&!this.isHandlingScroll&&a.nextPagePath){this.isHandlingScroll=!0;try{let b=await this.provider.search(c,a.nextPagePath),f={...a,nextPagePath:b.nextPageQuery},z=h.filter((m)=>m.type!=="root"),i=[f,...z,...b.items.map((m)=>({type:"file",id:m.requestPath,status:"unchecked",parentId:null,data:m}))];this.plugin.setPluginState({partialTree:i})}catch(b){b1(this.plugin.uppy)(b)}this.isHandlingScroll=!1}}async donePicking(){let{partialTree:d}=this.plugin.getPluginState(),h=H0(d);F0(h,this.plugin,this.provider),this.resetPluginState()}toggleCheckbox(d,h){let{partialTree:c}=this.plugin.getPluginState(),a=W0(d.id,this.getDisplayedPartialTree(),h,this.lastCheckbox),b=V1.afterToggleCheckbox(c,a);this.plugin.setPluginState({partialTree:b}),this.lastCheckbox=d.id}validateSingleFile=(d)=>{let h=g1(d);return this.plugin.uppy.validateSingleFile(h)};getDisplayedPartialTree=()=>{let{partialTree:d}=this.plugin.getPluginState();return d.filter((h)=>h.type!=="root")};setSearchString=(d)=>{if(this.plugin.setPluginState({searchString:d}),d==="")this.plugin.setPluginState({partialTree:[]})};validateAggregateRestrictions=(d)=>{let c=d.filter((a)=>a.type==="file"&&a.status==="checked").map((a)=>a.data);return this.plugin.uppy.validateAggregateRestrictions(c)};render(d,h={}){let{isInputMode:c,searchString:a,loading:b,partialTree:f}=this.plugin.getPluginState(),{i18n:z}=this.plugin.uppy,i={...this.opts,...h};if(c)return u(M1,{searchString:a,setSearchString:this.setSearchString,submitSearchString:this.search,inputLabel:z("enterTextToSearch"),buttonLabel:z("searchImages"),wrapperClassName:"uppy-SearchProvider",inputClassName:"uppy-c-textInput uppy-SearchProvider-input",showButton:!0,buttonCSSClassName:"uppy-SearchProvider-searchButton"});return u("div",{className:ca.default("uppy-ProviderBrowser",`uppy-ProviderBrowser-viewType--${i.viewType}`),children:[i.showFilter&&u(M1,{searchString:a,setSearchString:this.setSearchString,submitSearchString:this.search,inputLabel:z("search"),clearSearchLabel:z("resetSearch"),wrapperClassName:"uppy-ProviderBrowser-searchFilter",inputClassName:"uppy-ProviderBrowser-searchFilterInput"}),u(G0,{toggleCheckbox:this.toggleCheckbox,displayedPartialTree:this.getDisplayedPartialTree(),handleScroll:this.handleScroll,openFolder:async()=>{},noResultsLabel:z("noSearchResults"),viewType:i.viewType,showTitles:i.showTitles,isLoading:b,i18n:z,virtualList:!1,utmSource:this.opts.utmSource}),u(S1,{partialTree:f,donePicking:this.donePicking,cancelSelection:this.cancelSelection,i18n:z,validateAggregateRestrictions:this.validateAggregateRestrictions})]})}}function k0(d,h,c,a){if(c===0||d===h)return d;if(a===0)return h;return d+(h-d)*2**(-a/c)}var aa={name:"@uppy/status-bar",description:"A progress bar for Uppy, with many bells and whistles.",version:"4.2.3",license:"MIT",main:"lib/index.js",style:"dist/style.min.css",type:"module",scripts:{build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build"},keywords:["file uploader","uppy","uppy-plugin","progress bar","status bar","progress","upload","eta","speed"],homepage:"https://uppy.io",bugs:{url:"https://github.com/transloadit/uppy/issues"},repository:{type:"git",url:"git+https://github.com/transloadit/uppy.git"},files:["src","lib","dist","CHANGELOG.md"],dependencies:{"@transloadit/prettier-bytes":"^0.3.4","@uppy/utils":"^6.2.2",classnames:"^2.2.6",preact:"^10.5.13"},peerDependencies:{"@uppy/core":"^4.5.2"},devDependencies:{cssnano:"^7.0.7",postcss:"^8.5.6","postcss-cli":"^11.0.1",sass:"^1.89.2",typescript:"^5.8.3"}};var ba={strings:{uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",cancel:"Cancel",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",dataUploadedOfUnknown:"%{complete} of unknown",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",retryUpload:"Retry upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}};var v={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"};var dh=W(g(),1);var jd=W(M0(),1);function Td(d){let h=Math.floor(d/3600)%24,c=Math.floor(d/60)%60,a=Math.floor(d%60);return{hours:h,minutes:c,seconds:a}}function nd(d){let h=Td(d),c=h.hours===0?"":`${h.hours}h`,a=h.minutes===0?"":`${h.hours===0?h.minutes:` ${h.minutes.toString(10).padStart(2,"0")}`}m`,b=h.hours!==0?"":`${h.minutes===0?h.seconds:` ${h.seconds.toString(10).padStart(2,"0")}`}s`;return`${c}${a}${b}`}var pd=W(g(),1);var n2="Â·",fa=()=>` ${n2} `;function za(d){let{newFiles:h,isUploadStarted:c,recoveredState:a,i18n:b,uploadState:f,isSomeGhost:z,startUpload:i}=d,m=pd.default("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":f===v.STATE_WAITING},{"uppy-StatusBar-actionBtn--disabled":z}),s=h&&c&&!a?b("uploadXNewFiles",{smart_count:h}):b("uploadXFiles",{smart_count:h});return u("button",{type:"button",className:m,"aria-label":b("uploadXFiles",{smart_count:h}),onClick:i,disabled:z,"data-uppy-super-focusable":!0,children:s})}function ua(d){let{i18n:h,uppy:c}=d;return u("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":h("retryUpload"),onClick:()=>c.retryAll().catch(()=>{}),"data-uppy-super-focusable":!0,"data-cy":"retry",children:[u("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10",children:u("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})}),h("retry")]})}function ia(d){let{i18n:h,uppy:c}=d;return u("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:h("cancel"),"aria-label":h("cancel"),onClick:()=>c.cancelAll(),"data-cy":"cancel","data-uppy-super-focusable":!0,children:u("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16",children:u("g",{fill:"none",fillRule:"evenodd",children:[u("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),u("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"})]})})})}function ma(d){let{isAllPaused:h,i18n:c,isAllComplete:a,resumableUploads:b,uppy:f}=d,z=h?c("resume"):c("pause");function i(){if(a)return;if(!b){f.cancelAll();return}if(h){f.resumeAll();return}f.pauseAll()}return u("button",{title:z,"aria-label":z,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:i,"data-cy":"togglePauseResume","data-uppy-super-focusable":!0,children:u("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16",children:u("g",{fill:"none",fillRule:"evenodd",children:[u("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),u("path",{fill:"#FFF",d:h?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"})]})})})}function sa(d){let{i18n:h,doneButtonHandler:c}=d;return u("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:c,"data-uppy-super-focusable":!0,children:h("done")})}function Va(){return u("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14",children:u("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"})})}function ta(d){let{progress:h}=d,{value:c,mode:a,message:b}=h,f="Â·";return u("div",{className:"uppy-StatusBar-content",children:[u(Va,{}),a==="determinate"?`${Math.round(c*100)}% ${"Â·"} `:"",b]})}function j2(d){let{numUploads:h,complete:c,totalUploadedSize:a,totalSize:b,totalETA:f,i18n:z}=d,i=h>1,m=jd.default(a);return u("div",{className:"uppy-StatusBar-statusSecondary",children:[i&&z("filesUploadedOfTotal",{complete:c,smart_count:h}),u("span",{className:"uppy-StatusBar-additionalInfo",children:[i&&fa(),b!=null?z("dataUploadedOfTotal",{complete:m,total:jd.default(b)}):z("dataUploadedOfUnknown",{complete:m}),fa(),f!=null&&z("xTimeLeft",{time:nd(f)})]})]})}function wa(d){let{i18n:h,complete:c,numUploads:a}=d;return u("div",{className:"uppy-StatusBar-statusSecondary",children:h("filesUploadedOfTotal",{complete:c,smart_count:a})})}function p2(d){let{i18n:h,newFiles:c,startUpload:a}=d,b=pd.default("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return u("div",{className:"uppy-StatusBar-statusSecondary",children:[u("div",{className:"uppy-StatusBar-statusSecondaryHint",children:h("xMoreFilesAdded",{smart_count:c})}),u("button",{type:"button",className:b,"aria-label":h("uploadXFiles",{smart_count:c}),onClick:a,children:h("upload")})]})}function Xa(d){let{i18n:h,supportsUploadProgress:c,totalProgress:a,showProgressDetails:b,isUploadStarted:f,isAllComplete:z,isAllPaused:i,newFiles:m,numUploads:s,complete:t,totalUploadedSize:V,totalSize:X,totalETA:w,startUpload:O}=d,Z=m&&f;if(!f||z)return null;let M=i?h("paused"):h("uploading");function o(){if(!i&&!Z&&b){if(c)return u(j2,{numUploads:s,complete:t,totalUploadedSize:V,totalSize:X,totalETA:w,i18n:h});return u(wa,{i18n:h,complete:t,numUploads:s})}return null}return u("div",{className:"uppy-StatusBar-content",title:M,children:[!i?u(Va,{}):null,u("div",{className:"uppy-StatusBar-status",children:[u("div",{className:"uppy-StatusBar-statusPrimary",children:c&&a!==0?`${M}: ${a}%`:M}),o(),Z?u(p2,{i18n:h,newFiles:m,startUpload:O}):null]})]})}function Oa(d){let{i18n:h}=d;return u("div",{className:"uppy-StatusBar-content",role:"status",title:h("complete"),children:u("div",{className:"uppy-StatusBar-status",children:u("div",{className:"uppy-StatusBar-statusPrimary",children:[u("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11",children:u("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})}),h("complete")]})})})}function oa(d){let{error:h,i18n:c,complete:a,numUploads:b}=d;function f(){let z=`${c("uploadFailed")} 

 ${h}`;alert(z)}return u("div",{className:"uppy-StatusBar-content",title:c("uploadFailed"),children:[u("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11",children:u("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})}),u("div",{className:"uppy-StatusBar-status",children:[u("div",{className:"uppy-StatusBar-statusPrimary",children:[c("uploadFailed"),u("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":c("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:f,type:"button",children:"?"})]}),u(wa,{i18n:c,complete:a,numUploads:b})]})]})}function r1(d){let h=[],c="indeterminate",a;for(let{progress:f}of Object.values(d)){let{preprocess:z,postprocess:i}=f;if(a==null&&(z||i))({mode:c,message:a}=z||i);if(z?.mode==="determinate")h.push(z.value);if(i?.mode==="determinate")h.push(i.value)}let b=h.reduce((f,z)=>{return f+z/h.length},0);return{mode:c,message:a,value:b}}var{STATE_ERROR:Ua,STATE_WAITING:l2,STATE_PREPROCESSING:ld,STATE_UPLOADING:g0,STATE_POSTPROCESSING:ed,STATE_COMPLETE:S0}=v;function hh({newFiles:d,allowNewUpload:h,isUploadInProgress:c,isAllPaused:a,resumableUploads:b,error:f,hideUploadButton:z=void 0,hidePauseResumeButton:i=!1,hideCancelButton:m=!1,hideRetryButton:s=!1,recoveredState:t,uploadState:V,totalProgress:X,files:w,supportsUploadProgress:O,hideAfterFinish:Z=!1,isSomeGhost:M,doneButtonHandler:o=void 0,isUploadStarted:U,i18n:y,startUpload:F,uppy:Y,isAllComplete:A,showProgressDetails:L=void 0,numUploads:q,complete:_,totalSize:l,totalETA:C,totalUploadedSize:e}){function sd(){switch(V){case ed:case ld:{let u0=r1(w);if(u0.mode==="determinate")return u0.value*100;return X}case Ua:return null;case g0:{if(!O)return null;return X}default:return X}}function K3(){switch(V){case ed:case ld:{let{mode:u0}=r1(w);return u0==="indeterminate"}case g0:{if(!O)return!0;return!1}default:return!1}}let kh=sd(),Vd=kh??100,gh=!f&&d&&(!c&&!a||t)&&h&&!z,Sh=!m&&V!==l2&&V!==S0,Ih=b&&!i&&V===g0,_h=f&&!A&&!s,rh=o&&V===S0,D3=dh.default("uppy-StatusBar-progress",{"is-indeterminate":K3()}),q3=dh.default("uppy-StatusBar",`is-${V}`,{"has-ghosts":M}),xh=(()=>{switch(V){case ld:case ed:return u(ta,{progress:r1(w)});case S0:return u(Oa,{i18n:y});case Ua:return u(oa,{error:f,i18n:y,numUploads:q,complete:_});case g0:return u(Xa,{i18n:y,supportsUploadProgress:O,totalProgress:X,showProgressDetails:L,isUploadStarted:U,isAllComplete:A,isAllPaused:a,newFiles:d,numUploads:q,complete:_,totalUploadedSize:e,totalSize:l,totalETA:C,startUpload:F});default:return null}})();if(!(gh||_h||Ih||Sh||rh)&&!xh||V===S0&&Z)return null;return u("div",{className:q3,children:[u("div",{className:D3,style:{width:`${Vd}%`},role:"progressbar","aria-label":`${Vd}%`,"aria-valuetext":`${Vd}%`,"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":kh}),xh,u("div",{className:"uppy-StatusBar-actions",children:[gh?u(za,{newFiles:d,isUploadStarted:U,recoveredState:t,i18n:y,isSomeGhost:M,startUpload:F,uploadState:V}):null,_h?u(ua,{i18n:y,uppy:Y}):null,Ih?u(ma,{isAllPaused:a,i18n:y,isAllComplete:A,resumableUploads:b,uppy:Y}):null,Sh?u(ia,{i18n:y,uppy:Y}):null,rh?u(sa,{i18n:y,doneButtonHandler:o}):null]})]})}var e2=2000,d8=2000;function h8(d,h,c,a){if(d)return v.STATE_ERROR;if(h)return v.STATE_COMPLETE;if(c)return v.STATE_WAITING;let b=v.STATE_WAITING,f=Object.keys(a);for(let z=0;z<f.length;z++){let{progress:i}=a[f[z]];if(i.uploadStarted&&!i.uploadComplete)return v.STATE_UPLOADING;if(i.preprocess)b=v.STATE_PREPROCESSING;if(i.postprocess&&b!==v.STATE_PREPROCESSING)b=v.STATE_POSTPROCESSING}return b}var c8={hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null};class x1 extends j{static VERSION=aa.version;#d;#h;#c;#a;constructor(d,h){super(d,{...c8,...h});this.id=this.opts.id||"StatusBar",this.title="StatusBar",this.type="progressindicator",this.defaultLocale=ba,this.i18nInit(),this.render=this.render.bind(this),this.install=this.install.bind(this)}#f(d){if(d.total==null||d.total===0)return null;let h=d.total-d.uploaded;if(h<=0)return null;this.#d??=performance.now();let c=performance.now()-this.#d;if(c===0)return Math.round((this.#a??0)/100)/10;let a=d.uploaded-this.#h;if(this.#h=d.uploaded,a<=0)return Math.round((this.#a??0)/100)/10;let b=a/c,f=this.#c==null?b:k0(b,this.#c,e2,c);this.#c=f;let z=h/f,i=Math.max(this.#a-c,0),m=this.#a==null?z:k0(z,i,d8,c);return this.#a=m,this.#d=performance.now(),Math.round(m/100)/10}startUpload=()=>{return this.uppy.upload().catch(()=>{})};render(d){let{capabilities:h,files:c,allowNewUpload:a,totalProgress:b,error:f,recoveredState:z}=d,{newFiles:i,startedFiles:m,completeFiles:s,isUploadStarted:t,isAllComplete:V,isAllPaused:X,isUploadInProgress:w,isSomeGhost:O}=this.uppy.getObjectOfFilesPerState(),Z=z?Object.values(c):i,M=!!h.resumableUploads,o=h.uploadProgress!==!1,U=null,y=0;if(m.every((Y)=>Y.progress.bytesTotal!=null&&Y.progress.bytesTotal!==0))U=0,m.forEach((Y)=>{U+=Y.progress.bytesTotal||0,y+=Y.progress.bytesUploaded||0});else m.forEach((Y)=>{y+=Y.progress.bytesUploaded||0});let F=this.#f({uploaded:y,total:U});return hh({error:f,uploadState:h8(f,V,z,d.files||{}),allowNewUpload:a,totalProgress:b,totalSize:U,totalUploadedSize:y,isAllComplete:!1,isAllPaused:X,isUploadStarted:t,isUploadInProgress:w,isSomeGhost:O,recoveredState:z,complete:s.length,newFiles:Z.length,numUploads:m.length,totalETA:F,files:c,i18n:this.i18n,uppy:this.uppy,startUpload:this.startUpload,doneButtonHandler:this.opts.doneButtonHandler,resumableUploads:M,supportsUploadProgress:o,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish})}onMount(){let d=this.el;if(!m0(d))d.dir="ltr"}#u=()=>{let{recoveredState:d}=this.uppy.getState();if(this.#c=null,this.#a=null,d){this.#h=Object.values(d.files).reduce((h,{progress:c})=>h+c.bytesUploaded,0),this.uppy.emit("restore-confirmed");return}this.#d=performance.now(),this.#h=0};install(){let{target:d}=this.opts;if(d)this.mount(d,this);this.uppy.on("upload",this.#u),this.#d=performance.now(),this.#h=this.uppy.getFiles().reduce((h,c)=>h+c.progress.bytesUploaded,0)}uninstall(){this.unmount(),this.uppy.off("upload",this.#u)}}var a8=/^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;function b8(d,h,c){let a=a8.exec(d),b=h.mimeType??a?.[1]??"plain/text",f;if(a?.[2]!=null){let z=atob(decodeURIComponent(a[3])),i=new Uint8Array(z.length);for(let m=0;m<z.length;m++)i[m]=z.charCodeAt(m);f=[i]}else if(a?.[3]!=null)f=[decodeURIComponent(a[3])];if(c)return new File(f,h.name||"",{type:b});return new Blob(f,{type:b})}var Ma=b8;function I0(d){return d.startsWith("blob:")}function _0(d){if(!d)return!1;return/^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(d)}function N(d,h,c){return h in d?Object.defineProperty(d,h,{value:c,enumerable:!0,configurable:!0,writable:!0}):d[h]=c,d}var Fa=typeof self!="undefined"?self:global,E1=typeof navigator!="undefined",f8=E1&&typeof HTMLImageElement=="undefined",Ya=!(typeof global=="undefined"||typeof process=="undefined"||!process.versions||!process.versions.node),Wa=Fa.Buffer,Ha=!!Wa,z8=(d)=>d!==void 0;function Qa(d){return d===void 0||(d instanceof Map?d.size===0:Object.values(d).filter(z8).length===0)}function R(d){let h=new Error(d);throw delete h.stack,h}function Aa(d){let h=function(c){let a=0;return c.ifd0.enabled&&(a+=1024),c.exif.enabled&&(a+=2048),c.makerNote&&(a+=2048),c.userComment&&(a+=1024),c.gps.enabled&&(a+=512),c.interop.enabled&&(a+=100),c.ifd1.enabled&&(a+=1024),a+2048}(d);return d.jfif.enabled&&(h+=50),d.xmp.enabled&&(h+=20000),d.iptc.enabled&&(h+=14000),d.icc.enabled&&(h+=6000),h}var ch=(d)=>String.fromCharCode.apply(null,d),$a=typeof TextDecoder!="undefined"?new TextDecoder("utf-8"):void 0;class p{static from(d,h){return d instanceof this&&d.le===h?d:new p(d,void 0,void 0,h)}constructor(d,h=0,c,a){if(typeof a=="boolean"&&(this.le=a),Array.isArray(d)&&(d=new Uint8Array(d)),d===0)this.byteOffset=0,this.byteLength=0;else if(d instanceof ArrayBuffer){c===void 0&&(c=d.byteLength-h);let b=new DataView(d,h,c);this._swapDataView(b)}else if(d instanceof Uint8Array||d instanceof DataView||d instanceof p){c===void 0&&(c=d.byteLength-h),(h+=d.byteOffset)+c>d.byteOffset+d.byteLength&&R("Creating view outside of available memory in ArrayBuffer");let b=new DataView(d.buffer,h,c);this._swapDataView(b)}else if(typeof d=="number"){let b=new DataView(new ArrayBuffer(d));this._swapDataView(b)}else R("Invalid input argument for BufferView: "+d)}_swapArrayBuffer(d){this._swapDataView(new DataView(d))}_swapBuffer(d){this._swapDataView(new DataView(d.buffer,d.byteOffset,d.byteLength))}_swapDataView(d){this.dataView=d,this.buffer=d.buffer,this.byteOffset=d.byteOffset,this.byteLength=d.byteLength}_lengthToEnd(d){return this.byteLength-d}set(d,h,c=p){return d instanceof DataView||d instanceof p?d=new Uint8Array(d.buffer,d.byteOffset,d.byteLength):d instanceof ArrayBuffer&&(d=new Uint8Array(d)),d instanceof Uint8Array||R("BufferView.set(): Invalid data argument."),this.toUint8().set(d,h),new c(this,h,d.byteLength)}subarray(d,h){return h=h||this._lengthToEnd(d),new p(this,d,h)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(d,h){return new Uint8Array(this.buffer,this.byteOffset+d,h)}getString(d=0,h=this.byteLength){return a=this.getUint8Array(d,h),$a?$a.decode(a):Ha?Buffer.from(a).toString("utf8"):decodeURIComponent(escape(ch(a)));var a}getLatin1String(d=0,h=this.byteLength){let c=this.getUint8Array(d,h);return ch(c)}getUnicodeString(d=0,h=this.byteLength){let c=[];for(let a=0;a<h&&d+a<this.byteLength;a+=2)c.push(this.getUint16(d+a));return ch(c)}getInt8(d){return this.dataView.getInt8(d)}getUint8(d){return this.dataView.getUint8(d)}getInt16(d,h=this.le){return this.dataView.getInt16(d,h)}getInt32(d,h=this.le){return this.dataView.getInt32(d,h)}getUint16(d,h=this.le){return this.dataView.getUint16(d,h)}getUint32(d,h=this.le){return this.dataView.getUint32(d,h)}getFloat32(d,h=this.le){return this.dataView.getFloat32(d,h)}getFloat64(d,h=this.le){return this.dataView.getFloat64(d,h)}getFloat(d,h=this.le){return this.dataView.getFloat32(d,h)}getDouble(d,h=this.le){return this.dataView.getFloat64(d,h)}getUintBytes(d,h,c){switch(h){case 1:return this.getUint8(d,c);case 2:return this.getUint16(d,c);case 4:return this.getUint32(d,c);case 8:return this.getUint64&&this.getUint64(d,c)}}getUint(d,h,c){switch(h){case 8:return this.getUint8(d,c);case 16:return this.getUint16(d,c);case 32:return this.getUint32(d,c);case 64:return this.getUint64&&this.getUint64(d,c)}}toString(d){return this.dataView.toString(d,this.constructor.name)}ensureChunk(){}}function bh(d,h){R(`${d} '${h}' was not loaded, try using full build of exifr.`)}class P0 extends Map{constructor(d){super(),this.kind=d}get(d,h){return this.has(d)||bh(this.kind,d),h&&((d in h)||function(c,a){R(`Unknown ${c} '${a}'.`)}(this.kind,d),h[d].enabled||bh(this.kind,d)),super.get(d)}keyList(){return Array.from(this.keys())}}var E0=new P0("file parser"),P=new P0("segment parser"),j1=new P0("file reader"),u8=Fa.fetch;function Za(d,h){return(c=d).startsWith("data:")||c.length>1e4?zh(d,h,"base64"):Ya&&d.includes("://")?fh(d,h,"url",x0):Ya?zh(d,h,"fs"):E1?fh(d,h,"url",x0):void R("Invalid input argument");var c}async function fh(d,h,c,a){return j1.has(c)?zh(d,h,c):a?async function(b,f){let z=await f(b);return new p(z)}(d,a):void R(`Parser ${c} is not loaded`)}async function zh(d,h,c){let a=new(j1.get(c))(d,h);return await a.read(),a}var x0=(d)=>u8(d).then((h)=>h.arrayBuffer()),T1=(d)=>new Promise((h,c)=>{let a=new FileReader;a.onloadend=()=>h(a.result||new ArrayBuffer),a.onerror=c,a.readAsArrayBuffer(d)});class Ja extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}}function Ba(d,h,c){let a=new Ja;for(let[b,f]of c)a.set(b,f);if(Array.isArray(h))for(let b of h)d.set(b,a);else d.set(h,a);return a}function Ka(d,h,c){let a,b=d.get(h);for(a of c)b.set(a[0],a[1])}var p1=new Map,ih=new Map,mh=new Map,A1=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],T0=["jfif","xmp","icc","iptc","ihdr"],n1=["tiff",...T0],D=["ifd0","ifd1","exif","gps","interop"],$1=[...n1,...D],Z1=["makerNote","userComment"],n0=["translateKeys","translateValues","reviveValues","multiSegment"],L1=[...n0,"sanitize","mergeOutput","silentErrors"];class sh{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class Y1 extends sh{get needed(){return this.enabled||this.deps.size>0}constructor(d,h,c,a){if(super(),N(this,"enabled",!1),N(this,"skip",new Set),N(this,"pick",new Set),N(this,"deps",new Set),N(this,"translateKeys",!1),N(this,"translateValues",!1),N(this,"reviveValues",!1),this.key=d,this.enabled=h,this.parse=this.enabled,this.applyInheritables(a),this.canBeFiltered=D.includes(d),this.canBeFiltered&&(this.dict=p1.get(d)),c!==void 0)if(Array.isArray(c))this.parse=this.enabled=!0,this.canBeFiltered&&c.length>0&&this.translateTagSet(c,this.pick);else if(typeof c=="object"){if(this.enabled=!0,this.parse=c.parse!==!1,this.canBeFiltered){let{pick:b,skip:f}=c;b&&b.length>0&&this.translateTagSet(b,this.pick),f&&f.length>0&&this.translateTagSet(f,this.skip)}this.applyInheritables(c)}else c===!0||c===!1?this.parse=this.enabled=c:R(`Invalid options argument: ${c}`)}applyInheritables(d){let h,c;for(h of n0)c=d[h],c!==void 0&&(this[h]=c)}translateTagSet(d,h){if(this.dict){let c,a,{tagKeys:b,tagValues:f}=this.dict;for(c of d)typeof c=="string"?(a=f.indexOf(c),a===-1&&(a=b.indexOf(Number(c))),a!==-1&&h.add(Number(b[a]))):h.add(c)}else for(let c of d)h.add(c)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,v0(this.pick,this.deps)):this.enabled&&this.pick.size>0&&v0(this.pick,this.deps)}}var I={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},La=new Map;class y1 extends sh{static useCached(d){let h=La.get(d);return h!==void 0||(h=new this(d),La.set(d,h)),h}constructor(d){super(),d===!0?this.setupFromTrue():d===void 0?this.setupFromUndefined():Array.isArray(d)?this.setupFromArray(d):typeof d=="object"?this.setupFromObject(d):R(`Invalid options argument ${d}`),this.firstChunkSize===void 0&&(this.firstChunkSize=E1?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let d;for(d of A1)this[d]=I[d];for(d of L1)this[d]=I[d];for(d of Z1)this[d]=I[d];for(d of $1)this[d]=new Y1(d,I[d],void 0,this)}setupFromTrue(){let d;for(d of A1)this[d]=I[d];for(d of L1)this[d]=I[d];for(d of Z1)this[d]=!0;for(d of $1)this[d]=new Y1(d,!0,void 0,this)}setupFromArray(d){let h;for(h of A1)this[h]=I[h];for(h of L1)this[h]=I[h];for(h of Z1)this[h]=I[h];for(h of $1)this[h]=new Y1(h,!1,void 0,this);this.setupGlobalFilters(d,void 0,D)}setupFromObject(d){let h;for(h of(D.ifd0=D.ifd0||D.image,D.ifd1=D.ifd1||D.thumbnail,Object.assign(this,d),A1))this[h]=ah(d[h],I[h]);for(h of L1)this[h]=ah(d[h],I[h]);for(h of Z1)this[h]=ah(d[h],I[h]);for(h of n1)this[h]=new Y1(h,I[h],d[h],this);for(h of D)this[h]=new Y1(h,I[h],d[h],this.tiff);this.setupGlobalFilters(d.pick,d.skip,D,$1),d.tiff===!0?this.batchEnableWithBool(D,!0):d.tiff===!1?this.batchEnableWithUserValue(D,d):Array.isArray(d.tiff)?this.setupGlobalFilters(d.tiff,void 0,D):typeof d.tiff=="object"&&this.setupGlobalFilters(d.tiff.pick,d.tiff.skip,D)}batchEnableWithBool(d,h){for(let c of d)this[c].enabled=h}batchEnableWithUserValue(d,h){for(let c of d){let a=h[c];this[c].enabled=a!==!1&&a!==void 0}}setupGlobalFilters(d,h,c,a=c){if(d&&d.length){for(let f of a)this[f].enabled=!1;let b=ya(d,c);for(let[f,z]of b)v0(this[f].pick,z),this[f].enabled=!0}else if(h&&h.length){let b=ya(h,c);for(let[f,z]of b)v0(this[f].skip,z)}}filterNestedSegmentTags(){let{ifd0:d,exif:h,xmp:c,iptc:a,icc:b}=this;this.makerNote?h.deps.add(37500):h.skip.add(37500),this.userComment?h.deps.add(37510):h.skip.add(37510),c.enabled||d.skip.add(700),a.enabled||d.skip.add(33723),b.enabled||d.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:d,exif:h,gps:c,interop:a}=this;a.needed&&(h.deps.add(40965),d.deps.add(40965)),h.needed&&d.deps.add(34665),c.needed&&d.deps.add(34853),this.tiff.enabled=D.some((b)=>this[b].enabled===!0)||this.makerNote||this.userComment;for(let b of D)this[b].finalizeFilters()}get onlyTiff(){return!T0.map((d)=>this[d].enabled).some((d)=>d===!0)&&this.tiff.enabled}checkLoadedPlugins(){for(let d of n1)this[d].enabled&&!P.has(d)&&bh("segment parser",d)}}function ya(d,h){let c,a,b,f,z=[];for(b of h){for(f of(c=p1.get(b),a=[],c))(d.includes(f[0])||d.includes(f[1]))&&a.push(f[0]);a.length&&z.push([b,a])}return z}function ah(d,h){return d!==void 0?d:h!==void 0?h:void 0}function v0(d,h){for(let c of h)d.add(c)}N(y1,"default",I);class l1{constructor(d){N(this,"parsers",{}),N(this,"output",{}),N(this,"errors",[]),N(this,"pushToErrors",(h)=>this.errors.push(h)),this.options=y1.useCached(d)}async read(d){this.file=await function(h,c){return typeof h=="string"?Za(h,c):E1&&!f8&&h instanceof HTMLImageElement?Za(h.src,c):h instanceof Uint8Array||h instanceof ArrayBuffer||h instanceof DataView?new p(h):E1&&h instanceof Blob?fh(h,c,"blob",T1):void R("Invalid input argument")}(d,this.options)}setup(){if(this.fileParser)return;let{file:d}=this,h=d.getUint16(0);for(let[c,a]of E0)if(a.canHandle(d,h))return this.fileParser=new a(this.options,this.file,this.parsers),d[c]=!0;this.file.close&&this.file.close(),R("Unknown file format")}async parse(){let{output:d,errors:h}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),h.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&h.length>0&&(d.errors=h),Qa(c=d)?void 0:c;var c}async executeParsers(){let{output:d}=this;await this.fileParser.parse();let h=Object.values(this.parsers).map(async(c)=>{let a=await c.parse();c.assignToOutput(d,a)});this.options.silentErrors&&(h=h.map((c)=>c.catch(this.pushToErrors))),await Promise.all(h)}async extractThumbnail(){this.setup();let{options:d,file:h}=this,c=P.get("tiff",d);var a;if(h.tiff?a={start:0,type:"tiff"}:h.jpeg&&(a=await this.fileParser.getOrFindSegment("tiff")),a===void 0)return;let b=await this.fileParser.ensureSegmentChunk(a),f=this.parsers.tiff=new c(b,d,h),z=await f.extractThumbnail();return h.close&&h.close(),z}}async function Da(d,h){let c=new l1(h);return await c.read(d),c.parse()}var i8=Object.freeze({__proto__:null,parse:Da,Exifr:l1,fileParsers:E0,segmentParsers:P,fileReaders:j1,tagKeys:p1,tagValues:ih,tagRevivers:mh,createDictionary:Ba,extendDictionary:Ka,fetchUrlAsArrayBuffer:x0,readBlobAsArrayBuffer:T1,chunkedProps:A1,otherSegments:T0,segments:n1,tiffBlocks:D,segmentsAndBlocks:$1,tiffExtractables:Z1,inheritables:n0,allFormatters:L1,Options:y1});class t1{static findPosition(d,h){let c=d.getUint16(h+2)+2,a=typeof this.headerLength=="function"?this.headerLength(d,h,c):this.headerLength,b=h+a,f=c-a;return{offset:h,length:c,headerLength:a,start:b,size:f,end:b+f}}static parse(d,h={}){return new this(d,new y1({[this.type]:h}),d).parse()}normalizeInput(d){return d instanceof p?d:new p(d)}constructor(d,h={},c){N(this,"errors",[]),N(this,"raw",new Map),N(this,"handleError",(a)=>{if(!this.options.silentErrors)throw a;this.errors.push(a.message)}),this.chunk=this.normalizeInput(d),this.file=c,this.type=this.constructor.type,this.globalOptions=this.options=h,this.localOptions=h[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(d,h){let c=mh.get(h),a=ih.get(h),b=p1.get(h),f=this.options[h],z=f.reviveValues&&!!c,i=f.translateValues&&!!a,m=f.translateKeys&&!!b,s={};for(let[t,V]of d)z&&c.has(t)?V=c.get(t)(V):i&&a.has(t)&&(V=this.translateValue(V,a.get(t))),m&&b.has(t)&&(t=b.get(t)||t),s[t]=V;return s}translateValue(d,h){return h[d]||h.DEFAULT||d}assignToOutput(d,h){this.assignObjectToOutput(d,this.constructor.type,h)}assignObjectToOutput(d,h,c){if(this.globalOptions.mergeOutput)return Object.assign(d,c);d[h]?Object.assign(d[h],c):d[h]=c}}N(t1,"headerLength",4),N(t1,"type",void 0),N(t1,"multiSegment",!1),N(t1,"canHandle",()=>!1);function m8(d){return d===192||d===194||d===196||d===219||d===221||d===218||d===254}function s8(d){return d>=224&&d<=239}function V8(d,h,c){for(let[a,b]of P)if(b.canHandle(d,h,c))return a}class uh extends class{constructor(d,h,c){N(this,"errors",[]),N(this,"ensureSegmentChunk",async(a)=>{let b=a.start,f=a.size||65536;if(this.file.chunked)if(this.file.available(b,f))a.chunk=this.file.subarray(b,f);else try{a.chunk=await this.file.readChunk(b,f)}catch(z){R(`Couldn't read segment: ${JSON.stringify(a)}. ${z.message}`)}else this.file.byteLength>b+f?a.chunk=this.file.subarray(b,f):a.size===void 0?a.chunk=this.file.subarray(b):R("Segment unreachable: "+JSON.stringify(a));return a.chunk}),this.extendOptions&&this.extendOptions(d),this.options=d,this.file=h,this.parsers=c}injectSegment(d,h){this.options[d].enabled&&this.createParser(d,h)}createParser(d,h){let c=new(P.get(d))(h,this.options,this.file);return this.parsers[d]=c}createParsers(d){for(let h of d){let{type:c,chunk:a}=h,b=this.options[c];if(b&&b.enabled){let f=this.parsers[c];f&&f.append||f||this.createParser(c,a)}}}async readSegments(d){let h=d.map(this.ensureSegmentChunk);await Promise.all(h)}}{constructor(...d){super(...d),N(this,"appSegments",[]),N(this,"jpegSegments",[]),N(this,"unknownSegments",[])}static canHandle(d,h){return h===65496}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(d){d===!0?(this.findAll=!0,this.wanted=new Set(P.keyList())):(d=d===void 0?P.keyList().filter((h)=>this.options[h].enabled):d.filter((h)=>this.options[h].enabled&&P.has(h)),this.findAll=!1,this.remaining=new Set(d),this.wanted=new Set(d)),this.unfinishedMultiSegment=!1}async findAppSegments(d=0,h){this.setupSegmentFinderArgs(h);let{file:c,findAll:a,wanted:b,remaining:f}=this;if(!a&&this.file.chunked&&(a=Array.from(b).some((z)=>{let i=P.get(z),m=this.options[z];return i.multiSegment&&m.multiSegment}),a&&await this.file.readWhole()),d=this.findAppSegmentsInRange(d,c.byteLength),!this.options.onlyTiff&&c.chunked){let z=!1;for(;f.size>0&&!z&&(c.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:i}=c,m=this.appSegments.some((s)=>!this.file.available(s.offset||s.start,s.length||s.size));if(z=d>i&&!m?!await c.readNextChunk(d):!await c.readNextChunk(i),(d=this.findAppSegmentsInRange(d,c.byteLength))===void 0)return}}}findAppSegmentsInRange(d,h){h-=2;let c,a,b,f,z,i,{file:m,findAll:s,wanted:t,remaining:V,options:X}=this;for(;d<h;d++)if(m.getUint8(d)===255){if(c=m.getUint8(d+1),s8(c)){if(a=m.getUint16(d+2),b=V8(m,d,a),b&&t.has(b)&&(f=P.get(b),z=f.findPosition(m,d),i=X[b],z.type=b,this.appSegments.push(z),!s&&(f.multiSegment&&i.multiSegment?(this.unfinishedMultiSegment=z.chunkNumber<z.chunkCount,this.unfinishedMultiSegment||V.delete(b)):V.delete(b),V.size===0)))break;X.recordUnknownSegments&&(z=t1.findPosition(m,d),z.marker=c,this.unknownSegments.push(z)),d+=a+1}else if(m8(c)){if(a=m.getUint16(d+2),c===218&&X.stopAfterSos!==!1)return;X.recordJpegSegments&&this.jpegSegments.push({offset:d,length:a,marker:c}),d+=a+1}}return d}mergeMultiSegments(){if(!this.appSegments.some((h)=>h.multiSegment))return;let d=function(h,c){let a,b,f,z=new Map;for(let i=0;i<h.length;i++)a=h[i],b=a[c],z.has(b)?f=z.get(b):z.set(b,f=[]),f.push(a);return Array.from(z)}(this.appSegments,"type");this.mergedAppSegments=d.map(([h,c])=>{let a=P.get(h,this.options);if(a.handleMultiSegments)return{type:h,chunk:a.handleMultiSegments(c)};return c[0]})}getSegment(d){return this.appSegments.find((h)=>h.type===d)}async getOrFindSegment(d){let h=this.getSegment(d);return h===void 0&&(await this.findAppSegments(0,[d]),h=this.getSegment(d)),h}}N(uh,"type","jpeg"),E0.set("jpeg",uh);var t8=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class qa extends t1{parseHeader(){var d=this.chunk.getUint16();d===18761?this.le=!0:d===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(d,h,c=new Map){let{pick:a,skip:b}=this.options[h];a=new Set(a);let f=a.size>0,z=b.size===0,i=this.chunk.getUint16(d);d+=2;for(let m=0;m<i;m++){let s=this.chunk.getUint16(d);if(f){if(a.has(s)&&(c.set(s,this.parseTag(d,s,h)),a.delete(s),a.size===0))break}else!z&&b.has(s)||c.set(s,this.parseTag(d,s,h));d+=12}return c}parseTag(d,h,c){let{chunk:a}=this,b=a.getUint16(d+2),f=a.getUint32(d+4),z=t8[b];if(z*f<=4?d+=8:d=a.getUint32(d+8),(b<1||b>13)&&R(`Invalid TIFF value type. block: ${c.toUpperCase()}, tag: ${h.toString(16)}, type: ${b}, offset ${d}`),d>a.byteLength&&R(`Invalid TIFF value offset. block: ${c.toUpperCase()}, tag: ${h.toString(16)}, type: ${b}, offset ${d} is outside of chunk size ${a.byteLength}`),b===1)return a.getUint8Array(d,f);if(b===2)return(i=function(m){for(;m.endsWith("\x00");)m=m.slice(0,-1);return m}(i=a.getString(d,f)).trim())===""?void 0:i;var i;if(b===7)return a.getUint8Array(d,f);if(f===1)return this.parseTagValue(b,d);{let m=new(function(t){switch(t){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(b))(f),s=z;for(let t=0;t<f;t++)m[t]=this.parseTagValue(b,d),d+=s;return m}}parseTagValue(d,h){let{chunk:c}=this;switch(d){case 1:return c.getUint8(h);case 3:return c.getUint16(h);case 4:return c.getUint32(h);case 5:return c.getUint32(h)/c.getUint32(h+4);case 6:return c.getInt8(h);case 8:return c.getInt16(h);case 9:return c.getInt32(h);case 10:return c.getInt32(h)/c.getInt32(h+4);case 11:return c.getFloat(h);case 12:return c.getDouble(h);case 13:return c.getUint32(h);default:R(`Invalid tiff type ${d}`)}}}class r0 extends qa{static canHandle(d,h){return d.getUint8(h+1)===225&&d.getUint32(h+4)===1165519206&&d.getUint16(h+8)===0}async parse(){this.parseHeader();let{options:d}=this;return d.ifd0.enabled&&await this.parseIfd0Block(),d.exif.enabled&&await this.safeParse("parseExifBlock"),d.gps.enabled&&await this.safeParse("parseGpsBlock"),d.interop.enabled&&await this.safeParse("parseInteropBlock"),d.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(d){let h=this[d]();return h.catch!==void 0&&(h=h.catch(this.handleError)),h}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let d=this.chunk.getUint16(this.ifd0Offset),h=this.ifd0Offset+2+12*d;this.ifd1Offset=this.chunk.getUint32(h)}}parseBlock(d,h){let c=new Map;return this[h]=c,this.parseTags(d,h,c),c}async parseIfd0Block(){if(this.ifd0)return;let{file:d}=this;this.findIfd0Offset(),this.ifd0Offset<8&&R("Malformed EXIF data"),!d.chunked&&this.ifd0Offset>d.byteLength&&R(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${d.byteLength}`),d.tiff&&await d.ensureChunk(this.ifd0Offset,Aa(this.options));let h=this.parseBlock(this.ifd0Offset,"ifd0");return h.size!==0?(this.exifOffset=h.get(34665),this.interopOffset=h.get(40965),this.gpsOffset=h.get(34853),this.xmp=h.get(700),this.iptc=h.get(33723),this.icc=h.get(34675),this.options.sanitize&&(h.delete(34665),h.delete(40965),h.delete(34853),h.delete(700),h.delete(33723),h.delete(34675)),h):void 0}async parseExifBlock(){if(this.exif)return;if(this.ifd0||await this.parseIfd0Block(),this.exifOffset===void 0)return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,Aa(this.options));let d=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=d.get(40965)),this.makerNote=d.get(37500),this.userComment=d.get(37510),this.options.sanitize&&(d.delete(40965),d.delete(37500),d.delete(37510)),this.unpack(d,41728),this.unpack(d,41729),d}unpack(d,h){let c=d.get(h);c&&c.length===1&&d.set(h,c[0])}async parseGpsBlock(){if(this.gps)return;if(this.ifd0||await this.parseIfd0Block(),this.gpsOffset===void 0)return;let d=this.parseBlock(this.gpsOffset,"gps");return d&&d.has(2)&&d.has(4)&&(d.set("latitude",Ga(...d.get(2),d.get(1))),d.set("longitude",Ga(...d.get(4),d.get(3)))),d}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),this.interopOffset!==void 0||this.exif||await this.parseExifBlock(),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(d=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||d))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),this.ifd1===void 0)return;let d=this.ifd1.get(513),h=this.ifd1.get(514);return this.chunk.getUint8Array(d,h)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let d,h,c,a={};for(h of D)if(d=this[h],!Qa(d))if(c=this.canTranslate?this.translateBlock(d,h):Object.fromEntries(d),this.options.mergeOutput){if(h==="ifd1")continue;Object.assign(a,c)}else a[h]=c;return this.makerNote&&(a.makerNote=this.makerNote),this.userComment&&(a.userComment=this.userComment),a}assignToOutput(d,h){if(this.globalOptions.mergeOutput)Object.assign(d,h);else for(let[c,a]of Object.entries(h))this.assignObjectToOutput(d,c,a)}}function Ga(d,h,c,a){var b=d+h/60+c/3600;return a!=="S"&&a!=="W"||(b*=-1),b}N(r0,"type","tiff"),N(r0,"headerLength",10),P.set("tiff",r0);var yu=Object.freeze({__proto__:null,default:i8,Exifr:l1,fileParsers:E0,segmentParsers:P,fileReaders:j1,tagKeys:p1,tagValues:ih,tagRevivers:mh,createDictionary:Ba,extendDictionary:Ka,fetchUrlAsArrayBuffer:x0,readBlobAsArrayBuffer:T1,chunkedProps:A1,otherSegments:T0,segments:n1,tiffBlocks:D,segmentsAndBlocks:$1,tiffExtractables:Z1,inheritables:n0,allFormatters:L1,Options:y1,parse:Da}),Vh={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},Gu=Object.assign({},Vh,{firstChunkSize:40000,gps:[1,2,3,4]});var Nu=Object.assign({},Vh,{tiff:!1,ifd1:!0,mergeOutput:!1});var w8=Object.assign({},Vh,{firstChunkSize:40000,ifd0:[274]});async function X8(d){let h=new l1(w8);await h.read(d);let c=await h.parse();if(c&&c.ifd0)return c.ifd0[274]}var O8=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}}),v1=!0,P1=!0;if(typeof navigator=="object"){let d=navigator.userAgent;if(d.includes("iPad")||d.includes("iPhone")){let h=d.match(/OS (\d+)_(\d+)/);if(h){let[,c,a]=h;v1=Number(c)+0.1*Number(a)<13.4,P1=!1}}else if(d.includes("OS X 10")){let[,h]=d.match(/OS X 10[_.](\d+)/);v1=P1=Number(h)<15}if(d.includes("Chrome/")){let[,h]=d.match(/Chrome\/(\d+)/);v1=P1=Number(h)<81}else if(d.includes("Firefox/")){let[,h]=d.match(/Firefox\/(\d+)/);v1=P1=Number(h)<77}}async function Ca(d){let h=await X8(d);return Object.assign({canvas:v1,css:P1},O8[h])}class Ra extends p{constructor(...d){super(...d),N(this,"ranges",new ka),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(d,h,c){if(d===0&&this.byteLength===0&&c){let a=new DataView(c.buffer||c,c.byteOffset,c.byteLength);this._swapDataView(a)}else{let a=d+h;if(a>this.byteLength){let{dataView:b}=this._extend(a);this._swapDataView(b)}}}_extend(d){let h;h=Ha?Wa.allocUnsafe(d):new Uint8Array(d);let c=new DataView(h.buffer,h.byteOffset,h.byteLength);return h.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:h,dataView:c}}subarray(d,h,c=!1){return h=h||this._lengthToEnd(d),c&&this._tryExtend(d,h),this.ranges.add(d,h),super.subarray(d,h)}set(d,h,c=!1){c&&this._tryExtend(h,d.byteLength,d);let a=super.set(d,h);return this.ranges.add(h,a.byteLength),a}async ensureChunk(d,h){this.chunked&&(this.ranges.available(d,h)||await this.readChunk(d,h))}available(d,h){return this.ranges.available(d,h)}}class ka{constructor(){N(this,"list",[])}get length(){return this.list.length}add(d,h,c=0){let a=d+h,b=this.list.filter((f)=>Na(d,f.offset,a)||Na(d,f.end,a));if(b.length>0){d=Math.min(d,...b.map((z)=>z.offset)),a=Math.max(a,...b.map((z)=>z.end)),h=a-d;let f=b.shift();f.offset=d,f.length=h,f.end=a,this.list=this.list.filter((z)=>!b.includes(z))}else this.list.push({offset:d,length:h,end:a})}available(d,h){let c=d+h;return this.list.some((a)=>a.offset<=d&&c<=a.end)}}function Na(d,h,c){return d<=h&&h<=c}class ga extends Ra{constructor(d,h){super(0),N(this,"chunksRead",0),this.input=d,this.options=h}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(d=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let h=this.options.chunkSize,c=await this.readChunk(d,h);return!!c&&c.byteLength===h}async readChunk(d,h){if(this.chunksRead++,(h=this.safeWrapAddress(d,h))!==0)return this._readChunk(d,h)}safeWrapAddress(d,h){return this.size!==void 0&&d+h>this.size?Math.max(0,this.size-d):h}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}j1.set("blob",class extends ga{async readWhole(){this.chunked=!1;let d=await T1(this.input);this._swapArrayBuffer(d)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(d,h){let c=h?d+h:void 0,a=this.input.slice(d,c),b=await T1(a);return this.set(b,d,!0)}});var Sa={name:"@uppy/thumbnail-generator",description:"Uppy plugin that generates small previews of images to show on your upload UI.",version:"4.2.3",license:"MIT",main:"lib/index.js",type:"module",scripts:{build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},keywords:["file uploader","uppy","uppy-plugin","thumbnail","preview","resize"],homepage:"https://uppy.io",bugs:{url:"https://github.com/transloadit/uppy/issues"},repository:{type:"git",url:"git+https://github.com/transloadit/uppy.git"},files:["src","lib","dist","CHANGELOG.md"],dependencies:{"@uppy/utils":"^6.2.2",exifr:"^7.0.0"},devDependencies:{jsdom:"^26.1.0","namespace-emitter":"2.0.1",typescript:"^5.8.3",vitest:"^3.2.4"},peerDependencies:{"@uppy/core":"^4.5.3"}};var Ia={strings:{generatingThumbnails:"Generating thumbnails..."}};function U8(d,h,c){try{d.getContext("2d").getImageData(0,0,1,1)}catch(a){if(a.code===18)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}if(d.toBlob)return new Promise((a)=>{d.toBlob(a,h,c)}).then((a)=>{if(a===null)throw new Error("cannot read image, probably an svg with external resources");return a});return Promise.resolve().then(()=>{return Ma(d.toDataURL(h,c),{})}).then((a)=>{if(a===null)throw new Error("could not extract blob, probably an old browser");return a})}function M8(d,h){let{width:c,height:a}=d;if(h.deg===90||h.deg===270)c=d.height,a=d.width;let b=document.createElement("canvas");b.width=c,b.height=a;let f=b.getContext("2d");if(f.translate(c/2,a/2),h.canvas)f.rotate(h.rad),f.scale(h.scaleX,h.scaleY);return f.drawImage(d,-d.width/2,-d.height/2,d.width,d.height),b}function Y8(d){let h=d.width/d.height,c=5000000,a=4096,b=Math.floor(Math.sqrt(5000000*h)),f=Math.floor(5000000/Math.sqrt(5000000*h));if(b>4096)b=4096,f=Math.round(b/h);if(f>4096)f=4096,b=Math.round(h*f);if(d.width>b){let z=document.createElement("canvas");return z.width=b,z.height=f,z.getContext("2d").drawImage(d,0,0,b,f),z}return d}var A8={thumbnailWidth:null,thumbnailHeight:null,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,lazy:!1};class j0 extends j{static VERSION=Sa.version;queue;queueProcessing;defaultThumbnailDimension;thumbnailType;constructor(d,h){super(d,{...A8,...h});if(this.type="modifier",this.id=this.opts.id||"ThumbnailGenerator",this.title="Thumbnail Generator",this.queue=[],this.queueProcessing=!1,this.defaultThumbnailDimension=200,this.thumbnailType=this.opts.thumbnailType,this.defaultLocale=Ia,this.i18nInit(),this.opts.lazy&&this.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.")}createThumbnail(d,h,c){let a=URL.createObjectURL(d.data),b=new Promise((z,i)=>{let m=new Image;m.src=a,m.addEventListener("load",()=>{URL.revokeObjectURL(a),z(m)}),m.addEventListener("error",(s)=>{URL.revokeObjectURL(a),i(s.error||new Error("Could not create thumbnail"))})}),f=Ca(d.data).catch(()=>1);return Promise.all([b,f]).then(([z,i])=>{let m=this.getProportionalDimensions(z,h,c,i.deg),s=M8(z,i),t=this.resizeImage(s,m.width,m.height);return U8(t,this.thumbnailType,80)}).then((z)=>{return URL.createObjectURL(z)})}getProportionalDimensions(d,h,c,a){let b=d.width/d.height;if(a===90||a===270)b=d.height/d.width;if(h!=null){let f=h;if(d.width<h)f=d.width;return{width:f,height:Math.round(f/b)}}if(c!=null){let f=c;if(d.height<c)f=d.height;return{width:Math.round(f*b),height:f}}return{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/b)}}resizeImage(d,h,c){let a=Y8(d),b=Math.ceil(Math.log2(a.width/h));if(b<1)b=1;let f=h*2**(b-1),z=c*2**(b-1),i=2;while(b--){let m=document.createElement("canvas");m.width=f,m.height=z,m.getContext("2d").drawImage(a,0,0,f,z),a=m,f=Math.round(f/i),z=Math.round(z/i)}return a}setPreviewURL(d,h){this.uppy.setFileState(d,{preview:h})}addToQueue(d){if(this.queue.push(d),this.queueProcessing===!1)this.processQueue()}processQueue(){if(this.queueProcessing=!0,this.queue.length>0){let d=this.uppy.getFile(this.queue.shift());if(!d)return this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error"),Promise.resolve();return this.requestThumbnail(d).catch(()=>{}).then(()=>this.processQueue())}return this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated"),Promise.resolve()}requestThumbnail(d){if(_0(d.type)&&!d.isRemote)return this.createThumbnail(d,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then((h)=>{this.setPreviewURL(d.id,h),this.uppy.log(`[ThumbnailGenerator] Generated thumbnail for ${d.id}`),this.uppy.emit("thumbnail:generated",this.uppy.getFile(d.id),h)}).catch((h)=>{this.uppy.log(`[ThumbnailGenerator] Failed thumbnail for ${d.id}:`,"warning"),this.uppy.log(h,"warning"),this.uppy.emit("thumbnail:error",this.uppy.getFile(d.id),h)});return Promise.resolve()}onFileAdded=(d)=>{if(!d.preview&&d.data&&_0(d.type)&&!d.isRemote)this.addToQueue(d.id)};onCancelRequest=(d)=>{let h=this.queue.indexOf(d.id);if(h!==-1)this.queue.splice(h,1)};onFileRemoved=(d)=>{let h=this.queue.indexOf(d.id);if(h!==-1)this.queue.splice(h,1);if(d.preview&&I0(d.preview))URL.revokeObjectURL(d.preview)};onRestored=()=>{this.uppy.getFiles().filter((h)=>h.isRestored).forEach((h)=>{if(!h.preview||I0(h.preview))this.addToQueue(h.id)})};onAllFilesRemoved=()=>{this.queue=[]};waitUntilAllProcessed=(d)=>{d.forEach((c)=>{let a=this.uppy.getFile(c);this.uppy.emit("preprocess-progress",a,{mode:"indeterminate",message:this.i18n("generatingThumbnails")})});let h=()=>{d.forEach((c)=>{let a=this.uppy.getFile(c);this.uppy.emit("preprocess-complete",a)})};return new Promise((c)=>{if(this.queueProcessing)this.uppy.once("thumbnail:all-generated",()=>{h(),c()});else h(),c()})};install(){if(this.uppy.on("file-removed",this.onFileRemoved),this.uppy.on("cancel-all",this.onAllFilesRemoved),this.opts.lazy)this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest);else this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored);if(this.opts.waitForThumbnailsBeforeUpload)this.uppy.addPreProcessor(this.waitUntilAllProcessed)}uninstall(){if(this.uppy.off("file-removed",this.onFileRemoved),this.uppy.off("cancel-all",this.onAllFilesRemoved),this.opts.lazy)this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest);else this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored);if(this.opts.waitForThumbnailsBeforeUpload)this.uppy.removePreProcessor(this.waitUntilAllProcessed)}}function $8(d){if(typeof d==="string"){let h=document.querySelectorAll(d);return h.length===0?null:Array.from(h)}if(typeof d==="object"&&N1(d))return[d];return null}var th=$8;var T=Array.from;function wh(d){let h=T(d.files);return Promise.resolve(h)}function p0(d,h,c,{onSuccess:a}){d.readEntries((b)=>{let f=[...h,...b];if(b.length)queueMicrotask(()=>{p0(d,f,c,{onSuccess:a})});else a(f)},(b)=>{c(b),a(h)})}function _a(d,h){if(d==null)return d;return{kind:d.isFile?"file":d.isDirectory?"directory":void 0,name:d.name,getFile(){return new Promise((c,a)=>d.file(c,a))},async*values(){let c=d.createReader();yield*await new Promise((b)=>{p0(c,[],h,{onSuccess:(f)=>b(f.map((z)=>_a(z,h)))})})},isSameEntry:void 0}}async function*ra(d,h,c=void 0){let a=()=>`${h}/${d.name}`;if(d.kind==="file"){let b=await d.getFile();if(b!=null)b.relativePath=h?a():null,yield b;else if(c!=null)yield c}else if(d.kind==="directory")for await(let b of d.values())yield*ra(b,h?a():d.name);else if(c!=null)yield c}async function*Xh(d,h){let c=await Promise.all(Array.from(d.items,async(a)=>{let b;return b??=_a((()=>typeof a.getAsEntry==="function"?a.getAsEntry():a.webkitGetAsEntry())(),h),{fileSystemHandle:b,lastResortFile:a.getAsFile()}}));for(let{lastResortFile:a,fileSystemHandle:b}of c)if(b!=null)try{yield*ra(b,"",a)}catch(f){if(a!=null)yield a;else h(f)}else if(a!=null)yield a}async function e1(d,h){let c=h?.logDropError??Function.prototype;try{let a=[];for await(let b of Xh(d,c))a.push(b);return a}catch{return wh(d)}}var xa={name:"@uppy/dashboard",description:"Universal UI plugin for Uppy.",version:"4.4.3",license:"MIT",main:"lib/index.js",style:"dist/style.min.css",type:"module",scripts:{build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build",test:"vitest run --silent='passed-only'","test:e2e":"vitest watch --project browser --browser.headless false"},keywords:["file uploader","uppy","uppy-plugin","dashboard","ui"],homepage:"https://uppy.io",bugs:{url:"https://github.com/transloadit/uppy/issues"},repository:{type:"git",url:"git+https://github.com/transloadit/uppy.git"},files:["src","lib","dist","CHANGELOG.md"],dependencies:{"@transloadit/prettier-bytes":"^0.3.4","@uppy/informer":"^4.3.2","@uppy/provider-views":"^4.5.2","@uppy/status-bar":"^4.2.3","@uppy/thumbnail-generator":"^4.2.2","@uppy/utils":"^6.2.2",classnames:"^2.2.6",lodash:"^4.17.21",nanoid:"^5.0.9",preact:"^10.5.13","shallow-equal":"^3.0.0"},devDependencies:{"@uppy/core":"^4.5.2","@uppy/google-drive":"^4.4.2","@uppy/status-bar":"^4.2.3","@uppy/url":"^4.3.2","@uppy/webcam":"^4.3.2","@vitest/browser":"^3.2.4",cssnano:"^7.0.7",jsdom:"^26.1.0",postcss:"^8.5.6","postcss-cli":"^11.0.1","resize-observer-polyfill":"^1.5.0",sass:"^1.89.2",typescript:"^5.8.3",vitest:"^3.2.4"},peerDependencies:{"@uppy/core":"^4.5.2"}};function d0(){let d=document.body;if(!("draggable"in d)||!(("ondragstart"in d)&&("ondrop"in d)))return!1;if(!("FormData"in window))return!1;if(!("FileReader"in window))return!1;return!0}var m3=W(g(),1);class va extends J{fileInput=null;folderInput=null;mobilePhotoFileInput=null;mobileVideoFileInput=null;triggerFileInputClick=()=>{this.fileInput?.click()};triggerFolderInputClick=()=>{this.folderInput?.click()};triggerVideoCameraInputClick=()=>{this.mobileVideoFileInput?.click()};triggerPhotoCameraInputClick=()=>{this.mobilePhotoFileInput?.click()};onFileInputChange=(d)=>{this.props.handleInputChange(d),d.currentTarget.value=""};renderHiddenInput=(d,h)=>{return u("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:d,type:"file",name:"files[]",multiple:this.props.maxNumberOfFiles!==1,onChange:this.onFileInputChange,accept:this.props.allowedFileTypes?.join(", "),ref:h})};renderHiddenCameraInput=(d,h,c)=>{let b={photo:"image/*",video:"video/*"}[d];return u("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,type:"file",name:`camera-${d}`,onChange:this.onFileInputChange,capture:h===""?"environment":h,accept:b,ref:c})};renderMyDeviceAcquirer=()=>{return u("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice",children:u("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerFileInputClick,children:[u("div",{className:"uppy-DashboardTab-inner",children:u("svg",{className:"uppy-DashboardTab-iconMyDevice","aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32",children:u("path",{d:"M8.45 22.087l-1.305-6.674h17.678l-1.572 6.674H8.45zm4.975-12.412l1.083 1.765a.823.823 0 00.715.386h7.951V13.5H8.587V9.675h4.838zM26.043 13.5h-1.195v-2.598c0-.463-.336-.75-.798-.75h-8.356l-1.082-1.766A.823.823 0 0013.897 8H7.728c-.462 0-.815.256-.815.718V13.5h-.956a.97.97 0 00-.746.37.972.972 0 00-.19.81l1.724 8.565c.095.44.484.755.933.755H24c.44 0 .824-.3.929-.727l2.043-8.568a.972.972 0 00-.176-.825.967.967 0 00-.753-.38z",fill:"currentcolor","fill-rule":"evenodd"})})}),u("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("myDevice")})]})})};renderPhotoCamera=()=>{return u("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobilePhotoCamera",children:u("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerPhotoCameraInputClick,children:[u("div",{className:"uppy-DashboardTab-inner",children:u("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32",children:u("path",{d:"M23.5 9.5c1.417 0 2.5 1.083 2.5 2.5v9.167c0 1.416-1.083 2.5-2.5 2.5h-15c-1.417 0-2.5-1.084-2.5-2.5V12c0-1.417 1.083-2.5 2.5-2.5h2.917l1.416-2.167C13 7.167 13.25 7 13.5 7h5c.25 0 .5.167.667.333L20.583 9.5H23.5zM16 11.417a4.706 4.706 0 00-4.75 4.75 4.704 4.704 0 004.75 4.75 4.703 4.703 0 004.75-4.75c0-2.663-2.09-4.75-4.75-4.75zm0 7.825c-1.744 0-3.076-1.332-3.076-3.074 0-1.745 1.333-3.077 3.076-3.077 1.744 0 3.074 1.333 3.074 3.076s-1.33 3.075-3.074 3.075z",fill:"#02B383","fill-rule":"nonzero"})})}),u("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("takePictureBtn")})]})})};renderVideoCamera=()=>{return u("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobileVideoCamera",children:u("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerVideoCameraInputClick,children:[u("div",{className:"uppy-DashboardTab-inner",children:u("svg",{"aria-hidden":"true",width:"32",height:"32",viewBox:"0 0 32 32",children:u("path",{fill:"#FF675E",fillRule:"nonzero",d:"m21.254 14.277 2.941-2.588c.797-.313 1.243.818 1.09 1.554-.01 2.094.02 4.189-.017 6.282-.126.915-1.145 1.08-1.58.34l-2.434-2.142c-.192.287-.504 1.305-.738.468-.104-1.293-.028-2.596-.05-3.894.047-.312.381.823.426 1.069.063-.384.206-.744.362-1.09zm-12.939-3.73c3.858.013 7.717-.025 11.574.02.912.129 1.492 1.237 1.351 2.217-.019 2.412.04 4.83-.03 7.239-.17 1.025-1.166 1.59-2.029 1.429-3.705-.012-7.41.025-11.114-.019-.913-.129-1.492-1.237-1.352-2.217.018-2.404-.036-4.813.029-7.214.136-.82.83-1.473 1.571-1.454z "})})}),u("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("recordVideoBtn")})]})})};renderBrowseButton=(d,h)=>{let c=this.props.acquirers.length;return u("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-browse",onClick:h,"data-uppy-super-focusable":c===0,children:d})};renderDropPasteBrowseTagline=(d)=>{let h=this.renderBrowseButton(this.props.i18n("browseFiles"),this.triggerFileInputClick),c=this.renderBrowseButton(this.props.i18n("browseFolders"),this.triggerFolderInputClick),a=this.props.fileManagerSelectionType,b=a.charAt(0).toUpperCase()+a.slice(1);return u("div",{class:"uppy-Dashboard-AddFiles-title",children:this.props.disableLocalFiles?this.props.i18n("importFiles"):d>0?this.props.i18nArray(`dropPasteImport${b}`,{browseFiles:h,browseFolders:c,browse:h}):this.props.i18nArray(`dropPaste${b}`,{browseFiles:h,browseFolders:c,browse:h})})};[Symbol.for("uppy test: disable unused locale key warning")](){this.props.i18nArray("dropPasteBoth"),this.props.i18nArray("dropPasteFiles"),this.props.i18nArray("dropPasteFolders"),this.props.i18nArray("dropPasteImportBoth"),this.props.i18nArray("dropPasteImportFiles"),this.props.i18nArray("dropPasteImportFolders")}renderAcquirer=(d)=>{return u("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":d.id,children:u("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-cy":d.id,"aria-controls":`uppy-DashboardContent-panel--${d.id}`,"aria-selected":this.props.activePickerPanel?.id===d.id,"data-uppy-super-focusable":!0,onClick:()=>this.props.showPanel(d.id),children:[u("div",{className:"uppy-DashboardTab-inner",children:d.icon()}),u("div",{className:"uppy-DashboardTab-name",children:d.name})]})})};renderAcquirers=(d)=>{let h=[...d],c=h.splice(d.length-2,d.length);return u(H,{children:[h.map((a)=>this.renderAcquirer(a)),u("span",{role:"presentation",style:{"white-space":"nowrap"},children:c.map((a)=>this.renderAcquirer(a))})]})};renderSourcesList=(d,h)=>{let{showNativePhotoCameraButton:c,showNativeVideoCameraButton:a}=this.props,b=[],f="myDevice";if(!h)b.push({key:f,elements:this.renderMyDeviceAcquirer()});if(c)b.push({key:"nativePhotoCameraButton",elements:this.renderPhotoCamera()});if(a)b.push({key:"nativePhotoCameraButton",elements:this.renderVideoCamera()});if(b.push(...d.map((s)=>({key:s.id,elements:this.renderAcquirer(s)}))),b.length===1&&b[0].key===f)b=[];let i=[...b],m=i.splice(b.length-2,b.length);return u(H,{children:[this.renderDropPasteBrowseTagline(b.length),u("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist",children:[i.map(({key:s,elements:t})=>u(H,{children:t},s)),u("span",{role:"presentation",style:{"white-space":"nowrap"},children:m.map(({key:s,elements:t})=>u(H,{children:t},s))})]})]})};renderPoweredByUppy(){let{i18nArray:d}=this.props,h=u("span",{children:[u("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11",children:u("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})}),u("span",{className:"uppy-Dashboard-poweredByUppy",children:"Uppy"})]}),c=d("poweredBy",{uppy:h});return u("a",{tabIndex:-1,href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy",children:c})}render(){let{showNativePhotoCameraButton:d,showNativeVideoCameraButton:h,nativeCameraFacingMode:c}=this.props;return u("div",{className:"uppy-Dashboard-AddFiles",children:[this.renderHiddenInput(!1,(a)=>{this.fileInput=a}),this.renderHiddenInput(!0,(a)=>{this.folderInput=a}),d&&this.renderHiddenCameraInput("photo",c,(a)=>{this.mobilePhotoFileInput=a}),h&&this.renderHiddenCameraInput("video",c,(a)=>{this.mobileVideoFileInput=a}),this.renderSourcesList(this.props.acquirers,this.props.disableLocalFiles),u("div",{className:"uppy-Dashboard-AddFiles-info",children:[this.props.note&&u("div",{className:"uppy-Dashboard-note",children:this.props.note}),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy()]})]})}}var l0=va;var Pa=W(g(),1);var L8=(d)=>{return u("div",{className:Pa.default("uppy-Dashboard-AddFilesPanel",d.className),"data-uppy-panelType":"AddFiles","aria-hidden":!d.showAddFilesPanel,children:[u("div",{className:"uppy-DashboardContent-bar",children:[u("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:d.i18n("addingMoreFiles")}),u("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>d.toggleAddFilesPanel(!1),children:d.i18n("back")})]}),u(l0,{...d})]})},Ea=L8;var Ta=W(g(),1);function y8(d){let h=d.files[d.fileCardFor],c=()=>{d.uppy.emit("file-editor:cancel",h),d.closeFileEditor()};return u("div",{className:Ta.default("uppy-DashboardContent-panel",d.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor",children:[u("div",{className:"uppy-DashboardContent-bar",children:[u("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:d.i18nArray("editing",{file:u("span",{className:"uppy-DashboardContent-titleFile",children:h.meta?h.meta.name:h.name})})}),u("button",{className:"uppy-DashboardContent-back",type:"button",onClick:c,children:d.i18n("cancel")}),u("button",{className:"uppy-DashboardContent-save",type:"button",onClick:d.saveFileEditor,children:d.i18n("save")})]}),u("div",{className:"uppy-DashboardContent-panelBody",children:d.editors.map((a)=>{return d.uppy.getPlugin(a.id).render(d.state)})})]})}var na=y8;var ja=W(g(),1);function G8(){return u("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25",children:u("g",{fill:"#686DE0",fillRule:"evenodd",children:[u("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),u("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),u("circle",{cx:"7.5",cy:"9.5",r:"1.5"})]})})}function N8(){return u("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:u("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"})})}function F8(){return u("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:u("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"})})}function W8(){return u("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:u("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"})})}function H8(){return u("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25",children:u("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"})})}function Q8(){return u("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:u("g",{fill:"#A7AFB7",fillRule:"nonzero",children:[u("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),u("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})]})})}function J8(){return u("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:u("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"})})}function w1(d){let h={color:"#838999",icon:Q8()};if(!d)return h;let c=d.split("/")[0],a=d.split("/")[1];if(c==="text")return{color:"#5a5e69",icon:J8()};if(c==="image")return{color:"#686de0",icon:G8()};if(c==="audio")return{color:"#068dbb",icon:N8()};if(c==="video")return{color:"#19af67",icon:F8()};if(c==="application"&&a==="pdf")return{color:"#e25149",icon:W8()};if(c==="application"&&["zip","x-7z-compressed","x-zip-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"].indexOf(a)!==-1)return{color:"#00C469",icon:H8()};return h}function B8(d){let{tagName:h}=d.target;if(h==="INPUT"||h==="TEXTAREA"){d.stopPropagation();return}d.preventDefault(),d.stopPropagation()}var h1=B8;function h0(d){let{file:h}=d;if(h.preview)return u("img",{draggable:!1,className:"uppy-Dashboard-Item-previewImg",alt:h.name,src:h.preview});let{color:c,icon:a}=w1(h.type);return u("div",{className:"uppy-Dashboard-Item-previewIconWrap",children:[u("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:c},children:a}),u("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76",children:u("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})})]})}function Oh(d){let{computedMetaFields:h,requiredMetaFields:c,updateMeta:a,form:b,formState:f}=d,z={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return h.map((i)=>{let m=`uppy-Dashboard-FileCard-input-${i.id}`,s=c.includes(i.id);return u("fieldset",{className:"uppy-Dashboard-FileCard-fieldset",children:[u("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:m,children:i.name}),i.render!==void 0?i.render({value:f[i.id],onChange:(t)=>a(t,i.id),fieldCSSClasses:z,required:s,form:b.id},G):u("input",{className:z.text,id:m,form:b.id,type:i.type||"text",required:s,value:f[i.id],placeholder:i.placeholder,onInput:(t)=>a(t.target.value,i.id),"data-uppy-super-focusable":!0})]},i.id)})}function oh(d){let{files:h,fileCardFor:c,toggleFileCard:a,saveFileCard:b,metaFields:f,requiredMetaFields:z,openFileEditor:i,i18n:m,i18nArray:s,className:t,canEditFile:V}=d,X=()=>{return typeof f==="function"?f(h[c]):f},w=h[c],O=X()??[],Z=V(w),M={};O.forEach((L)=>{M[L.id]=w.meta[L.id]??""});let[o,U]=E(M),y=u1((L)=>{L.preventDefault(),b(o,c)},[b,o,c]),F=(L,q)=>{U({...o,[q]:L})},Y=()=>{a(!1)},[A]=E(()=>{let L=document.createElement("form");return L.setAttribute("tabindex","-1"),L.id=i1(),L});return n(()=>{return document.body.appendChild(A),A.addEventListener("submit",y),()=>{A.removeEventListener("submit",y),document.body.removeChild(A)}},[A,y]),u("div",{className:ja.default("uppy-Dashboard-FileCard",t),"data-uppy-panelType":"FileCard",onDragOver:h1,onDragLeave:h1,onDrop:h1,onPaste:h1,children:[u("div",{className:"uppy-DashboardContent-bar",children:[u("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:s("editing",{file:u("span",{className:"uppy-DashboardContent-titleFile",children:w.meta?w.meta.name:w.name})})}),u("button",{className:"uppy-DashboardContent-back",type:"button",form:A.id,title:m("finishEditingFile"),onClick:Y,children:m("cancel")})]}),u("div",{className:"uppy-Dashboard-FileCard-inner",children:[u("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:w1(w.type).color},children:[u(h0,{file:w}),Z&&u("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:(L)=>{y(L),i(w)},children:m("editImage")})]}),u("div",{className:"uppy-Dashboard-FileCard-info",children:u(Oh,{computedMetaFields:O,requiredMetaFields:z,updateMeta:F,form:A,formState:o})}),u("div",{className:"uppy-Dashboard-FileCard-actions",children:[u("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"submit",form:A.id,children:m("saveChanges")}),u("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:Y,form:A.id,children:m("cancel")})]})]})]})}var d3=W(g(),1);function pa(d,h){if(d===h)return!0;if(!d||!h)return!1;let c=Object.keys(d),a=Object.keys(h),b=c.length;if(a.length!==b)return!1;for(let f=0;f<b;f++){let z=c[f];if(d[z]!==h[z]||!Object.prototype.hasOwnProperty.call(h,z))return!1}return!0}function Uh(d,h="Copy the URL below"){return new Promise((c)=>{let a=document.createElement("textarea");a.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),a.value=d,document.body.appendChild(a),a.select();let b=()=>{document.body.removeChild(a),window.prompt(h,d),c()};try{if(!document.execCommand("copy"))return b();return document.body.removeChild(a),c()}catch(f){return document.body.removeChild(a),b()}})}function K8({file:d,uploadInProgressOrComplete:h,metaFields:c,canEditFile:a,i18n:b,onClick:f}){if(!h&&c&&c.length>0||!h&&a(d))return u("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":b("editFileWithFilename",{file:d.meta.name}),title:b("editFileWithFilename",{file:d.meta.name}),onClick:()=>f(),children:u("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14",children:u("g",{fillRule:"evenodd",children:[u("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),u("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),u("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})]})})});return null}function D8({i18n:d,onClick:h,file:c}){return u("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":d("removeFile",{file:c.meta.name}),title:d("removeFile",{file:c.meta.name}),onClick:()=>h(),children:u("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18",children:[u("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),u("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})]})})}function q8({file:d,uppy:h,i18n:c}){let a=(b)=>{Uh(d.uploadURL,c("copyLinkToClipboardFallback")).then(()=>{h.log("Link copied to clipboard."),h.info(c("copyLinkToClipboardSuccess"),"info",3000)}).catch(h.log).then(()=>b.target.focus({preventScroll:!0}))};return u("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":c("copyLink"),title:c("copyLink"),onClick:(b)=>a(b),children:u("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12",children:u("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})})})}function Mh(d){let{uppy:h,file:c,uploadInProgressOrComplete:a,canEditFile:b,metaFields:f,showLinkToFileUploadResult:z,showRemoveButton:i,i18n:m,toggleFileCard:s,openFileEditor:t}=d;return u("div",{className:"uppy-Dashboard-Item-actionWrapper",children:[u(K8,{i18n:m,file:c,uploadInProgressOrComplete:a,canEditFile:b,metaFields:f,onClick:()=>{if(f&&f.length>0)s(!0,c.id);else t(c)}}),z&&c.uploadURL?u(q8,{file:c,uppy:h,i18n:m}):null,i?u(D8,{i18n:m,file:c,onClick:()=>h.removeFile(c.id)}):null]})}var la=W(M0(),1);function e0(d,h){if(h===0)return"";if(d.length<=h)return d;if(h<=4)return`${d.slice(0,h-1)}â€¦`;let c=h-3,a=Math.ceil(c/2),b=Math.floor(c/2);return d.slice(0,a)+"..."+d.slice(-b)}var C8=(d,h)=>{return(typeof h==="function"?h():h).filter((b)=>b.id===d)[0].name};function c0(d){let{file:h,toggleFileCard:c,i18n:a,metaFields:b}=d,{missingRequiredMetaFields:f}=h;if(!f?.length)return null;let z=f.map((i)=>C8(i,b)).join(", ");return u("div",{className:"uppy-Dashboard-Item-errorMessage",children:[a("missingRequiredMetaFields",{smart_count:f.length,fields:z})," ",u("button",{type:"button",class:"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn",onClick:()=>c(!0,h.id),children:a("editFile")})]})}var R8=(d)=>{let{author:h,name:c}=d.file.meta;function a(){if(d.isSingleFile&&d.containerHeight>=350)return 90;if(d.containerWidth<=352)return 35;if(d.containerWidth<=576)return 60;return h?20:30}return u("div",{className:"uppy-Dashboard-Item-name",title:c,children:e0(c,a())})},k8=(d)=>{let{author:h}=d.file.meta,c=d.file.remote?.providerName,a="Â·";if(!h)return null;return u("div",{className:"uppy-Dashboard-Item-author",children:[u("a",{href:`${h.url}?utm_source=Companion&utm_medium=referral`,target:"_blank",rel:"noopener noreferrer",children:e0(h.name,13)}),c?u(H,{children:[` ${"Â·"} `,c,` ${"Â·"} `]}):null]})},g8=(d)=>d.file.size&&u("div",{className:"uppy-Dashboard-Item-statusSize",children:la.default(d.file.size)}),S8=(d)=>d.file.isGhost&&u("span",{children:[" â€¢ ",u("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",type:"button",onClick:()=>d.toggleAddFilesPanel(!0),children:d.i18n("reSelect")})]}),I8=({file:d,onClick:h})=>{if(d.error)return u("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-errorDetails","aria-label":d.error,"data-microtip-position":"bottom","data-microtip-size":"medium",onClick:h,type:"button",children:"?"});return null};function Yh(d){let{file:h,i18n:c,toggleFileCard:a,metaFields:b,toggleAddFilesPanel:f,isSingleFile:z,containerHeight:i,containerWidth:m}=d;return u("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":h.source,children:[u("div",{className:"uppy-Dashboard-Item-fileName",children:[R8({file:h,isSingleFile:z,containerHeight:i,containerWidth:m}),u(I8,{file:h,onClick:()=>alert(h.error)})]}),u("div",{className:"uppy-Dashboard-Item-status",children:[k8({file:h}),g8({file:h}),S8({file:h,toggleAddFilesPanel:f,i18n:c})]}),u(c0,{file:h,i18n:c,toggleFileCard:a,metaFields:b})]})}function Ah(d){let{file:h,i18n:c,toggleFileCard:a,metaFields:b,showLinkToFileUploadResult:f}=d,z="rgba(255, 255, 255, 0.5)",i=h.preview?"rgba(255, 255, 255, 0.5)":w1(h.type).color;return u("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:i},children:[f&&h.uploadURL&&u("a",{className:"uppy-Dashboard-Item-previewLink",href:h.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":h.meta.name,children:u("span",{hidden:!0,children:h.meta.name})}),u(h0,{file:h}),u(c0,{file:h,i18n:c,toggleFileCard:a,metaFields:b})]})}function _8(d){if(d.isUploaded)return;if(d.error&&!d.hideRetryButton){d.uppy.retryUpload(d.file.id);return}if(d.resumableUploads&&!d.hidePauseResumeButton)d.uppy.pauseResume(d.file.id);else if(d.individualCancellation&&!d.hideCancelButton)d.uppy.removeFile(d.file.id)}function ea(d){if(d.isUploaded)return d.i18n("uploadComplete");if(d.error)return d.i18n("retryUpload");if(d.resumableUploads){if(d.file.isPaused)return d.i18n("resumeUpload");return d.i18n("pauseUpload")}if(d.individualCancellation)return d.i18n("cancelUpload");return""}function $h(d){return u("div",{className:"uppy-Dashboard-Item-progress",children:u("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":ea(d),title:ea(d),onClick:()=>_8(d),children:d.children})})}function dd({children:d}){return u("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle",children:d})}function Zh({progress:d}){let h=2*Math.PI*15;return u("g",{children:[u("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),u("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",fill:"none","stroke-width":"2","stroke-dasharray":h,"stroke-dashoffset":h-h/100*d})]})}function Lh(d){if(!d.file.progress.uploadStarted)return null;if(d.file.progress.percentage===void 0)return null;if(d.isUploaded)return u("div",{className:"uppy-Dashboard-Item-progress",children:u("div",{className:"uppy-Dashboard-Item-progressIndicator",children:u(dd,{children:[u("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),u("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"})]})})});if(d.recoveredState)return null;if(d.error&&!d.hideRetryButton)return u($h,{...d,children:u("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19",children:[u("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),u("path",{d:"M7.9 3H10v2H7.9z"}),u("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),u("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"})]})});if(d.resumableUploads&&!d.hidePauseResumeButton)return u($h,{...d,children:u(dd,{children:[u(Zh,{progress:d.file.progress.percentage}),d.file.isPaused?u("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):u("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)",children:[u("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),u("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})]})]})});if(!d.resumableUploads&&d.individualCancellation&&!d.hideCancelButton)return u($h,{...d,children:u(dd,{children:[u(Zh,{progress:d.file.progress.percentage}),u("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"})]})});return u("div",{className:"uppy-Dashboard-Item-progress",children:u("div",{className:"uppy-Dashboard-Item-progressIndicator",children:u(dd,{children:u(Zh,{progress:d.file.progress.percentage})})})})}class hd extends J{componentDidMount(){let{file:d}=this.props;if(!d.preview)this.props.handleRequestThumbnail(d)}shouldComponentUpdate(d){return!pa(this.props,d)}componentDidUpdate(){let{file:d}=this.props;if(!d.preview)this.props.handleRequestThumbnail(d)}componentWillUnmount(){let{file:d}=this.props;if(!d.preview)this.props.handleCancelThumbnail(d)}render(){let{file:d}=this.props,h=d.progress.preprocess||d.progress.postprocess,c=!!d.progress.uploadComplete&&!h&&!d.error,a=!!d.progress.uploadStarted||!!h,b=d.progress.uploadStarted&&!d.progress.uploadComplete||h,f=d.error||!1,{isGhost:z}=d,i=this.props.individualCancellation?!c:!b&&!c;if(c&&this.props.showRemoveButtonAfterComplete)i=!0;let m=d3.default({"uppy-Dashboard-Item":!0,"is-inprogress":b&&!this.props.recoveredState,"is-processing":h,"is-complete":c,"is-error":!!f,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation,"is-ghost":z});return u("div",{className:m,id:`uppy_${d.id}`,role:this.props.role,children:[u("div",{className:"uppy-Dashboard-Item-preview",children:[u(Ah,{file:d,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,i18n:this.props.i18n,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),u(Lh,{uppy:this.props.uppy,file:d,error:f,isUploaded:c,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,recoveredState:this.props.recoveredState,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,i18n:this.props.i18n})]}),u("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons",children:[u(Yh,{file:d,containerWidth:this.props.containerWidth,containerHeight:this.props.containerHeight,i18n:this.props.i18n,toggleAddFilesPanel:this.props.toggleAddFilesPanel,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields,isSingleFile:this.props.isSingleFile}),u(Mh,{file:d,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:i,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:a,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,uppy:this.props.uppy,i18n:this.props.i18n})]})]})}}function r8(d,h){let c=[],a=[];if(d.forEach((b)=>{if(a.length<h)a.push(b);else c.push(a),a=[b]}),a.length)c.push(a);return c}function yh({id:d,i18n:h,uppy:c,files:a,resumableUploads:b,hideRetryButton:f,hidePauseResumeButton:z,hideCancelButton:i,showLinkToFileUploadResult:m,showRemoveButtonAfterComplete:s,metaFields:t,isSingleFile:V,toggleFileCard:X,handleRequestThumbnail:w,handleCancelThumbnail:O,recoveredState:Z,individualCancellation:M,itemsPerRow:o,openFileEditor:U,canEditFile:y,toggleAddFilesPanel:F,containerWidth:Y,containerHeight:A}){let L=o===1?71:200,q=z1(()=>{let l=(e,sd)=>Number(a[sd].isGhost)-Number(a[e].isGhost),C=Object.keys(a);if(Z)C.sort(l);return r8(C,o)},[a,o,Z]),_=(l)=>u("div",{class:"uppy-Dashboard-filesInner",role:"presentation",children:l.map((C)=>u(hd,{uppy:c,id:d,i18n:h,resumableUploads:b,individualCancellation:M,hideRetryButton:f,hidePauseResumeButton:z,hideCancelButton:i,showLinkToFileUploadResult:m,showRemoveButtonAfterComplete:s,metaFields:t,recoveredState:Z,isSingleFile:V,containerWidth:Y,containerHeight:A,toggleFileCard:X,handleRequestThumbnail:w,handleCancelThumbnail:O,role:"listitem",openFileEditor:U,canEditFile:y,toggleAddFilesPanel:F,file:a[C]},C))},l[0]);if(V)return u("div",{class:"uppy-Dashboard-files",children:_(q[0])});return u(y0,{class:"uppy-Dashboard-files",role:"list",data:q,renderRow:_,rowHeight:L})}var h3=W(g(),1);function x8({activePickerPanel:d,className:h,hideAllPanels:c,i18n:a,state:b,uppy:f}){let z=f1(null);return u("div",{className:h3.default("uppy-DashboardContent-panel",h),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:`uppy-DashboardContent-panel--${d.id}`,onDragOver:h1,onDragLeave:h1,onDrop:h1,onPaste:h1,children:[u("div",{className:"uppy-DashboardContent-bar",children:[u("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:a("importFrom",{name:d.name})}),u("button",{className:"uppy-DashboardContent-back",type:"button",onClick:c,children:a("cancel")})]}),u("div",{ref:z,className:"uppy-DashboardContent-panelBody",children:f.getPlugin(d.id).render(b,z.current)})]})}var c3=x8;var c1={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete",STATE_PAUSED:"paused"};function v8(d,h,c,a={}){if(d)return c1.STATE_ERROR;if(h)return c1.STATE_COMPLETE;if(c)return c1.STATE_PAUSED;let b=c1.STATE_WAITING,f=Object.keys(a);for(let z=0;z<f.length;z++){let{progress:i}=a[f[z]];if(i.uploadStarted&&!i.uploadComplete)return c1.STATE_UPLOADING;if(i.preprocess&&b!==c1.STATE_UPLOADING)b=c1.STATE_PREPROCESSING;if(i.postprocess&&b!==c1.STATE_UPLOADING&&b!==c1.STATE_PREPROCESSING)b=c1.STATE_POSTPROCESSING}return b}function P8({files:d,i18n:h,isAllComplete:c,isAllErrored:a,isAllPaused:b,inProgressNotPausedFiles:f,newFiles:z,processingFiles:i}){switch(v8(a,c,b,d)){case"uploading":return h("uploadingXFiles",{smart_count:f.length});case"preprocessing":case"postprocessing":return h("processingXFiles",{smart_count:i.length});case"paused":return h("uploadPaused");case"waiting":return h("xFilesSelected",{smart_count:z.length});case"complete":return h("uploadComplete");case"error":return h("error");default:}}function E8(d){let{i18n:h,isAllComplete:c,hideCancelButton:a,maxNumberOfFiles:b,toggleAddFilesPanel:f,uppy:z}=d,{allowNewUpload:i}=d;if(i&&b)i=d.totalFileCount<d.maxNumberOfFiles;return u("div",{className:"uppy-DashboardContent-bar",children:[!c&&!a?u("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>z.cancelAll(),children:h("cancel")}):u("div",{}),u("div",{className:"uppy-DashboardContent-title",children:u(P8,{...d})}),i?u("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":h("addMoreFiles"),title:h("addMoreFiles"),onClick:()=>f(!0),children:[u("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15",children:u("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})}),u("span",{className:"uppy-DashboardContent-addMoreCaption",children:h("addMore")})]}):u("div",{})]})}var a3=E8;var f3=W(g(),1);var G1="uppy-transition-slideDownUp",b3=250;function T8({children:d}){let[h,c]=E(null),[a,b]=E(""),f=f1(),z=f1(),i=f1(),m=()=>{b(`${G1}-enter`),cancelAnimationFrame(i.current),clearTimeout(z.current),z.current=void 0,i.current=requestAnimationFrame(()=>{b(`${G1}-enter ${G1}-enter-active`),f.current=setTimeout(()=>{b("")},b3)})},s=()=>{b(`${G1}-leave`),cancelAnimationFrame(i.current),clearTimeout(f.current),f.current=void 0,i.current=requestAnimationFrame(()=>{b(`${G1}-leave ${G1}-leave-active`),z.current=setTimeout(()=>{c(null),b("")},b3)})};if(n(()=>{let t=r(d)[0];if(h===t)return;if(t&&!h)m();else if(h&&!t&&!z.current)s();c(t)},[d,h]),n(()=>{return()=>{clearTimeout(f.current),clearTimeout(z.current),cancelAnimationFrame(i.current)}},[]),!h)return null;return J1(h,{className:f3.default(a,h.props.className)})}var a0=T8;var z3=900,u3=700,Gh=576,i3=330;function Nh(d){let h=d.totalFileCount===0,c=d.totalFileCount===1,a=d.containerWidth>Gh,b=d.containerHeight>i3,f=m3.default({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":d.disabled,"uppy-Dashboard--animateOpenClose":d.animateOpenClose,"uppy-Dashboard--isClosing":d.isClosing,"uppy-Dashboard--isDraggingOver":d.isDraggingOver,"uppy-Dashboard--modal":!d.inline,"uppy-size--md":d.containerWidth>Gh,"uppy-size--lg":d.containerWidth>u3,"uppy-size--xl":d.containerWidth>z3,"uppy-size--height-md":d.containerHeight>i3,"uppy-Dashboard--isAddFilesPanelVisible":d.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":d.areInsidesReadyToBeVisible,"uppy-Dashboard--singleFile":d.singleFileFullScreen&&c&&b}),z=1;if(d.containerWidth>z3)z=5;else if(d.containerWidth>u3)z=4;else if(d.containerWidth>Gh)z=3;let i=d.showSelectedFiles&&!h,m=d.recoveredState?Object.keys(d.recoveredState.files).length:null,s=d.files?Object.keys(d.files).filter((X)=>d.files[X].isGhost).length:0,t=()=>{if(s>0)return d.i18n("recoveredXFiles",{smart_count:s});return d.i18n("recoveredAllFiles")};return u("div",{className:f,"data-uppy-theme":d.theme,"data-uppy-num-acquirers":d.acquirers.length,"data-uppy-drag-drop-supported":!d.disableLocalFiles&&d0(),"aria-hidden":d.inline?"false":d.isHidden,"aria-disabled":d.disabled,"aria-label":!d.inline?d.i18n("dashboardWindowTitle"):d.i18n("dashboardTitle"),onPaste:d.handlePaste,onDragOver:d.handleDragOver,onDragLeave:d.handleDragLeave,onDrop:d.handleDrop,children:[u("div",{"aria-hidden":"true",className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:d.handleClickOutside}),u("div",{className:"uppy-Dashboard-inner",role:d.inline?void 0:"dialog",style:{width:d.inline&&d.width?d.width:"",height:d.inline&&d.height?d.height:""},children:[!d.inline?u("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":d.i18n("closeModal"),title:d.i18n("closeModal"),onClick:d.closeModal,children:u("span",{"aria-hidden":"true",children:"Ã—"})}):null,u("div",{className:"uppy-Dashboard-innerWrap",children:[u("div",{className:"uppy-Dashboard-dropFilesHereHint",children:d.i18n("dropHint")}),i&&u(a3,{...d}),m&&u("div",{className:"uppy-Dashboard-serviceMsg",children:[u("svg",{className:"uppy-Dashboard-serviceMsg-icon","aria-hidden":"true",focusable:"false",width:"21",height:"16",viewBox:"0 0 24 19",children:u("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd",children:[u("path",{d:"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",fill:"#FFD300"}),u("path",{fill:"#000",d:"M11 6h2l-.3 8h-1.4z"}),u("circle",{fill:"#000",cx:"12",cy:"17",r:"1"})]})}),u("strong",{className:"uppy-Dashboard-serviceMsg-title",children:d.i18n("sessionRestored")}),u("div",{className:"uppy-Dashboard-serviceMsg-text",children:t()})]}),i?u(yh,{id:d.id,i18n:d.i18n,uppy:d.uppy,files:d.files,resumableUploads:d.resumableUploads,hideRetryButton:d.hideRetryButton,hidePauseResumeButton:d.hidePauseResumeButton,hideCancelButton:d.hideCancelButton,showLinkToFileUploadResult:d.showLinkToFileUploadResult,showRemoveButtonAfterComplete:d.showRemoveButtonAfterComplete,metaFields:d.metaFields,toggleFileCard:d.toggleFileCard,handleRequestThumbnail:d.handleRequestThumbnail,handleCancelThumbnail:d.handleCancelThumbnail,recoveredState:d.recoveredState,individualCancellation:d.individualCancellation,openFileEditor:d.openFileEditor,canEditFile:d.canEditFile,toggleAddFilesPanel:d.toggleAddFilesPanel,isSingleFile:c,itemsPerRow:z,containerWidth:d.containerWidth,containerHeight:d.containerHeight}):u(l0,{i18n:d.i18n,i18nArray:d.i18nArray,acquirers:d.acquirers,handleInputChange:d.handleInputChange,maxNumberOfFiles:d.maxNumberOfFiles,allowedFileTypes:d.allowedFileTypes,showNativePhotoCameraButton:d.showNativePhotoCameraButton,showNativeVideoCameraButton:d.showNativeVideoCameraButton,nativeCameraFacingMode:d.nativeCameraFacingMode,showPanel:d.showPanel,activePickerPanel:d.activePickerPanel,disableLocalFiles:d.disableLocalFiles,fileManagerSelectionType:d.fileManagerSelectionType,note:d.note,proudlyDisplayPoweredByUppy:d.proudlyDisplayPoweredByUppy}),u(a0,{children:d.showAddFilesPanel?u(Ea,{...d,isSizeMD:a},"AddFiles"):null}),u(a0,{children:d.fileCardFor?u(oh,{...d},"FileCard"):null}),u(a0,{children:d.activePickerPanel?u(c3,{...d},"Picker"):null}),u(a0,{children:d.showFileEditor?u(na,{...d},"Editor"):null}),u("div",{className:"uppy-Dashboard-progressindicators",children:d.progressindicators.map((X)=>{return d.uppy.getPlugin(X.id).render(d.state)})})]})]})]})}var s3={strings:{closeModal:"Close Modal",addMoreFiles:"Add more files",addingMoreFiles:"Adding more files",importFrom:"Import from %{name}",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",back:"Back",removeFile:"Remove file",editFile:"Edit file",editImage:"Edit image",editing:"Editing %{file}",error:"Error",finishEditingFile:"Finish editing file",saveChanges:"Save changes",myDevice:"My Device",dropHint:"Drop your files here",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy:"Powered by %{uppy}",addMore:"Add more",editFileWithFilename:"Edit file %{file}",save:"Save",cancel:"Cancel",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",browseFiles:"browse files",browseFolders:"browse folders",recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},recoveredAllFiles:"We restored all files. You can now resume the upload.",sessionRestored:"Session restored",reSelect:"Re-select",missingRequiredMetaFields:{0:"Missing required meta field: %{fields}.",1:"Missing required meta fields: %{fields}."},takePictureBtn:"Take Picture",recordVideoBtn:"Record Video"}};var cd=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])'];var V3=W(Hd(),1);function b0(d,h){if(h){let c=d.querySelector(`[data-uppy-paneltype="${h}"]`);if(c)return c}return d}function Fh(){let d=!1;return V3.default((c,a)=>{let b=b0(c,a),f=b.contains(document.activeElement);if(f&&d)return;let z=b.querySelector("[data-uppy-super-focusable]");if(f&&!z)return;if(z)z.focus({preventScroll:!0}),d=!0;else b.querySelector(cd)?.focus({preventScroll:!0}),d=!1},260)}function t3(d,h){let c=h[0];if(c)c.focus(),d.preventDefault()}function n8(d,h){let c=h[h.length-1];if(c)c.focus(),d.preventDefault()}function j8(d){return d.contains(document.activeElement)}function Wh(d,h,c){let a=b0(c,h),b=T(a.querySelectorAll(cd)),f=b.indexOf(document.activeElement);if(!j8(a))t3(d,b);else if(d.shiftKey&&f===0)n8(d,b);else if(!d.shiftKey&&f===b.length-1)t3(d,b)}function w3(d,h,c){if(h===null);else Wh(d,h,c)}var X3=9,l8=27;function O3(){let d={};return d.promise=new Promise((h,c)=>{d.resolve=h,d.reject=c}),d}var e8={target:"body",metaFields:[],thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:_1,showLinkToFileUploadResult:!1,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,note:null,singleFileFullScreen:!0,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,showNativePhotoCameraButton:!1,showNativeVideoCameraButton:!1,theme:"light",autoOpen:null,disabled:!1,disableLocalFiles:!1,nativeCameraFacingMode:"",onDragLeave:()=>{},onDragOver:()=>{},onDrop:()=>{},plugins:[],doneButtonHandler:void 0,onRequestCloseModal:null,inline:!1,animateOpenClose:!0,browserBackButtonClose:!1,closeAfterFinish:!1,closeModalOnClickOutside:!1,disablePageScrollWhenModalOpen:!0,trigger:null,width:750,height:550};class ad extends j{static VERSION=xa.version;#d;modalName=`uppy-Dashboard-${i1()}`;superFocus=Fh();ifFocusedOnUppyRecently=!1;dashboardIsDisabled;savedScrollPosition;savedActiveElement;resizeObserver;darkModeMediaQuery;makeDashboardInsidesVisibleAnywayTimeout;constructor(d,h){let c=h?.autoOpen??null;super(d,{...e8,...h,autoOpen:c});if(this.id=this.opts.id||"Dashboard",this.title="Dashboard",this.type="orchestrator",this.defaultLocale=s3,this.opts.doneButtonHandler===void 0)this.opts.doneButtonHandler=()=>{this.uppy.clear(),this.requestCloseModal()};this.opts.onRequestCloseModal??=()=>this.closeModal(),this.i18nInit()}removeTarget=(d)=>{let c=this.getPluginState().targets.filter((a)=>a.id!==d.id);this.setPluginState({targets:c})};addTarget=(d)=>{let h=d.id||d.constructor.name,c=d.title||h,a=d.type;if(a!=="acquirer"&&a!=="progressindicator"&&a!=="editor")return this.uppy.log("Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor","error"),null;let b={id:h,name:c,type:a},z=this.getPluginState().targets.slice();return z.push(b),this.setPluginState({targets:z}),this.el};hideAllPanels=()=>{let d=this.getPluginState(),h={activePickerPanel:void 0,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1};if(d.activePickerPanel===h.activePickerPanel&&d.showAddFilesPanel===h.showAddFilesPanel&&d.showFileEditor===h.showFileEditor&&d.activeOverlayType===h.activeOverlayType)return;this.setPluginState(h),this.uppy.emit("dashboard:close-panel",d.activePickerPanel?.id)};showPanel=(d)=>{let{targets:h}=this.getPluginState(),c=h.find((a)=>{return a.type==="acquirer"&&a.id===d});this.setPluginState({activePickerPanel:c,activeOverlayType:"PickerPanel"}),this.uppy.emit("dashboard:show-panel",d)};canEditFile=(d)=>{let{targets:h}=this.getPluginState();return this.#i(h).some((a)=>this.uppy.getPlugin(a.id).canEditFile(d))};openFileEditor=(d)=>{let{targets:h}=this.getPluginState(),c=this.#i(h);this.setPluginState({showFileEditor:!0,fileCardFor:d.id||null,activeOverlayType:"FileEditor"}),c.forEach((a)=>{this.uppy.getPlugin(a.id).selectFile(d)})};closeFileEditor=()=>{let{metaFields:d}=this.getPluginState();if(d&&d.length>0)this.setPluginState({showFileEditor:!1,activeOverlayType:"FileCard"});else this.setPluginState({showFileEditor:!1,fileCardFor:null,activeOverlayType:"AddFiles"})};saveFileEditor=()=>{let{targets:d}=this.getPluginState();this.#i(d).forEach((c)=>{this.uppy.getPlugin(c.id).save()}),this.closeFileEditor()};openModal=()=>{let{promise:d,resolve:h}=O3();if(this.savedScrollPosition=window.pageYOffset,this.savedActiveElement=document.activeElement,this.opts.disablePageScrollWhenModalOpen)document.body.classList.add("uppy-Dashboard-isFixed");if(this.opts.animateOpenClose&&this.getPluginState().isClosing){let c=()=>{this.setPluginState({isHidden:!1}),this.el.removeEventListener("animationend",c,!1),h()};this.el.addEventListener("animationend",c,!1)}else this.setPluginState({isHidden:!1}),h();if(this.opts.browserBackButtonClose)this.updateBrowserHistory();return document.addEventListener("keydown",this.handleKeyDownInModal),this.uppy.emit("dashboard:modal-open"),d};closeModal=(d)=>{let h=d?.manualClose??!0,{isHidden:c,isClosing:a}=this.getPluginState();if(c||a)return;let{promise:b,resolve:f}=O3();if(this.opts.disablePageScrollWhenModalOpen)document.body.classList.remove("uppy-Dashboard-isFixed");if(this.opts.animateOpenClose){this.setPluginState({isClosing:!0});let z=()=>{this.setPluginState({isHidden:!0,isClosing:!1}),this.superFocus.cancel(),this.savedActiveElement.focus(),this.el.removeEventListener("animationend",z,!1),f()};this.el.addEventListener("animationend",z,!1)}else this.setPluginState({isHidden:!0}),this.superFocus.cancel(),this.savedActiveElement.focus(),f();if(document.removeEventListener("keydown",this.handleKeyDownInModal),h){if(this.opts.browserBackButtonClose){if(history.state?.[this.modalName])history.back()}}return this.uppy.emit("dashboard:modal-closed"),b};isModalOpen=()=>{return!this.getPluginState().isHidden||!1};requestCloseModal=()=>{if(this.opts.onRequestCloseModal)return this.opts.onRequestCloseModal();return this.closeModal()};setDarkModeCapability=(d)=>{let{capabilities:h}=this.uppy.getState();this.uppy.setState({capabilities:{...h,darkMode:d}})};handleSystemDarkModeChange=(d)=>{let h=d.matches;this.uppy.log(`[Dashboard] Dark mode is ${h?"on":"off"}`),this.setDarkModeCapability(h)};toggleFileCard=(d,h)=>{let c=this.uppy.getFile(h);if(d)this.uppy.emit("dashboard:file-edit-start",c);else this.uppy.emit("dashboard:file-edit-complete",c);this.setPluginState({fileCardFor:d?h:null,activeOverlayType:d?"FileCard":null})};toggleAddFilesPanel=(d)=>{this.setPluginState({showAddFilesPanel:d,activeOverlayType:d?"AddFiles":null})};addFiles=(d)=>{let h=d.map((c)=>({source:this.id,name:c.name,type:c.type,data:c,meta:{relativePath:c.relativePath||c.webkitRelativePath||null}}));try{this.uppy.addFiles(h)}catch(c){this.uppy.log(c)}};startListeningToResize=()=>{this.resizeObserver=new ResizeObserver((d)=>{let h=d[0],{width:c,height:a}=h.contentRect;this.setPluginState({containerWidth:c,containerHeight:a,areInsidesReadyToBeVisible:!0})}),this.resizeObserver.observe(this.el.querySelector(".uppy-Dashboard-inner")),this.makeDashboardInsidesVisibleAnywayTimeout=setTimeout(()=>{let d=this.getPluginState(),h=!this.opts.inline&&d.isHidden;if(!d.areInsidesReadyToBeVisible&&!h)this.uppy.log("[Dashboard] resize event didnâ€™t fire on time: defaulted to mobile layout","warning"),this.setPluginState({areInsidesReadyToBeVisible:!0})},1000)};stopListeningToResize=()=>{this.resizeObserver.disconnect(),clearTimeout(this.makeDashboardInsidesVisibleAnywayTimeout)};recordIfFocusedOnUppyRecently=(d)=>{if(this.el.contains(d.target))this.ifFocusedOnUppyRecently=!0;else this.ifFocusedOnUppyRecently=!1,this.superFocus.cancel()};disableInteractiveElements=(d)=>{let h=["a[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])",'[role="button"]:not([disabled])'],c=this.#d??T(this.el.querySelectorAll(h)).filter((a)=>!a.classList.contains("uppy-Dashboard-close"));for(let a of c)if(a.tagName==="A")a.setAttribute("aria-disabled",d);else a.disabled=d;if(d)this.#d=c;else this.#d=null;this.dashboardIsDisabled=d};updateBrowserHistory=()=>{if(!history.state?.[this.modalName])history.pushState({...history.state,[this.modalName]:!0},"");window.addEventListener("popstate",this.handlePopState,!1)};handlePopState=(d)=>{if(this.isModalOpen()&&(!d.state||!d.state[this.modalName]))this.closeModal({manualClose:!1});if(!this.isModalOpen()&&d.state?.[this.modalName])history.back()};handleKeyDownInModal=(d)=>{if(d.keyCode===l8)this.requestCloseModal();if(d.keyCode===X3)Wh(d,this.getPluginState().activeOverlayType,this.el)};handleClickOutside=()=>{if(this.opts.closeModalOnClickOutside)this.requestCloseModal()};handlePaste=(d)=>{this.uppy.iteratePlugins((c)=>{if(c.type==="acquirer")c.handleRootPaste?.(d)});let h=T(d.clipboardData.files);if(h.length>0)this.uppy.log("[Dashboard] Files pasted"),this.addFiles(h)};handleInputChange=(d)=>{d.preventDefault();let h=T(d.currentTarget.files||[]);if(h.length>0)this.uppy.log("[Dashboard] Files selected through input"),this.addFiles(h)};handleDragOver=(d)=>{d.preventDefault(),d.stopPropagation();let h=()=>{let f=!0;return this.uppy.iteratePlugins((z)=>{if(z.canHandleRootDrop?.(d))f=!0}),f},c=()=>{let{types:f}=d.dataTransfer;return f.some((z)=>z==="Files")},a=h(),b=c();if(!a&&!b||this.opts.disabled||this.opts.disableLocalFiles&&(b||!a)||!this.uppy.getState().allowNewUpload){d.dataTransfer.dropEffect="none";return}d.dataTransfer.dropEffect="copy",this.setPluginState({isDraggingOver:!0}),this.opts.onDragOver(d)};handleDragLeave=(d)=>{d.preventDefault(),d.stopPropagation(),this.setPluginState({isDraggingOver:!1}),this.opts.onDragLeave(d)};handleDrop=async(d)=>{d.preventDefault(),d.stopPropagation(),this.setPluginState({isDraggingOver:!1}),this.uppy.iteratePlugins((b)=>{if(b.type==="acquirer")b.handleRootDrop?.(d)});let h=!1,c=(b)=>{if(this.uppy.log(b,"error"),!h)this.uppy.info(b.message,"error"),h=!0};this.uppy.log("[Dashboard] Processing dropped files");let a=await e1(d.dataTransfer,{logDropError:c});if(a.length>0)this.uppy.log("[Dashboard] Files dropped"),this.addFiles(a);this.opts.onDrop(d)};handleRequestThumbnail=(d)=>{if(!this.opts.waitForThumbnailsBeforeUpload)this.uppy.emit("thumbnail:request",d)};handleCancelThumbnail=(d)=>{if(!this.opts.waitForThumbnailsBeforeUpload)this.uppy.emit("thumbnail:cancel",d)};handleKeyDownInInline=(d)=>{if(d.keyCode===X3)w3(d,this.getPluginState().activeOverlayType,this.el)};handlePasteOnBody=(d)=>{if(this.el.contains(document.activeElement))this.handlePaste(d)};handleComplete=({failed:d})=>{if(this.opts.closeAfterFinish&&!d?.length)this.requestCloseModal()};handleCancelRestore=()=>{this.uppy.emit("restore-canceled")};#h=()=>{if(this.opts.disableThumbnailGenerator)return;let d=600,h=this.uppy.getFiles();if(h.length===1){let c=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);c?.setOptions({thumbnailWidth:d});let a={...h[0],preview:void 0};c?.requestThumbnail(a).then(()=>{c?.setOptions({thumbnailWidth:this.opts.thumbnailWidth})})}};#c=(d)=>{let h=d[0],{metaFields:c}=this.getPluginState(),a=c&&c.length>0,b=this.canEditFile(h);if(a&&this.opts.autoOpen==="metaEditor")this.toggleFileCard(!0,h.id);else if(b&&this.opts.autoOpen==="imageEditor")this.openFileEditor(h)};initEvents=()=>{if(this.opts.trigger&&!this.opts.inline){let d=th(this.opts.trigger);if(d)d.forEach((h)=>h.addEventListener("click",this.openModal));else this.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}if(this.startListeningToResize(),document.addEventListener("paste",this.handlePasteOnBody),this.uppy.on("plugin-added",this.#m),this.uppy.on("plugin-remove",this.removeTarget),this.uppy.on("file-added",this.hideAllPanels),this.uppy.on("dashboard:modal-closed",this.hideAllPanels),this.uppy.on("complete",this.handleComplete),this.uppy.on("files-added",this.#h),this.uppy.on("file-removed",this.#h),document.addEventListener("focus",this.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",this.recordIfFocusedOnUppyRecently,!0),this.opts.inline)this.el.addEventListener("keydown",this.handleKeyDownInInline);if(this.opts.autoOpen)this.uppy.on("files-added",this.#c)};removeEvents=()=>{let d=th(this.opts.trigger);if(!this.opts.inline&&d)d.forEach((h)=>h.removeEventListener("click",this.openModal));if(this.stopListeningToResize(),document.removeEventListener("paste",this.handlePasteOnBody),window.removeEventListener("popstate",this.handlePopState,!1),this.uppy.off("plugin-added",this.#m),this.uppy.off("plugin-remove",this.removeTarget),this.uppy.off("file-added",this.hideAllPanels),this.uppy.off("dashboard:modal-closed",this.hideAllPanels),this.uppy.off("complete",this.handleComplete),this.uppy.off("files-added",this.#h),this.uppy.off("file-removed",this.#h),document.removeEventListener("focus",this.recordIfFocusedOnUppyRecently),document.removeEventListener("click",this.recordIfFocusedOnUppyRecently),this.opts.inline)this.el.removeEventListener("keydown",this.handleKeyDownInInline);if(this.opts.autoOpen)this.uppy.off("files-added",this.#c)};superFocusOnEachUpdate=()=>{let d=this.el.contains(document.activeElement),h=document.activeElement===document.body||document.activeElement===null,c=this.uppy.getState().info.length===0,a=!this.opts.inline;if(c&&(a||d||h&&this.ifFocusedOnUppyRecently))this.superFocus(this.el,this.getPluginState().activeOverlayType);else this.superFocus.cancel()};afterUpdate=()=>{if(this.opts.disabled&&!this.dashboardIsDisabled){this.disableInteractiveElements(!0);return}if(!this.opts.disabled&&this.dashboardIsDisabled)this.disableInteractiveElements(!1);this.superFocusOnEachUpdate()};saveFileCard=(d,h)=>{this.uppy.setFileMeta(h,d),this.toggleFileCard(!1,h)};#a=(d)=>{let h=this.uppy.getPlugin(d.id);return{...d,icon:h.icon||this.opts.defaultPickerIcon,render:h.render}};#f=(d)=>{let h=this.uppy.getPlugin(d.id);if(typeof h.isSupported!=="function")return!0;return h.isSupported()};#u=(d)=>{return d.filter((h)=>h.type==="acquirer"&&this.#f(h)).map(this.#a)};#z=(d)=>{return d.filter((h)=>h.type==="progressindicator").map(this.#a)};#i=(d)=>{return d.filter((h)=>h.type==="editor").map(this.#a)};render=(d)=>{let h=this.getPluginState(),{files:c,capabilities:a,allowNewUpload:b}=d,{newFiles:f,uploadStartedFiles:z,completeFiles:i,erroredFiles:m,inProgressFiles:s,inProgressNotPausedFiles:t,processingFiles:V,isUploadStarted:X,isAllComplete:w,isAllPaused:O}=this.uppy.getObjectOfFilesPerState(),Z=this.#u(h.targets),M=this.#z(h.targets),o=this.#i(h.targets),U;if(this.opts.theme==="auto")U=a.darkMode?"dark":"light";else U=this.opts.theme;if(["files","folders","both"].indexOf(this.opts.fileManagerSelectionType)<0)this.opts.fileManagerSelectionType="files",console.warn(`Unsupported option for "fileManagerSelectionType". Using default of "${this.opts.fileManagerSelectionType}".`);return Nh({state:d,isHidden:h.isHidden,files:c,newFiles:f,uploadStartedFiles:z,completeFiles:i,erroredFiles:m,inProgressFiles:s,inProgressNotPausedFiles:t,processingFiles:V,isUploadStarted:X,isAllComplete:w,isAllPaused:O,totalFileCount:Object.keys(c).length,totalProgress:d.totalProgress,allowNewUpload:b,acquirers:Z,theme:U,disabled:this.opts.disabled,disableLocalFiles:this.opts.disableLocalFiles,direction:this.opts.direction,activePickerPanel:h.activePickerPanel,showFileEditor:h.showFileEditor,saveFileEditor:this.saveFileEditor,closeFileEditor:this.closeFileEditor,disableInteractiveElements:this.disableInteractiveElements,animateOpenClose:this.opts.animateOpenClose,isClosing:h.isClosing,progressindicators:M,editors:o,autoProceed:this.uppy.opts.autoProceed,id:this.id,closeModal:this.requestCloseModal,handleClickOutside:this.handleClickOutside,handleInputChange:this.handleInputChange,handlePaste:this.handlePaste,inline:this.opts.inline,showPanel:this.showPanel,hideAllPanels:this.hideAllPanels,i18n:this.i18n,i18nArray:this.i18nArray,uppy:this.uppy,note:this.opts.note,recoveredState:d.recoveredState,metaFields:h.metaFields,resumableUploads:a.resumableUploads||!1,individualCancellation:a.individualCancellation,isMobileDevice:a.isMobileDevice,fileCardFor:h.fileCardFor,toggleFileCard:this.toggleFileCard,toggleAddFilesPanel:this.toggleAddFilesPanel,showAddFilesPanel:h.showAddFilesPanel,saveFileCard:this.saveFileCard,openFileEditor:this.openFileEditor,canEditFile:this.canEditFile,width:this.opts.width,height:this.opts.height,showLinkToFileUploadResult:this.opts.showLinkToFileUploadResult,fileManagerSelectionType:this.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:this.opts.proudlyDisplayPoweredByUppy,hideCancelButton:this.opts.hideCancelButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,showRemoveButtonAfterComplete:this.opts.showRemoveButtonAfterComplete,containerWidth:h.containerWidth,containerHeight:h.containerHeight,areInsidesReadyToBeVisible:h.areInsidesReadyToBeVisible,parentElement:this.el,allowedFileTypes:this.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:this.uppy.opts.restrictions.maxNumberOfFiles,requiredMetaFields:this.uppy.opts.restrictions.requiredMetaFields,showSelectedFiles:this.opts.showSelectedFiles,showNativePhotoCameraButton:this.opts.showNativePhotoCameraButton,showNativeVideoCameraButton:this.opts.showNativeVideoCameraButton,nativeCameraFacingMode:this.opts.nativeCameraFacingMode,singleFileFullScreen:this.opts.singleFileFullScreen,handleCancelRestore:this.handleCancelRestore,handleRequestThumbnail:this.handleRequestThumbnail,handleCancelThumbnail:this.handleCancelThumbnail,isDraggingOver:h.isDraggingOver,handleDragOver:this.handleDragOver,handleDragLeave:this.handleDragLeave,handleDrop:this.handleDrop})};#b=()=>{let{plugins:d}=this.opts;d.forEach((h)=>{let c=this.uppy.getPlugin(h);if(c)c.mount(this,c);else this.uppy.log(`[Uppy] Dashboard could not find plugin '${h}', make sure to uppy.use() the plugins you are specifying`,"warning")})};#w=()=>{this.uppy.iteratePlugins(this.#m)};#m=(d)=>{let h=["acquirer","editor"];if(d&&!d.opts?.target&&h.includes(d.type)){if(!this.getPluginState().targets.some((a)=>d.id===a.id))d.mount(this,d)}};#t(){let{hideUploadButton:d,hideRetryButton:h,hidePauseResumeButton:c,hideCancelButton:a,showProgressDetails:b,hideProgressAfterFinish:f,locale:z,doneButtonHandler:i}=this.opts;return{hideUploadButton:d,hideRetryButton:h,hidePauseResumeButton:c,hideCancelButton:a,showProgressDetails:b,hideAfterFinish:f,locale:z,doneButtonHandler:i}}#s(){let{thumbnailWidth:d,thumbnailHeight:h,thumbnailType:c,waitForThumbnailsBeforeUpload:a}=this.opts;return{thumbnailWidth:d,thumbnailHeight:h,thumbnailType:c,waitForThumbnailsBeforeUpload:a,lazy:!a}}#V(){return{}}setOptions(d){super.setOptions(d),this.uppy.getPlugin(this.#o())?.setOptions(this.#t()),this.uppy.getPlugin(this.#U())?.setOptions(this.#s())}#o(){return`${this.id}:StatusBar`}#U(){return`${this.id}:ThumbnailGenerator`}#A(){return`${this.id}:Informer`}install=()=>{this.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:void 0,showFileEditor:!1,metaFields:this.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});let{inline:d,closeAfterFinish:h}=this.opts;if(d&&h)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");let{allowMultipleUploads:c,allowMultipleUploadBatches:a}=this.uppy.opts;if((c||a)&&h)this.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");let{target:b}=this.opts;if(b)this.mount(b,this);if(!this.opts.disableStatusBar)this.uppy.use(x1,{id:this.#o(),target:this,...this.#t()});if(!this.opts.disableInformer)this.uppy.use(k1,{id:this.#A(),target:this,...this.#V()});if(!this.opts.disableThumbnailGenerator)this.uppy.use(j0,{id:this.#U(),...this.#s()});this.darkModeMediaQuery=typeof window!=="undefined"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;let f=this.darkModeMediaQuery?this.darkModeMediaQuery.matches:!1;if(this.uppy.log(`[Dashboard] Dark mode is ${f?"on":"off"}`),this.setDarkModeCapability(f),this.opts.theme==="auto")this.darkModeMediaQuery?.addListener(this.handleSystemDarkModeChange);this.#b(),this.#w(),this.initEvents()};uninstall=()=>{if(!this.opts.disableInformer){let h=this.uppy.getPlugin(`${this.id}:Informer`);if(h)this.uppy.removePlugin(h)}if(!this.opts.disableStatusBar){let h=this.uppy.getPlugin(`${this.id}:StatusBar`);if(h)this.uppy.removePlugin(h)}if(!this.opts.disableThumbnailGenerator){let h=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);if(h)this.uppy.removePlugin(h)}let{plugins:d}=this.opts;if(d.forEach((h)=>{let c=this.uppy.getPlugin(h);if(c)c.unmount()}),this.opts.theme==="auto")this.darkModeMediaQuery?.removeListener(this.handleSystemDarkModeChange);if(this.opts.disablePageScrollWhenModalOpen)document.body.classList.remove("uppy-Dashboard-isFixed");this.unmount(),this.removeEvents()}}var o3={name:"@uppy/drag-drop",description:"Droppable zone UI for Uppy. Drag and drop files into it to upload.",version:"4.2.2",license:"MIT",main:"lib/index.js",style:"dist/style.min.css",type:"module",scripts:{build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build"},keywords:["file uploader","uppy","uppy-plugin","drag-drop","drag","drop","dropzone","upload"],homepage:"https://uppy.io",bugs:{url:"https://github.com/transloadit/uppy/issues"},repository:{type:"git",url:"git+https://github.com/transloadit/uppy.git"},files:["src","lib","dist","CHANGELOG.md"],dependencies:{"@uppy/utils":"^6.2.2",preact:"^10.5.13"},peerDependencies:{"@uppy/core":"^4.5.2"},devDependencies:{cssnano:"^7.0.7",postcss:"^8.5.6","postcss-cli":"^11.0.1",sass:"^1.89.2",typescript:"^5.8.3"}};var U3={strings:{dropHereOr:"Drop here or %{browse}",browse:"browse"}};var h6={inputName:"files[]",width:"100%",height:"100%"};class f0 extends j{static VERSION=o3.version;isDragDropSupported=d0();fileInputRef;constructor(d,h){super(d,{...h6,...h});this.type="acquirer",this.id=this.opts.id||"DragDrop",this.title="Drag & Drop",this.defaultLocale=U3,this.i18nInit()}addFiles=(d)=>{let h=d.map((c)=>({source:this.id,name:c.name,type:c.type,data:c,meta:{relativePath:c.relativePath||null}}));try{this.uppy.addFiles(h)}catch(c){this.uppy.log(c)}};onInputChange=(d)=>{let h=T(d.currentTarget.files||[]);if(h.length>0)this.uppy.log("[DragDrop] Files selected through input"),this.addFiles(h);d.currentTarget.value=""};handleDragOver=(d)=>{d.preventDefault(),d.stopPropagation();let{types:h}=d.dataTransfer,c=h.some((b)=>b==="Files"),{allowNewUpload:a}=this.uppy.getState();if(!c||!a){d.dataTransfer.dropEffect="none";return}d.dataTransfer.dropEffect="copy",this.setPluginState({isDraggingOver:!0}),this.opts.onDragOver?.(d)};handleDragLeave=(d)=>{d.preventDefault(),d.stopPropagation(),this.setPluginState({isDraggingOver:!1}),this.opts.onDragLeave?.(d)};handleDrop=async(d)=>{d.preventDefault(),d.stopPropagation(),this.setPluginState({isDraggingOver:!1});let h=(a)=>{this.uppy.log(a,"error")},c=await e1(d.dataTransfer,{logDropError:h});if(c.length>0)this.uppy.log("[DragDrop] Files dropped"),this.addFiles(c);this.opts.onDrop?.(d)};renderHiddenFileInput(){let{restrictions:d}=this.uppy.opts;return u("input",{className:"uppy-DragDrop-input",type:"file",hidden:!0,ref:(h)=>{this.fileInputRef=h},name:this.opts.inputName,multiple:d.maxNumberOfFiles!==1,accept:d.allowedFileTypes?.join(", "),onChange:this.onInputChange})}static renderArrowSvg(){return u("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-DragDrop-arrow",width:"16",height:"16",viewBox:"0 0 16 16",children:u("path",{d:"M11 10V0H5v10H2l6 6 6-6h-3zm0 0",fillRule:"evenodd"})})}renderLabel(){return u("div",{className:"uppy-DragDrop-label",children:this.i18nArray("dropHereOr",{browse:u("span",{className:"uppy-DragDrop-browse",children:this.i18n("browse")})})})}renderNote(){return u("span",{className:"uppy-DragDrop-note",children:this.opts.note})}render(){let d=`uppy-u-reset
      uppy-DragDrop-container
      ${this.isDragDropSupported?"uppy-DragDrop--isDragDropSupported":""}
      ${this.getPluginState().isDraggingOver?"uppy-DragDrop--isDraggingOver":""}
    `,h={width:this.opts.width,height:this.opts.height};return u("button",{type:"button",className:d,style:h,onClick:()=>this.fileInputRef.click(),onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop,children:[this.renderHiddenFileInput(),u("div",{className:"uppy-DragDrop-inner",children:[f0.renderArrowSvg(),this.renderLabel(),this.renderNote()]})]})}install(){let{target:d}=this.opts;if(this.setPluginState({isDraggingOver:!1}),d)this.mount(d,this)}uninstall(){this.unmount()}}class bd{#d;#h=[];constructor(d){this.#d=d}on(d,h){return this.#h.push([d,h]),this.#d.on(d,h)}remove(){for(let[d,h]of this.#h.splice(0))this.#d.off(d,h)}onFilePause(d,h){this.on("upload-pause",(c,a)=>{if(d===c?.id)h(a)})}onFileRemove(d,h){this.on("file-removed",(c)=>{if(d===c.id)h(c.id)})}onPause(d,h){this.on("upload-pause",(c,a)=>{if(d===c?.id)h(a)})}onRetry(d,h){this.on("upload-retry",(c)=>{if(d===c?.id)h()})}onRetryAll(d,h){this.on("retry-all",()=>{if(!this.#d.getFile(d))return;h()})}onPauseAll(d,h){this.on("pause-all",()=>{if(!this.#d.getFile(d))return;h()})}onCancelAll(d,h){this.on("cancel-all",(...c)=>{if(!this.#d.getFile(d))return;h(...c)})}onResumeAll(d,h){this.on("resume-all",()=>{if(!this.#d.getFile(d))return;h()})}}class M3 extends Error{cause;isNetworkError;request;constructor(d,h=null){super("This looks like a network error, the endpoint might be blocked by an internet provider or a firewall.");this.cause=d,this.isNetworkError=!0,this.request=h}}var z0=M3;class Y3{#d;#h=!1;#c;#a;constructor(d,h){this.#a=d,this.#c=()=>h(d)}progress(){if(this.#h)return;if(this.#a>0)clearTimeout(this.#d),this.#d=setTimeout(this.#c,this.#a)}done(){if(!this.#h)clearTimeout(this.#d),this.#d=void 0,this.#h=!0}}var A3=Y3;var fd=()=>{};function $3(d,h={}){let{body:c=null,headers:a={},method:b="GET",onBeforeRequest:f=fd,onUploadProgress:z=fd,shouldRetry:i=()=>!0,onAfterResponse:m=fd,onTimeout:s=fd,responseType:t,retries:V=3,signal:X=null,timeout:w=30000,withCredentials:O=!1}=h,Z=(U)=>0.3*2**(U-1)*1000,M=new A3(w,s);function o(U=0){return new Promise(async(y,F)=>{let Y=new XMLHttpRequest,A=(L)=>{if(i(Y)&&U<V)setTimeout(()=>{o(U+1).then(y,F)},Z(U));else M.done(),F(L)};if(Y.open(b,d,!0),Y.withCredentials=O,t)Y.responseType=t;if(X?.addEventListener("abort",()=>{Y.abort(),F(new DOMException("Aborted","AbortError"))}),Y.onload=async()=>{try{await m(Y,U)}catch(L){L.request=Y,A(L);return}if(Y.status>=200&&Y.status<300)M.done(),y(Y);else if(i(Y)&&U<V)setTimeout(()=>{o(U+1).then(y,F)},Z(U));else M.done(),F(new z0(Y.statusText,Y))},Y.onerror=()=>A(new z0(Y.statusText,Y)),Y.upload.onprogress=(L)=>{M.progress(),z(L)},a)Object.keys(a).forEach((L)=>{Y.setRequestHeader(L,a[L])});await f(Y,U),Y.send(c)})}return o()}function Z3(d){let h=(c)=>("error"in c)&&!!c.error;return d.filter((c)=>!h(c))}function L3(d){return d.filter((h)=>!h.progress?.uploadStarted||!h.isRestored)}function zd(d,h){if(d===!0)return Object.keys(h);if(Array.isArray(d))return d;return[]}function c6(d){if(!d)return!1;return d.readyState!==0&&d.readyState!==4||d.status===0}var y3=c6;function a6(d){return new Error("Cancelled",{cause:d})}function G3(d){if(d!=null){let h=()=>this.abort(d.reason);d.addEventListener("abort",h,{once:!0});let c=()=>{d.removeEventListener("abort",h)};this.then?.(c,c)}return this}class Hh{#d=0;#h=[];#c=!1;#a;#f=1;#u;#z;limit;constructor(d){if(typeof d!=="number"||d===0)this.limit=1/0;else this.limit=d}#i(d){this.#d+=1;let h=!1,c;try{c=d()}catch(a){throw this.#d-=1,a}return{abort:(a)=>{if(h)return;h=!0,this.#d-=1,c?.(a),this.#b()},done:()=>{if(h)return;h=!0,this.#d-=1,this.#b()}}}#b(){queueMicrotask(()=>this.#w())}#w(){if(this.#c||this.#d>=this.limit)return;if(this.#h.length===0)return;let d=this.#h.shift();if(d==null)throw new Error("Invariant violation: next is null");let h=this.#i(d.fn);d.abort=h.abort,d.done=h.done}#m(d,h){let c={fn:d,priority:h?.priority||0,abort:()=>{this.#t(c)},done:()=>{throw new Error("Cannot mark a queued request as done: this indicates a bug")}},a=this.#h.findIndex((b)=>{return c.priority>b.priority});if(a===-1)this.#h.push(c);else this.#h.splice(a,0,c);return c}#t(d){let h=this.#h.indexOf(d);if(h!==-1)this.#h.splice(h,1)}run(d,h){if(!this.#c&&this.#d<this.limit)return this.#i(d);return this.#m(d,h)}wrapSyncFunction(d,h){return(...c)=>{let a=this.run(()=>{return d(...c),queueMicrotask(()=>a.done()),()=>{}},h);return{abortOn:G3,abort(){a.abort()}}}}wrapPromiseFunction(d,h){return(...c)=>{let a,b=new Promise((f,z)=>{a=this.run(()=>{let i,m;try{m=Promise.resolve(d(...c))}catch(s){m=Promise.reject(s)}return m.then((s)=>{if(i)z(i);else a.done(),f(s)},(s)=>{if(i)z(i);else a.done(),z(s)}),(s)=>{i=a6(s)}},h)});return b.abort=(f)=>{a.abort(f)},b.abortOn=G3,b}}resume(){this.#c=!1,clearTimeout(this.#a);for(let d=0;d<this.limit;d++)this.#b()}#s=()=>this.resume();pause(d=null){if(this.#c=!0,clearTimeout(this.#a),d!=null)this.#a=setTimeout(this.#s,d)}rateLimit(d){if(clearTimeout(this.#z),this.pause(d),this.limit>1&&Number.isFinite(this.limit))this.#u=this.limit-1,this.limit=this.#f,this.#z=setTimeout(this.#V,d)}#V=()=>{if(this.#c){this.#z=setTimeout(this.#V,0);return}this.#f=this.limit,this.limit=Math.ceil((this.#u+this.#f)/2);for(let d=this.#f;d<=this.limit;d++)this.#b();if(this.#u-this.#f>3)this.#z=setTimeout(this.#V,2000);else this.#f=Math.floor(this.#f/2)};get isPaused(){return this.#c}}var ud=Symbol("__queue");var N3={name:"@uppy/xhr-upload",description:"Plain and simple classic HTML multipart form uploads with Uppy, as well as uploads using the HTTP PUT method.",version:"4.4.2",license:"MIT",main:"lib/index.js",type:"module",scripts:{build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},keywords:["file uploader","xhr","xhr upload","XMLHttpRequest","ajax","fetch","uppy","uppy-plugin"],homepage:"https://uppy.io",bugs:{url:"https://github.com/transloadit/uppy/issues"},repository:{type:"git",url:"git+https://github.com/transloadit/uppy.git"},files:["src","lib","dist","CHANGELOG.md"],dependencies:{"@uppy/companion-client":"^4.5.2","@uppy/utils":"^6.2.2"},devDependencies:{"@uppy/core":"^4.5.2",jsdom:"^26.1.0",nock:"^13.1.0",typescript:"^5.8.3",vitest:"^3.2.4"},peerDependencies:{"@uppy/core":"^4.5.2"}};var F3={strings:{uploadStalled:"Upload has not made any progress for %{seconds} seconds. You may want to retry it."}};function f6(d,h){let c=h;if(!c)c=new Error("Upload error");if(typeof c==="string")c=new Error(c);if(!(c instanceof Error))c=Object.assign(new Error("Upload error"),{data:c});if(y3(d))return c=new z0(c,d),c;return c.request=d,c}function W3(d){return d.data.slice(0,d.data.size,d.meta.type)}var z6={formData:!0,fieldName:"file",method:"post",allowedMetaFields:!0,bundle:!1,headers:{},timeout:30000,limit:5,withCredentials:!1,responseType:""};class Qh extends a1{static VERSION=N3.version;#d;requests;uploaderEvents;constructor(d,h){super(d,{...z6,fieldName:h.bundle?"files[]":"file",...h});if(this.type="uploader",this.id=this.opts.id||"XHRUpload",this.defaultLocale=F3,this.i18nInit(),ud in this.opts)this.requests=this.opts[ud];else this.requests=new Hh(this.opts.limit);if(this.opts.bundle&&!this.opts.formData)throw new Error("`opts.formData` must be true when `opts.bundle` is enabled.");if(this.opts.bundle&&typeof this.opts.headers==="function")throw new Error("`opts.headers` can not be a function when the `bundle: true` option is set.");if(h?.allowedMetaFields===void 0&&"metaFields"in this.opts)throw new Error("The `metaFields` option has been renamed to `allowedMetaFields`.");this.uploaderEvents=Object.create(null),this.#d=(c)=>{return async(a,b)=>{try{let f=await $3(a,{...b,onBeforeRequest:(m,s)=>this.opts.onBeforeRequest?.(m,s,c),shouldRetry:this.opts.shouldRetry,onAfterResponse:this.opts.onAfterResponse,onTimeout:(m)=>{let s=Math.ceil(m/1000),t=new Error(this.i18n("uploadStalled",{seconds:s}));this.uppy.emit("upload-stalled",t,c)},onUploadProgress:(m)=>{if(m.lengthComputable)for(let{id:s}of c){let t=this.uppy.getFile(s);this.uppy.emit("upload-progress",t,{uploadStarted:t.progress.uploadStarted??0,bytesUploaded:m.loaded/m.total*t.size,bytesTotal:t.size})}}}),z=await this.opts.getResponseData?.(f);if(f.responseType==="json")z??=f.response;else try{z??=JSON.parse(f.responseText)}catch(m){throw new Error("@uppy/xhr-upload expects a JSON response (with a `url` property). To parse non-JSON responses, use `getResponseData` to turn your response into JSON.",{cause:m})}let i=typeof z?.url==="string"?z.url:void 0;for(let{id:m}of c)this.uppy.emit("upload-success",this.uppy.getFile(m),{status:f.status,body:z,uploadURL:i});return f}catch(f){if(f.name==="AbortError")return;let z=f.request;for(let i of c)this.uppy.emit("upload-error",this.uppy.getFile(i.id),f6(z,f),z);throw f}}}}getOptions(d){let h=this.uppy.getState().xhrUpload,{headers:c}=this.opts,a={...this.opts,...h||{},...d.xhrUpload||{},headers:{}};if(typeof c==="function")a.headers=c(d);else Object.assign(a.headers,this.opts.headers);if(h)Object.assign(a.headers,h.headers);if(d.xhrUpload)Object.assign(a.headers,d.xhrUpload.headers);return a}addMetadata(d,h,c){zd(c.allowedMetaFields,h).forEach((b)=>{let f=h[b];if(Array.isArray(f))f.forEach((z)=>d.append(b,z));else d.append(b,f)})}createFormDataUpload(d,h){let c=new FormData;this.addMetadata(c,d.meta,h);let a=W3(d);if(d.name)c.append(h.fieldName,a,d.meta.name);else c.append(h.fieldName,a);return c}createBundledUpload(d,h){let c=new FormData,{meta:a}=this.uppy.getState();return this.addMetadata(c,a,h),d.forEach((b)=>{let f=this.getOptions(b),z=W3(b);if(b.name)c.append(f.fieldName,z,b.name);else c.append(f.fieldName,z)}),c}async#h(d){let h=new bd(this.uppy),c=new AbortController,a=this.requests.wrapPromiseFunction(async()=>{let b=this.getOptions(d),f=this.#d([d]),z=b.formData?this.createFormDataUpload(d,b):d.data,i=typeof b.endpoint==="string"?b.endpoint:await b.endpoint(d);return f(i,{...b,body:z,signal:c.signal})});h.onFileRemove(d.id,()=>c.abort()),h.onCancelAll(d.id,()=>{c.abort()});try{await a().abortOn(c.signal)}catch(b){if(b.message!=="Cancelled")throw b}finally{h.remove()}}async#c(d){let h=new AbortController,c=this.requests.wrapPromiseFunction(async()=>{let b=this.uppy.getState().xhrUpload??{},f=this.#d(d),z=this.createBundledUpload(d,{...this.opts,...b}),i=typeof this.opts.endpoint==="string"?this.opts.endpoint:await this.opts.endpoint(d);return f(i,{...this.opts,body:z,signal:h.signal})});function a(){h.abort()}this.uppy.once("cancel-all",a);try{await c().abortOn(h.signal)}catch(b){if(b.message!=="Cancelled")throw b}finally{this.uppy.off("cancel-all",a)}}#a(d){let h=this.getOptions(d),c=zd(h.allowedMetaFields,d.meta);return{...d.remote?.body,protocol:"multipart",endpoint:h.endpoint,size:d.data.size,fieldname:h.fieldName,metadata:Object.fromEntries(c.map((a)=>[a,d.meta[a]])),httpMethod:h.method,useFormData:h.formData,headers:h.headers}}async#f(d){await Promise.allSettled(d.map((h)=>{if(h.isRemote){let c=()=>this.requests,a=new AbortController,b=(z)=>{if(z.id===h.id)a.abort()};this.uppy.on("file-removed",b);let f=this.uppy.getRequestClientForFile(h).uploadRemoteFile(h,this.#a(h),{signal:a.signal,getQueue:c});return this.requests.wrapSyncFunction(()=>{this.uppy.off("file-removed",b)},{priority:-1})(),f}return this.#h(h)}))}#u=async(d)=>{if(d.length===0){this.uppy.log("[XHRUpload] No files to upload!");return}if(this.opts.limit===0&&!this.opts[ud])this.uppy.log("[XHRUpload] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/xhr-upload/#limit-0","warning");this.uppy.log("[XHRUpload] Uploading...");let h=this.uppy.getFilesByIds(d),c=Z3(h),a=L3(c);if(this.uppy.emit("upload-start",a),this.opts.bundle){if(c.some((f)=>f.isRemote))throw new Error("Canâ€™t upload remote files when the `bundle: true` option is set");if(typeof this.opts.headers==="function")throw new TypeError("`headers` may not be a function when the `bundle: true` option is set");await this.#c(c)}else await this.#f(c)};install(){if(this.opts.bundle){let{capabilities:d}=this.uppy.getState();this.uppy.setState({capabilities:{...d,individualCancellation:!1}})}this.uppy.addUploader(this.#u)}uninstall(){if(this.opts.bundle){let{capabilities:d}=this.uppy.getState();this.uppy.setState({capabilities:{...d,individualCancellation:!0}})}this.uppy.removeUploader(this.#u)}}var Jh={strings:{},pluralize(d){if(d===1)return 0;return 1}};Jh.strings={addBulkFilesFailed:{"0":"Failed to add %{smart_count} file due to an internal error","1":"Failed to add %{smart_count} files due to internal errors"},addedNumFiles:"Added %{numFiles} file(s)",addingMoreFiles:"Adding more files",additionalRestrictionsFailed:"%{count} additional restrictions were not fulfilled",addMore:"Add more",addMoreFiles:"Add more files",aggregateExceedsSize:"You selected %{size} of files, but maximum allowed size is %{sizeAllowed}",allFilesFromFolderNamed:"All files from folder %{name}",allowAccessDescription:"In order to take pictures or record video with your camera, please allow camera access for this site.",allowAccessTitle:"Please allow access to your camera",allowAudioAccessDescription:"In order to record audio, please allow microphone access for this site.",allowAudioAccessTitle:"Please allow access to your microphone",aspectRatioLandscape:"Crop landscape (16:9)",aspectRatioPortrait:"Crop portrait (9:16)",aspectRatioSquare:"Crop square",authAborted:"Authentication aborted",authenticate:"Connect",authenticateWith:"Connect to %{pluginName}",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",back:"Back",browse:"browse",browseFiles:"browse files",browseFolders:"browse folders",cancel:"Cancel",cancelUpload:"Cancel upload",chooseFiles:"Choose files",closeModal:"Close Modal",companionError:"Connection with Companion failed",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",complete:"Complete",compressedX:"Saved %{size} by compressing images",compressingImages:"Compressing images...",connectedToInternet:"Connected to the Internet",copyLink:"Copy link",copyLinkToClipboardFallback:"Copy the URL below",copyLinkToClipboardSuccess:"Link copied to clipboard.",creatingAssembly:"Preparing upload...",creatingAssemblyFailed:"Transloadit: Could not create Assembly",dashboardTitle:"Uppy Dashboard",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dataUploadedOfTotal:"%{complete} of %{total}",dataUploadedOfUnknown:"%{complete} of unknown",discardMediaFile:"Discard Media",discardRecordedFile:"Discard recorded file",done:"Done",dropHereOr:"Drop here or %{browse}",dropHint:"Drop your files here",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",editFile:"Edit file",editFileWithFilename:"Edit file %{file}",editImage:"Edit image",editing:"Editing %{file}",emptyFolderAdded:"No files were added from empty folder",encoding:"Encoding...",enterCorrectUrl:"Incorrect URL: Please make sure you are entering a direct link to a file",enterTextToSearch:"Enter text to search for images",enterUrlToImport:"Enter URL to import a file",error:"Error",exceedsSize:"%{file} exceeds maximum allowed size of %{size}",failedToFetch:"Companion failed to fetch this URL, please make sure itâ€™s correct",failedToUpload:"Failed to upload %{file}",filesUploadedOfTotal:{"0":"%{complete} of %{smart_count} file uploaded","1":"%{complete} of %{smart_count} files uploaded"},filter:"Filter",finishEditingFile:"Finish editing file",flipHorizontal:"Flip horizontally",folderAdded:{"0":"Added %{smart_count} file from %{folder}","1":"Added %{smart_count} files from %{folder}"},folderAlreadyAdded:'The folder "%{folder}" was already added',generatingThumbnails:"Generating thumbnails...",import:"Import",importFiles:"Import files from:",importFrom:"Import from %{name}",inferiorSize:"This file is smaller than the allowed size of %{size}",loadedXFiles:"Loaded %{numFiles} files",loading:"Loading...",logIn:"Log in",logOut:"Log out",micDisabled:"Microphone access denied by user",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",missingRequiredMetaFields:{"0":"Missing required meta field: %{fields}.","1":"Missing required meta fields: %{fields}."},myDevice:"My Device",noAudioDescription:"In order to record audio, please connect a microphone or another audio input device",noAudioTitle:"Microphone Not Available",noCameraDescription:"In order to take pictures or record video, please connect a camera device",noCameraTitle:"Camera Not Available",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",noFilesFound:"You have no files or folders here",noInternetConnection:"No Internet connection",noMoreFilesAllowed:"Cannot add more files",noSearchResults:"Unfortunately, there are no results for this search",openFolderNamed:"Open folder %{name}",pause:"Pause",paused:"Paused",pauseUpload:"Pause upload",pickFiles:"Pick files",pickPhotos:"Pick photos",pleaseWait:"Please wait",pluginNameAudio:"Audio",pluginNameBox:"Box",pluginNameCamera:"Camera",pluginNameDropbox:"Dropbox",pluginNameFacebook:"Facebook",pluginNameGoogleDrive:"Google Drive",pluginNameGoogleDrivePicker:"Google Drive",pluginNameGooglePhotosPicker:"Google Photos",pluginNameInstagram:"Instagram",pluginNameOneDrive:"OneDrive",pluginNameScreenCapture:"Screencast",pluginNameUnsplash:"Unsplash",pluginNameUrl:"Link",pluginNameWebdav:"WebDAV",pluginNameZoom:"Zoom",pluginWebdavInputLabel:"WebDAV URL for a file (e.g. from ownCloud or Nextcloud)",poweredBy:"Powered by %{uppy}",processingXFiles:{"0":"Processing %{smart_count} file","1":"Processing %{smart_count} files"},recording:"Recording",recordingLength:"Recording length %{recording_length}",recordingStoppedMaxSize:"Recording stopped because the file size is about to exceed the limit",recordVideoBtn:"Record Video",recoveredAllFiles:"We restored all files. You can now resume the upload.",recoveredXFiles:{"0":"We could not fully recover 1 file. Please re-select it and resume the upload.","1":"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},removeFile:"Remove file",reSelect:"Re-select",resetFilter:"Reset filter",resetSearch:"Reset search",resume:"Resume",resumeUpload:"Resume upload",retry:"Retry",retryUpload:"Retry upload",revert:"Reset",rotate:"Rotate 90Â°",save:"Save",saveChanges:"Save changes",search:"Search",searchImages:"Search for images",selectX:{"0":"Select %{smart_count}","1":"Select %{smart_count}"},sessionRestored:"Session restored",showErrorDetails:"Show error details",signInWithGoogle:"Sign in with Google",smile:"Smile!",startAudioRecording:"Begin audio recording",startCapturing:"Begin screen capturing",startRecording:"Begin video recording",stopAudioRecording:"Stop audio recording",stopCapturing:"Stop screen capturing",stopRecording:"Stop video recording",streamActive:"Stream active",streamPassive:"Stream passive",submitRecordedFile:"Submit recorded file",takePicture:"Take a picture",takePictureBtn:"Take Picture",takeScreenshot:"Take Screenshot",unnamed:"Unnamed",upload:"Upload",uploadComplete:"Upload complete",uploadFailed:"Upload failed",uploading:"Uploading",uploadingXFiles:{"0":"Uploading %{smart_count} file","1":"Uploading %{smart_count} files"},uploadPaused:"Upload paused",uploadStalled:"Upload has not made any progress for %{seconds} seconds. You may want to retry it.",uploadXFiles:{"0":"Upload %{smart_count} file","1":"Upload %{smart_count} files"},uploadXNewFiles:{"0":"Upload +%{smart_count} file","1":"Upload +%{smart_count} files"},xFilesSelected:{"0":"%{smart_count} file selected","1":"%{smart_count} files selected"},xMoreFilesAdded:{"0":"%{smart_count} more file added","1":"%{smart_count} more files added"},xTimeLeft:"%{time} left",youCanOnlyUploadFileTypes:"You can only upload: %{types}",youCanOnlyUploadX:{"0":"You can only upload %{smart_count} file","1":"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{"0":"You have to select at least %{smart_count} file","1":"You have to select at least %{smart_count} files"},zoomIn:"Zoom in",zoomOut:"Zoom out"};if(typeof Uppy!=="undefined")globalThis.Uppy.locales.en_US=Jh;var u6=Jh;var Bh={strings:{},pluralize(d){if(d<=1)return 0;return 1}};Bh.strings={addBulkFilesFailed:{"0":"Lâ€™ajout de %{smart_count} fichier a Ã©chouÃ© en raison dâ€™une erreur interne","1":"Lâ€™ajout de %{smart_count} fichiers a Ã©chouÃ© en raison dâ€™erreurs internes"},addedNumFiles:"%{numFiles} fichier(s) ajoutÃ©(s)",addingMoreFiles:"Ajout de fichiers",additionalRestrictionsFailed:"%{count} restrictions supplÃ©mentaires nâ€™ont pas Ã©tÃ© respectÃ©es",addMore:"Ajouter dâ€™autres",addMoreFiles:"Ajouter dâ€™autres fichiers",aggregateExceedsSize:"Vous avez sÃ©lectionnÃ© %{size} de fichiers, mais la taille maximale autorisÃ©e est %{sizeAllowed}",allFilesFromFolderNamed:"Tous les fichiers du dossier %{name}",allowAccessDescription:"Pour prendre des photos ou enregistrer une vidÃ©o, veuillez autoriser lâ€™accÃ¨s Ã  votre camÃ©ra pour ce site.",allowAccessTitle:"Veuillez autoriser lâ€™accÃ¨s Ã  votre camÃ©ra",allowAudioAccessDescription:"Pour enregistrer de lâ€™audio, veuillez autoriser lâ€™accÃ¨s au microphone pour ce site.",allowAudioAccessTitle:"Veuillez autoriser lâ€™accÃ¨s au microphone",aspectRatioLandscape:"Recadrer en paysage (16:9)",aspectRatioPortrait:"Recadrer en portrait (9:16)",aspectRatioSquare:"Recadrer pour obtenir une photo carrÃ©e",authAborted:"Authentification interrompue",authenticateWith:"Se connecter Ã  %{pluginName}",authenticateWithTitle:"Veuillez vous authentifier avec %{pluginName} pour sÃ©lectionner les fichiers",back:"Retour",browse:"naviguer",browseFiles:"naviguer dans les fichiers",browseFolders:"naviguer dans les dossiers",cancel:"Annuler",cancelUpload:"Annuler le tÃ©lÃ©versement",chooseFiles:"Choisir des fichiers",closeModal:"Fermer la fenÃªtre",companionError:"Connexion Ã  Companion a Ã©chouÃ©",companionUnauthorizeHint:"Pour vous dÃ©connecter de votre compte %{provider}, veuillez aller Ã  %{url}",complete:"TerminÃ©",compressedX:"%{size} Ã©conomisÃ©(s) par la compression",compressingImages:"Compression des imagesâ€¦",connectedToInternet:"ConnectÃ© Ã  Internet",copyLink:"Copier le lien",copyLinkToClipboardFallback:"Copier le lien ci-dessous",copyLinkToClipboardSuccess:"Lien copiÃ©",creatingAssembly:"PrÃ©paration du tÃ©lÃ©versementâ€¦",creatingAssemblyFailed:"Transloadit: Impossible de crÃ©er Assembly",dashboardTitle:"TÃ©lÃ©verseur de fichiers",dashboardWindowTitle:"FenÃªtre de tÃ©lÃ©versement de fichiers (Appuyez sur Ã‰chap pour fermer)",dataUploadedOfTotal:"%{complete} sur %{total}",discardRecordedFile:"Supprimer le fichier enregistrÃ©",done:"TerminÃ©",dropHereOr:"DÃ©poser les fichiers ici ou %{browse}",dropHint:"DÃ©posez vos fichiers ici",dropPasteBoth:"DÃ©poser les fichiers ici, coller ou %{browse}",dropPasteFiles:"DÃ©poser les fichiers ici, coller ou %{browse}",dropPasteFolders:"DÃ©poser les fichiers ici, coller ou %{browse}",dropPasteImportBoth:"DÃ©poser les fichiers ici, coller, %{browse} ou importer de",dropPasteImportFiles:"DÃ©poser les fichiers ici, coller, %{browse} ou importer de",dropPasteImportFolders:"DÃ©poser les fichiers ici, coller, %{browse} ou importer de",editFile:"Modifier le fichier",editImage:"Modifier lâ€™image",editFileWithFilename:"Modifier le fichier %{file}",editing:"Modification en cours de %{file}",emptyFolderAdded:"Aucun fichier nâ€™a Ã©tÃ© ajoutÃ© depuis un dossier vide",encoding:"Traitementâ€¦",enterCorrectUrl:"Lien incorrect: Assurez-vous que vous entrez un lien direct vers le fichier",enterTextToSearch:"Entrez un texte pour rechercher des images",enterUrlToImport:"Entrez le lien pour importer un fichier",error:"Erreur",exceedsSize:"Le fichier %{file} dÃ©passe la taille maximale autorisÃ©e de %{size}",failedToFetch:"Companion a Ã©chouÃ© Ã  rÃ©cupÃ©rer ce lien, assurez-vous quâ€™il est correct",failedToUpload:"Le tÃ©lÃ©versement de %{file} a Ã©chouÃ©",fileSource:"Fichier source: %{name}",filesUploadedOfTotal:{"0":"%{complete} sur %{smart_count} fichier tÃ©lÃ©versÃ©","1":"%{complete} sur %{smart_count} fichiers tÃ©lÃ©versÃ©s"},filter:"Filtrer",finishEditingFile:"Terminer lâ€™Ã©dition du fichier",flipHorizontal:"Retourner horizontalement",folderAdded:{"0":"%{smart_count} fichier ajoutÃ© de %{folder}","1":"%{smart_count} fichiers ajoutÃ©s de %{folder}"},folderAlreadyAdded:'Le dossier "%{folder}" a dÃ©jÃ  Ã©tÃ© ajoutÃ©',generatingThumbnails:"GÃ©nÃ©ration des vignettesâ€¦",import:"Importer",importFiles:"Importer des fichiers depuis :",importFrom:"Importer de %{name}",inferiorSize:"Ce fichier est plus petit que la taille autorisÃ©e de %{size}",loadedXFiles:"ChargÃ© %{numFiles} fichiers",loading:"Chargementâ€¦",logOut:"DÃ©connexion",micDisabled:"AccÃ¨s au micro refusÃ© par lâ€™utilisateur",missingRequiredMetaField:"Champ mÃ©ta requis manquant",missingRequiredMetaFieldOnFile:"Champs mÃ©ta requis manquants dans %{fileName}",missingRequiredMetaFields:{"0":"Champ mÃ©ta requis manquant : %{fields}.","1":"Champs mÃ©ta requis manquants : %{fields}."},myDevice:"Mon Appareil",noAudioDescription:"Pour enregistrer de lâ€™audio, veuillez connecter un microphone ou un autre appareil dâ€™entrÃ©e audio",noAudioTitle:"Microphone non disponible",noCameraDescription:"Pour prendre des photos ou enregistrer une vidÃ©o, veuillez connecter une camÃ©ra",noDuplicates:'Impossible dâ€™ajouter le fichier "%{fileName}", il existe dÃ©jÃ ',noFilesFound:"Vous nâ€™avez aucun fichier ou dossier ici",noInternetConnection:"Pas de connexion Ã  Internet",noMoreFilesAllowed:"Impossible dâ€™ajouter de nouveaux fichiers: en cours de chargement ",noSearchResults:"Malheureusement, il nâ€™y a aucun rÃ©sultat pour cette recherche",openFolderNamed:"Ouvrir %{name}",pause:"Pause",pauseUpload:"Mettre en pause le tÃ©lÃ©versement",paused:"En pause",poweredBy:"PropulsÃ© par %{uppy}",processingXFiles:{"0":"Traitement de %{smart_count} fichier","1":"Traitement de %{smart_count} fichiers"},recording:"Enregistrement",recordingLength:"DurÃ©e dâ€™enregistrement %{recording_length}",recordingStoppedMaxSize:"Lâ€™enregistrement sâ€™est arrÃ©tÃ© car la taille du fichier dÃ©passe la limite",recordVideoBtn:"Enregistrer une vidÃ©o",recoveredAllFiles:"Nous avons restaurÃ© tous les fichiers. Vous pouvez maintenant reprendre le tÃ©lÃ©versement.",recoveredXFiles:{"0":"Nous nâ€™avons pas pu rÃ©cupÃ©rer entiÃ¨rement 1 fichier. Veuillez le resÃ©lectionner et reprendre le tÃ©lÃ©versement.","1":"Nous nâ€™avons pas pu rÃ©cupÃ©rer entiÃ¨rement %{smart_count} fichiers. Veuillez les resÃ©lectionner et reprendre le tÃ©lÃ©versement."},removeFile:"Effacer le fichier %{file}",resetFilter:"RÃ©initialiser filtre",resume:"Reprendre",resumeUpload:"Reprendre le tÃ©lÃ©versement",retry:"RÃ©essayer",retryUpload:"RÃ©essayer le tÃ©lÃ©versement",reSelect:"ResÃ©lectionner",save:"Sauvegarder",saveChanges:"Sauvegarder les modifications",selectFileNamed:"SÃ©lectionner le fichier %{name}",selectX:{"0":"SÃ©lectionner %{smart_count}","1":"SÃ©lectionner %{smart_count}"},sessionRestored:"Session restaurÃ©e",signInWithGoogle:"Se connecter avec Google",smile:"Souriez !",startRecording:"Commencer lâ€™enregistrement vidÃ©o",stopRecording:"ArrÃªter lâ€™enregistrement vidÃ©o",streamActive:"Stream actif",streamPassive:"Stream passif",submitRecordedFile:"Envoyer la vidÃ©o enregistrÃ©e",takePicture:"Prendre une photo",takePictureBtn:"Prendre une photo",timedOut:"TÃ©lÃ©versement bloquÃ© durant %{seconds} secondes, annulation.",unselectFileNamed:"DÃ©sÃ©lectionner le fichier %{name}",upload:"TÃ©lÃ©verser",uploadComplete:"TÃ©lÃ©versement terminÃ©",uploadFailed:"Le tÃ©lÃ©versement a Ã©chouÃ©",uploadPaused:"TÃ©lÃ©versement mis en pause",uploadStalled:"TÃ©lÃ©versement bloquÃ© depuis %{seconds} secondes. Il est peut-Ãªtre nÃ©cessaire de recommencer lâ€™opÃ©ration.",uploadXFiles:{"0":"TÃ©lÃ©verser %{smart_count} fichier","1":"TÃ©lÃ©verser %{smart_count} fichiers"},uploadXNewFiles:{"0":"TÃ©lÃ©verser +%{smart_count} fichier","1":"TÃ©lÃ©verser +%{smart_count} fichiers"},uploading:"TÃ©lÃ©versement en cours",uploadingXFiles:{"0":"TÃ©lÃ©versement de %{smart_count} fichier","1":"TÃ©lÃ©versement de %{smart_count} fichiers"},xFilesSelected:{"0":"%{smart_count} fichier sÃ©lectionnÃ©","1":"%{smart_count} fichiers sÃ©lectionnÃ©s"},xMoreFilesAdded:{"0":"%{smart_count} autre fichier ajoutÃ©","1":"%{smart_count} autres fichiers ajoutÃ©s"},xTimeLeft:"%{time} restantes",youCanOnlyUploadFileTypes:"Vous pouvez seulement tÃ©lÃ©verser: %{types}",youCanOnlyUploadX:{"0":"Vous pouvez seulement tÃ©lÃ©verser %{smart_count} fichier","1":"Vous pouvez seulement tÃ©lÃ©verser %{smart_count} fichiers"},youHaveToAtLeastSelectX:{"0":"Vous devez sÃ©lectionner au moins %{smart_count} fichier","1":"Vous devez sÃ©lectionner au moins %{smart_count} fichiers"}};if(typeof Uppy!=="undefined")globalThis.Uppy.locales.fr_FR=Bh;var i6=Bh;var Kh={strings:{},pluralize(d){if(d===1)return 0;return 1}};Kh.strings={addBulkFilesFailed:{"0":"Das HinzufÃ¼gen einer Datei ist aufgrund eines internen Fehlers fehlgeschlagen","1":"Das HinzufÃ¼gen von %{smart_count} Dateien ist aufgrund eines internen Fehlers fehlgeschlagen"},addingMoreFiles:"Dateien hinzufÃ¼gen",addMore:"Mehr hinzufÃ¼gen",addMoreFiles:"Dateien hinzufÃ¼gen",allFilesFromFolderNamed:"Alle Dateien vom Ordner %{name}",allowAccessDescription:"Um Bilder oder Videos mit Ihrer Kamera aufzunehmen, erlauben Sie dieser Website bitte den Zugriff auf Ihre Kamera.",allowAccessTitle:"Bitte erlauben Sie Zugriff auf Ihre Kamera",aspectRatioLandscape:"Zuschneiden auf Querformat (16:9)",aspectRatioPortrait:"Zuschneiden auf Hochformat (9:16)",aspectRatioSquare:"Zuschneiden auf Quadrat",authenticateWith:"Mit %{pluginName} verbinden",authenticateWithTitle:"Bitte authentifizieren Sie sich mit %{pluginName}, um Dateien auszuwÃ¤hlen",back:"ZurÃ¼ck",backToSearch:"ZurÃ¼ck zur Suche",browse:"durchsuchen",browseFiles:"Dateien durchsuchen",browseFolders:"Ordner durchsuchen",cancel:"Abbrechen",cancelUpload:"Hochladen abbrechen",chooseFiles:"Dateien auswÃ¤hlen",closeModal:"Fenster schlieÃŸen",companionError:"Verbindung zu Companion fehlgeschlagen",companionUnauthorizeHint:"Um die Autorisierung fÃ¼r Ihr %{provider} Konto aufzuheben, gehen Sie bitte zu %{url}",complete:"Fertig",connectedToInternet:"Mit dem Internet verbunden",copyLink:"Link kopieren",copyLinkToClipboardFallback:"Untenstehende URL kopieren",copyLinkToClipboardSuccess:"Link in die Zwischenablage kopiert",creatingAssembly:"Das Hochladen wird vorbereiten...",creatingAssemblyFailed:"Transloadit: Assembly konnte nicht erstellt werden",dashboardTitle:"Hochladen von Dateien",dashboardWindowTitle:"Hochladen von Dateien (ESC drÃ¼cken zum SchlieÃŸen)",dataUploadedOfTotal:"%{complete} von %{total}",discardRecordedFile:"Aufgenommene Datei verwerfen",done:"Abgeschlossen",dropHereOr:"Dateien hier ablegen oder %{browse}",dropHint:"Dateien hier ablegen",dropPasteBoth:"Dateien hier ablegen/einfÃ¼gen, %{browseFiles} oder %{browseFolders}",dropPasteFiles:"Dateien hier ablegen/einfÃ¼gen oder %{browseFiles}",dropPasteFolders:"Dateien hier ablegen/einfÃ¼gen oder %{browseFolders}",dropPasteImportBoth:"Dateien hier ablegen/einfÃ¼gen, %{browse} oder von folgenden Quellen importieren:",dropPasteImportFiles:"Dateien hier ablegen/einfÃ¼gen, %{browseFiles} oder von folgenden Quellen importieren:",dropPasteImportFolders:"Dateien hier ablegen/einfÃ¼gen, %{browseFolders} oder von folgenden Quellen importieren:",editFile:"Datei bearbeiten",editImage:"Bild bearbeiten",editFileWithFilename:"Datei %{file} bearbeiten",editing:"%{file} bearbeiten",emptyFolderAdded:"Keine Dateien hinzugefÃ¼gt, da der Ordner leer war",encoding:"Kodieren...",enterCorrectUrl:"Falsche URL: Bitte stellen Sie sicher, dass Sie einen direkten Link zu einer Datei eingeben",enterTextToSearch:"Text zum Suchen von Bildern eingeben",enterUrlToImport:"URL zum Importieren einer Datei eingeben",exceedsSize:"Datei %{file} ist grÃ¶ÃŸer als die maximal erlaubte DateigrÃ¶ÃŸe von %{size}",failedToFetch:"Companion konnte diese URL nicht verarbeiten - stellen Sie bitte sicher, dass sie korrekt ist",failedToUpload:"Fehler beim Hochladen der Datei %{file}",filesUploadedOfTotal:{"0":"%{complete} von %{smart_count} Datei hochgeladen","1":"%{complete} von %{smart_count} Dateien hochgeladen"},filter:"Filter",finishEditingFile:"Bearbeitung beenden",flipHorizontal:"Horizontal spiegeln",folderAdded:{"0":"Eine Datei von %{folder} hinzugefÃ¼gt","1":"%{smart_count} Dateien von %{folder} hinzugefÃ¼gt"},folderAlreadyAdded:'Der Ordner "%{folder}" wurde bereits hinzugefÃ¼gt',generatingThumbnails:"Erstellen von Miniaturansichten...",import:"Importieren",importFiles:"Importiere Dateien von:",importFrom:"Importieren von %{name}",inferiorSize:"Diese Datei ist kleiner als die minimal erlaubte DateigrÃ¶ÃŸe von %{size}",loading:"Laden...",logOut:"Abmelden",micDisabled:"Zugriff auf Mikrofon von Benutzer abgelehnt",missingRequiredMetaField:"Fehlende erforderliche Meta-Felder",missingRequiredMetaFieldOnFile:"Fehlende erforderliche Meta-Felder in %{fileName}",missingRequiredMetaFields:{"0":"Fehlendes erforderliches Meta-Feld: %{fields}.","1":"Fehlende erforderliche Meta-Felder: %{fields}."},myDevice:"Mein GerÃ¤t",noCameraDescription:"Bitte Kamera anschlieÃŸen, um Bilder oder Videos aufzunehmen",noCameraTitle:"Kamera nicht verfÃ¼gbar",noDuplicates:"Datei '%{fileName}' existiert bereits und kann nicht erneut hinzugefÃ¼gt werden",noFilesFound:"Sie haben hier keine Dateien oder Ordner",noInternetConnection:"Keine Internetverbindung",noMoreFilesAllowed:"WÃ¤hrend der Upload lÃ¤uft, kÃ¶nnen keine weiteren Dateien hinzugefÃ¼gt werden",openFolderNamed:"Ordner %{name} Ã¶ffnen",pause:"Pausieren",paused:"Pausiert",pauseUpload:"Hochladen pausieren",pluginNameBox:"Box",pluginNameCamera:"Kamera",pluginNameDropbox:"Dropbox",pluginNameFacebook:"Facebook",pluginNameGoogleDrive:"Google Drive",pluginNameInstagram:"Instagram",pluginNameOneDrive:"OneDrive",pluginNameZoom:"Zoom",poweredBy:"Powered by %{uppy}",processingXFiles:{"0":"Eine Datei verarbeiten","1":"%{smart_count} Dateien verarbeiten"},recording:"Aufnahme",recordingLength:"Aufnahmedauer %{recording_length}",recordingStoppedMaxSize:"Die Aufnahme wurde gestoppt, weil die DateigrÃ¶ÃŸe das Limit Ã¼berschritten hat",recordVideoBtn:"Video aufnehmen",recoveredAllFiles:"Wir haben alle Dateien wiederhergestellt. Sie kÃ¶nnen mit dem Hochladen fortfahren.",recoveredXFiles:{"0":"Wir konnten eine Datei nicht vollstÃ¤ndig wiederherstellen. Bitte wÃ¤hlen Sie sie erneut aus und fahren Sie dann mit dem Hochladen fort.","1":"Wir konnten %{smart_count} Dateien nicht vollstÃ¤ndig wiederherstellen. Bitte wÃ¤hlen Sie sie erneut aus und fahren Sie dann mit dem Hochladen fort."},removeFile:"Datei entfernen",reSelect:"Erneut auswÃ¤hlen",resetFilter:"Filter zurÃ¼cksetzen",resume:"Fortsetzen",resumeUpload:"Hochladen fortsetzen",retry:"Erneut versuchen",retryUpload:"Hochladen erneut versuchen",revert:"RÃ¼ckgÃ¤ngig machen",rotate:"Drehen",save:"Speichern",saveChanges:"Ã„nderungen speichern",searchImages:"Suche nach Bildern",selectX:{"0":"WÃ¤hlen Sie %{smart_count}","1":"WÃ¤hlen Sie %{smart_count}"},sessionRestored:"",smile:"Bitte lÃ¤cheln!",startCapturing:"Bildschirmaufnahme starten",startRecording:"Videoaufnahme starten",stopCapturing:"Bildschirmaufnahme stoppen",stopRecording:"Videoaufnahme stoppen",streamActive:"Stream aktiv",streamPassive:"Stream passiv",submitRecordedFile:"Aufgezeichnete Datei verwenden",takePicture:"Ein Foto aufnehmen",takePictureBtn:"Foto aufnehmen",timedOut:"Upload fÃ¼r %{seconds} Sekunden stehen geblieben, breche ab.",upload:"Hochladen",uploadComplete:"Hochladen abgeschlossen",uploadFailed:"Hochladen fehlgeschlagen",uploading:"Wird hochgeladen",uploadingXFiles:{"0":"Eine Datei wird hochgeladen","1":"%{smart_count} Dateien werden hochgeladen"},uploadPaused:"Hochladen pausiert",uploadXFiles:{"0":"Eine Datei hochladen","1":"%{smart_count} Dateien hochladen"},uploadXNewFiles:{"0":"+%{smart_count} Datei hochladen","1":"+%{smart_count} Dateien hochladen"},xFilesSelected:{"0":"Eine Datei ausgewÃ¤hlt","1":"%{smart_count} Dateien ausgewÃ¤hlt"},xMoreFilesAdded:{"0":"Eine weitere Datei hinzugefÃ¼gt","1":"%{smart_count} weitere Dateien hinzugefÃ¼gt"},xTimeLeft:"%{time} verbleibend",youCanOnlyUploadFileTypes:"Sie kÃ¶nnen nur folgende Dateitypen hochladen: %{types}",youCanOnlyUploadX:{"0":"Sie kÃ¶nnen nur eine Datei hochladen","1":"Sie kÃ¶nnen nur %{smart_count} Dateien hochladen"},youHaveToAtLeastSelectX:{"0":"Sie mÃ¼ssen mindestens eine Datei auswÃ¤hlen","1":"Sie mÃ¼ssen mindestens %{smart_count} Dateien auswÃ¤hlen"},zoomIn:"VergrÃ¶ÃŸern",zoomOut:"Verkleinern"};if(typeof Uppy!=="undefined")globalThis.Uppy.locales.de_DE=Kh;var m6=Kh;var Dh={strings:{},pluralize(d){if(d===1)return 0;return 1}};Dh.strings={addMoreFiles:"Aggiungi piÃ¹ file",addingMoreFiles:"Sto aggiungendo altri file",allowAccessDescription:"Per acquisire foto o video con la tua fotocamera, abilitane l'accesso da questo sito.",allowAccessTitle:"Abilita l'accesso alla fotocamera",authenticateWith:"Connetti a %{pluginName}",authenticateWithTitle:"Autenticati con %{pluginName} per selezionare i file",back:"Indietro",addMore:"Aggiungi piÃ¹",browse:"sfoglia",browseFiles:"sfoglia",cancel:"Annulla",cancelUpload:"Annulla upload",chooseFiles:"Scegli i file",closeModal:"Chiudi modale",companionError:"Connessione con Companion fallita",complete:"Completato",connectedToInternet:"Connesso a internet",copyLink:"Copia link",copyLinkToClipboardFallback:"Copia l'URL sottostante",copyLinkToClipboardSuccess:"Link copiato",creatingAssembly:"Upload in preparazione...",creatingAssemblyFailed:"Transloadit: Non ho potuto creare l'Assembly",dashboardTitle:"File Uploader",dashboardWindowTitle:"File Uploader (Premi Esc per chiudere)",dataUploadedOfTotal:"%{complete} di %{total}",done:"Fatto",dropHereOr:"Trascina i file qui o %{browse}",dropHint:"Trascina i file qui",dropPasteBoth:"Trascina i file qui, incolla o %{browse}",dropPasteFiles:"Trascina i file qui, incolla o %{browse}",dropPasteFolders:"Trascina i file qui, incolla o %{browse}",dropPasteImportBoth:"Trascina i file qui, incolla, %{browse} o importa da",dropPasteImportFiles:"Trascina i file qui, incolla, %{browse} o importa da",dropPasteImportFolders:"Trascina i file qui, incolla, %{browse} o importa da",editFile:"Modifica file",editImage:"Modifica immagine",editing:"Modifica %{file}",emptyFolderAdded:"Nessun file aggiunto dalla cartella vuota",encoding:"Encoding...",enterCorrectUrl:"URL non corretta: assicurati che sia un link diretto ad un file",enterUrlToImport:"Immetti l'URL per importare un file",exceedsSize:"Questo file supera la dimensione massima di %{size}",failedToFetch:"Impossibile verificare questa URL, assicurati che sia corretta",failedToUpload:"Upload del file %{file} non riuscito",fileSource:"Sorgente file: %{name}",filesUploadedOfTotal:{"0":"%{complete} di %{smart_count} file caricato","1":"%{complete} di %{smart_count} file caricati"},filter:"Filter",finishEditingFile:"Finish editing file",folderAdded:{"0":"Aggiunto %{smart_count} file da %{folder}","1":"Aggiunti %{smart_count} file da %{folder}"},import:"Importa",importFrom:"Importa da %{name}",loading:"Caricamento...",logOut:"Logout",myDevice:"Il mio computer",noFilesFound:"Non hai file o cartelle qui",noInternetConnection:"Nessuna connessione a internet",pause:"Pausa",pauseUpload:"Pausa upload",paused:"In pausa",poweredBy:"Powered by %{uppy}",processingXFiles:{"0":"Sto processando %{smart_count} file","1":"Sto processando %{smart_count} file"},removeFile:"Rimuovi il file",resetFilter:"Ripristina filtro",resume:"Riprendi",resumeUpload:"Riprendi l'upload",retry:"Riprova",retryUpload:"Riprova l'upload",save:"Salva",saveChanges:"Salva le modifiche",selectX:{"0":"Seleziona %{smart_count}","1":"Seleziona %{smart_count}"},smile:"Sorridi!",startRecording:"Inizia la registrazione del video",stopRecording:"Interrompi la registrazione del video",takePicture:"Scatta una foto",timedOut:"Upload fermo da %{seconds} secondi, sto annullando.",upload:"Upload",uploadComplete:"Upload completato",uploadFailed:"Upload non riuscito",uploadPaused:"Upload in pausa",uploadXFiles:{"0":"Upload di %{smart_count} file","1":"Upload di %{smart_count} file"},uploadXNewFiles:{"0":"Upload +%{smart_count} file","1":"Upload +%{smart_count} file"},uploading:"In caricamento",uploadingXFiles:{"0":"Caricando %{smart_count} file","1":"Caricando %{smart_count} file"},xFilesSelected:{"0":"%{smart_count} file selezionato","1":"%{smart_count} file selezionati"},xMoreFilesAdded:{"0":"%{smart_count} alto file aggiunto","1":"%{smart_count} altri file aggiunti"},xTimeLeft:"%{time} rimasto",youCanOnlyUploadFileTypes:"Puoi caricare solamente: %{types}",youCanOnlyUploadX:{"0":"Puoi caricare %{smart_count} solo file","1":"Puoi caricare solo %{smart_count} file"},youHaveToAtLeastSelectX:{"0":"Devi selezionare almeno %{smart_count} file","1":"Devi selezionare almeno %{smart_count} file"},selectFileNamed:"Seleziona il file %{name}",unselectFileNamed:"Deseleziona il file %{name}",openFolderNamed:"Cartella aperta %{name}"};if(typeof Uppy!=="undefined")globalThis.Uppy.locales.it_IT=Dh;var s6=Dh;var qh={strings:{},pluralize(d){if(d===1)return 0;return 1}};qh.strings={addBulkFilesFailed:{"0":"No se pudo agregar %{smart_count} archivo debido a un error interno","1":"No se pudieron agregar %{smart_count} archivos debido a errores internos"},addedNumFiles:"Se agregÃ³ %{numFiles} archivo(s)",addingMoreFiles:"Agregando mÃ¡s archivos",additionalRestrictionsFailed:"No se cumplieron %{count} restricciones adicionales",addMore:"Agregar mÃ¡s",addMoreFiles:"Agregar mÃ¡s archivos",allFilesFromFolderNamed:"Todos los archivos de la carpeta %{name}",allowAccessDescription:"Para tomar fotos o grabar videos con tu cÃ¡mara, por favor permite el acceso a la cÃ¡mara para este sitio.",allowAccessTitle:"Por favor, permite el acceso a tu cÃ¡mara",allowAudioAccessDescription:"Para grabar audio, por favor permite el acceso al micrÃ³fono para este sitio.",allowAudioAccessTitle:"Por favor, permite el acceso a tu micrÃ³fono",aspectRatioLandscape:"Recortar horizontal (16:9)",aspectRatioPortrait:"Recortar vertical (9:16)",aspectRatioSquare:"Recortar cuadrado",authAborted:"AutenticaciÃ³n cancelada",authenticateWith:"Conectar con %{pluginName}",authenticateWithTitle:"Por favor, autentÃ­cate con %{pluginName} para seleccionar archivos",back:"AtrÃ¡s",browse:"Navegar",browseFiles:"Navegar por archivos",browseFolders:"Navegar por carpetas",cancel:"Cancelar",cancelUpload:"Cancelar subida",chooseFiles:"Seleccionar archivos",closeModal:"Cerrar ventana",companionError:"Error en la conexiÃ³n con Companion",companionUnauthorizeHint:"Para desautorizar tu cuenta de %{provider}, por favor ve a %{url}",complete:"Completado",compressedX:"Se ahorrÃ³ %{size} comprimiendo imÃ¡genes",compressingImages:"Comprimiendo imÃ¡genes...",connectedToInternet:"Conectado a Internet",copyLink:"Copiar enlace",copyLinkToClipboardFallback:"Copia la siguiente URL",copyLinkToClipboardSuccess:"Enlace copiado al portapapeles",creatingAssembly:"Preparando subida...",creatingAssemblyFailed:"No se pudo crear un Assembly",dashboardTitle:"Cargador de archivos",dashboardWindowTitle:"Ventana para cargar archivos (Presiona escape para cerrar)",dataUploadedOfTotal:"%{complete} de %{total}",discardRecordedFile:"Descartar archivo grabado",done:"Hecho",dropHereOr:"Suelta archivos aquÃ­ o %{browse}",dropHint:"Suelta tus archivos aquÃ­",dropPasteBoth:"Suelta archivos aquÃ­, %{browseFiles} o %{browseFolders}",dropPasteFiles:"Suelta archivos aquÃ­ o %{browseFiles}",dropPasteFolders:"Suelta archivos aquÃ­ o %{browseFolders}",dropPasteImportBoth:"Suelta archivos aquÃ­, %{browseFiles}, %{browseFolders} o importar desde:",dropPasteImportFiles:"Suelta archivos aquÃ­, %{browseFiles} o importar desde:",dropPasteImportFolders:"Suelta archivos aquÃ­, %{browseFolders} o importar desde:",editFile:"Editar archivo",editImage:"Editar imagen",editFileWithFilename:"Editar archivo %{file}",editing:"Editando %{file}",emptyFolderAdded:"No se agregaron archivos desde la carpeta vacÃ­a",encoding:"Codificando...",enterCorrectUrl:"URL incorrecta: Por favor, asegÃºrate de ingresar un enlace directo a un archivo",enterTextToSearch:"Ingresa texto para buscar imÃ¡genes",enterUrlToImport:"Ingresa la URL para importar un archivo",error:"Error",exceedsSize:"%{file} excede el tamaÃ±o mÃ¡ximo permitido de %{size}",failedToFetch:"Companion no pudo recuperar esta URL, por favor asegÃºrate de que sea correcta",failedToUpload:"No se pudo subir %{file}",fileSource:"Fuente de archivo: %{name}",filesUploadedOfTotal:{"0":"%{complete} de %{smart_count} archivo subido","1":"%{complete} de %{smart_count} archivos subidos"},filter:"Filtrar",finishEditingFile:"Terminar ediciÃ³n de archivo",flipHorizontal:"Voltear horizontalmente",folderAdded:{"0":"Se agregÃ³ %{smart_count} archivo desde %{folder}","1":"Se agregaron %{smart_count} archivos desde %{folder}"},folderAlreadyAdded:'La carpeta "%{folder}" ya fue agregada',generatingThumbnails:"Generando miniaturas...",import:"Importar",importFiles:"Importar archivos desde:",importFrom:"Importar desde %{name}",inferiorSize:"Este archivo es mÃ¡s pequeÃ±o que el tamaÃ±o permitido de %{size}",loading:"Cargando...",logOut:"Cerrar sesiÃ³n",micDisabled:"El acceso al micrÃ³fono fue denegado por el usuario",missingRequiredMetaField:"Faltan campos de metadatos obligatorios",missingRequiredMetaFieldOnFile:"Faltan campos de metadatos obligatorios en %{fileName}",missingRequiredMetaFields:{"0":"Falta el campo de metadatos obligatorio: %{fields}.","1":"Faltan los campos de metadatos obligatorios: %{fields}."},myDevice:"Mi dispositivo",noAudioDescription:"Para grabar audio, por favor conecta un micrÃ³fono u otro dispositivo de entrada de audio",noAudioTitle:"MicrÃ³fono no disponible",noCameraDescription:"Para tomar fotos o grabar video, por favor conecta un dispositivo de cÃ¡mara",noCameraTitle:"CÃ¡mara no disponible",noDuplicates:"No se puede agregar el archivo duplicado '%{fileName}', ya existe",noFilesFound:"No tienes archivos o carpetas aquÃ­",noInternetConnection:"Sin conexiÃ³n a Internet",noMoreFilesAllowed:"No se pueden agregar mÃ¡s archivos",noSearchResults:"Lamentablemente, no hay resultados para esta bÃºsqueda",openFolderNamed:"Abrir carpeta %{name}",pause:"Pausar",paused:"En pausa",pauseUpload:"Pausar subida",pluginNameAudio:"Audio",pluginNameBox:"Box",pluginNameCamera:"CÃ¡mara",pluginNameDropbox:"Dropbox",pluginNameFacebook:"Facebook",pluginNameGoogleDrive:"Google Drive",pluginNameInstagram:"Instagram",pluginNameOneDrive:"OneDrive",pluginNameZoom:"Zoom",poweredBy:"Desarrollado por %{uppy}",processingXFiles:{"0":"Procesando %{smart_count} archivo","1":"Procesando %{smart_count} archivos"},recording:"Grabando",recordingLength:"DuraciÃ³n de la grabaciÃ³n %{recording_length}",recordingStoppedMaxSize:"La grabaciÃ³n se detuvo porque el tamaÃ±o del archivo estÃ¡ a punto de exceder el lÃ­mite",recordVideoBtn:"Grabar video",recoveredAllFiles:"Se restauraron todos los archivos. Ahora puedes reanudar la subida.",recoveredXFiles:{"0":"No pudimos recuperar completamente 1 archivo. Por favor, vuelve a seleccionarlo y reanuda la subida.","1":"No pudimos recuperar completamente %{smart_count} archivos. Por favor, vuelve a seleccionarlos y reanuda la subida."},removeFile:"Eliminar archivo",reSelect:"Volver a seleccionar",resetFilter:"Restablecer filtro",resetSearch:"Restablecer bÃºsqueda",resume:"Reanudar",resumeUpload:"Reanudar subida",retry:"Reintentar",retryUpload:"Reintentar subida",revert:"Revertir",rotate:"Rotar",save:"Guardar",saveChanges:"Guardar cambios",search:"Buscar",searchImages:"Buscar imÃ¡genes",selectX:{"0":"Seleccionar %{smart_count}","1":"Seleccionar %{smart_count}"},sessionRestored:"SesiÃ³n restaurada",showErrorDetails:"Mostrar detalles del error",signInWithGoogle:"Iniciar sesiÃ³n con Google",smile:"Â¡SonrÃ­e!",startAudioRecording:"Iniciar grabaciÃ³n de audio",startCapturing:"Iniciar captura de pantalla",startRecording:"Iniciar grabaciÃ³n de video",stopAudioRecording:"Detener grabaciÃ³n de audio",stopCapturing:"Detener captura de pantalla",stopRecording:"Detener grabaciÃ³n de video",streamActive:"TransmisiÃ³n activa",streamPassive:"TransmisiÃ³n pasiva",submitRecordedFile:"Enviar archivo grabado",takePicture:"Tomar una foto",takePictureBtn:"Tomar foto",timedOut:"La subida se detuvo durante %{seconds} segundos, abortando.",upload:"Subir",uploadComplete:"Subida completa",uploadFailed:"Error en la subida",uploading:"Subiendo",uploadingXFiles:{"0":"Subiendo %{smart_count} archivo","1":"Subiendo %{smart_count} archivos"},uploadPaused:"Subida en pausa",uploadStalled:"La subida no ha realizado ningÃºn progreso durante %{seconds} segundos. Puedes intentarlo de nuevo.",uploadXFiles:{"0":"Subir %{smart_count} archivo","1":"Subir %{smart_count} archivos"},uploadXNewFiles:{"0":"Subir +%{smart_count} archivo","1":"Subir +%{smart_count} archivos"},xFilesSelected:{"0":"%{smart_count} archivo seleccionado","1":"%{smart_count} archivos seleccionados"},xMoreFilesAdded:{"0":"Se agregÃ³ %{smart_count} archivo mÃ¡s","1":"Se agregaron %{smart_count} archivos mÃ¡s"},xTimeLeft:"%{time} restante",youCanOnlyUploadFileTypes:"Solo puedes subir: %{types}",youCanOnlyUploadX:{"0":"Solo puedes subir %{smart_count} archivo","1":"Solo puedes subir %{smart_count} archivos"},youHaveToAtLeastSelectX:{"0":"Debes seleccionar al menos %{smart_count} archivo","1":"Debes seleccionar al menos %{smart_count} archivos"},zoomIn:"Acercar",zoomOut:"Alejar",selectFileNamed:"Seleccione archivo %{name}",unselectFileNamed:"Deseleccionar archivo %{name}"};if(typeof Uppy!=="undefined")globalThis.Uppy.locales.es_ES=qh;var V6=qh;var Ch={strings:{},pluralize(d){if(d===1)return 1;return 0}};Ch.strings={addMore:"Î ÏÎ¿ÏƒÎ¸Î­ÏƒÏ„Îµ Ï€ÎµÏÎ¹ÏƒÏƒÏŒÏ„ÎµÏÎ±",addMoreFiles:"Î ÏÎ¿ÏƒÎ¸Î­ÏƒÏ„Îµ Ï€ÎµÏÎ¹ÏƒÏƒÏŒÏ„ÎµÏÎ± Î±ÏÏ‡ÎµÎ¯Î±",addingMoreFiles:"Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· Î±ÏÏ‡ÎµÎ¯Ï‰Î½",allowAccessDescription:"Î“Î¹Î± Î½Î± Î²Î³Î¬Î»ÎµÏ„Îµ Ï†Ï‰Ï„Î¿Î³ÏÎ±Ï†Î¯ÎµÏ‚ Î® Î²Î¯Î½Ï„ÎµÎ¿ Î¼Îµ Ï„Î·Î½ ÎºÎ¬Î¼ÎµÏÎ¬ ÏƒÎ±Ï‚, Ï€Î±ÏÎ±ÎºÎ±Î»Î¿ÏÎ¼Îµ ÎµÏ€Î¹Ï„ÏÎ­ÏˆÏ„Îµ Ï„Î·Î½ Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ· ÏƒÏ„Î·Î½ ÎºÎ¬Î¼ÎµÏÎ¬ ÏƒÎ±Ï‚ Î³Î¹Î± Î±Ï…Ï„ÏŒÎ½ Ï„Î¿Î½ Î¹ÏƒÏ„ÏŒÏ„Î¿Ï€Î¿.",allowAccessTitle:"Î Î±ÏÎ±ÎºÎ±Î»Î¿ÏÎ¼Îµ ÎµÏ€Î¹Ï„ÏÎ­ÏˆÏ„Îµ Ï„Î·Î½ Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ· ÏƒÏ„Î·Î½ ÎºÎ¬Î¼ÎµÏÎ¬ ÏƒÎ±Ï‚",authenticateWith:"Î£ÏÎ½Î´ÎµÏƒÎ· Î¼Îµ %{pluginName}",authenticateWithTitle:"Î Î±ÏÎ±ÎºÎ±Î»Î¿ÏÎ¼Îµ ÏƒÏ…Î½Î´ÎµÎ¸ÎµÎ¯Ï„Îµ Î¼Îµ %{pluginName} Î³Î¹Î± Î½Î± ÎµÏ€Î¹Î»Î­Î¾ÎµÏ„Îµ Î±ÏÏ‡ÎµÎ¯Î±",back:"Î Î¯ÏƒÏ‰",browse:"Î ÎµÏÎ¹Î®Î³Î·ÏƒÎ·",browseFiles:"Î ÎµÏÎ¹Î®Î³Î·ÏƒÎ·",cancel:"Î†ÎºÏ…ÏÎ¿",cancelUpload:"Î‘ÎºÏÏÏ‰ÏƒÎ· Î¼ÎµÏ„Î±Ï†ÏŒÏÏ„Ï‰ÏƒÎ·Ï‚",chooseFiles:"Î•Ï€Î¹Î»Î­Î¾Ï„Îµ Î±ÏÏ‡ÎµÎ¯Î±",closeModal:"ÎšÎ»ÎµÎ¯ÏƒÎ¹Î¼Î¿ Ï€Î±ÏÎ±Î¸ÏÏÎ¿Ï…",companionError:"Î— ÏƒÏÎ½Î´ÎµÏƒÎ· Î¼Îµ Ï„Î¿ Companion Î±Ï€Î­Ï„Ï…Ï‡Îµ",complete:"ÎŸÎ»Î¿ÎºÎ»Î·ÏÏŽÎ¸Î·ÎºÎµ",connectedToInternet:"Î£Ï…Î½Î´ÎµÎ¸Î®ÎºÎ±Ï„Îµ ÏƒÏ„Î¿ Internet",copyLink:"Î‘Î½Ï„Î¹Î³ÏÎ±Ï†Î® ÏƒÏ…Î½Î´Î­ÏƒÎ¼Î¿Ï…",copyLinkToClipboardFallback:"Î‘Î½Ï„Î¹Î³ÏÎ±Ï†Î® Ï„Î¿Ï… Ï€Î±ÏÎ±ÎºÎ¬Ï„Ï‰ ÏƒÏ…Î½Î´Î­ÏƒÎ¼Î¿Ï…",copyLinkToClipboardSuccess:"ÎŸ ÏƒÏÎ½Î´ÎµÏƒÎ¼Î¿Ï‚ Î±Î½Ï„Î¹Î³ÏÎ¬Ï†Î·ÎºÎµ",creatingAssembly:"Î ÏÎ¿ÎµÏ„Î¿Î¹Î¼Î±ÏƒÎ¯Î± Î¼ÎµÏ„Î±Ï†ÏŒÏÏ„Ï‰ÏƒÎ·Ï‚...",creatingAssemblyFailed:"Transloadit: Î£Ï†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î·Î½ Ï€ÏÎ¿ÎµÏ„Î¿Î¹Î¼Î±ÏƒÎ¯Î±",dashboardTitle:"ÎœÎµÏ„Î±Ï†ÏŒÏÏ„Ï‰ÏƒÎ· Î±ÏÏ‡ÎµÎ¯Ï‰Î½",dashboardWindowTitle:"Î Î±ÏÎ¬Î¸Ï…ÏÎ¿ Î¼ÎµÏ„Î±Ï†ÏŒÏÏ„Ï‰ÏƒÎ·Ï‚ Î±ÏÏ‡ÎµÎ¯Ï‰Î½ (Î Î±Ï„Î®ÏƒÏ„Îµ escape Î³Î¹Î± Î½Î± ÎºÎ»ÎµÎ¯ÏƒÎµÎ¹)",dataUploadedOfTotal:"%{complete} Î±Ï€ÏŒ %{total}",done:"Î¤Î­Î»Î¿Ï‚",dropHereOr:"Î£ÏÏÎµÏ„Îµ Ï„Î± Î±ÏÏ‡ÎµÎ¯Î± ÎµÎ´ÏŽ Î® %{browse}",dropHint:"Î£ÏÏÎµÏ„Îµ Ï„Î± Î±ÏÏ‡ÎµÎ¯Î± ÏƒÎ±Ï‚ ÎµÎ´ÏŽ",dropPasteBoth:"Î£ÏÏÎµÏ„Îµ Ï„Î± Î±ÏÏ‡ÎµÎ¯Î± ÎµÎ´ÏŽ, ÎºÎ¬Î½Ï„Îµ ÎµÏ€Î¹ÎºÏŒÎ»Î»Î·ÏƒÎ· Î® %{browse}",dropPasteFiles:"Î£ÏÏÎµÏ„Îµ Ï„Î± Î±ÏÏ‡ÎµÎ¯Î± ÎµÎ´ÏŽ, ÎºÎ¬Î½Ï„Îµ ÎµÏ€Î¹ÎºÏŒÎ»Î»Î·ÏƒÎ· Î® %{browse}",dropPasteFolders:"Î£ÏÏÎµÏ„Îµ Ï„Î± Î±ÏÏ‡ÎµÎ¯Î± ÎµÎ´ÏŽ, ÎºÎ¬Î½Ï„Îµ ÎµÏ€Î¹ÎºÏŒÎ»Î»Î·ÏƒÎ· Î® %{browse}",dropPasteImportBoth:"Î£ÏÏÎµÏ„Îµ Î±ÏÏ‡ÎµÎ¯Î± ÎµÎ´ÏŽ, ÎºÎ¬Î½Ï„Îµ ÎµÏ€Î¹ÎºÏŒÎ»Î»Î·ÏƒÎ·, %{browse} Î® ÎµÎ¹ÏƒÎ±Î³Ï‰Î³Î® Î±Ï€ÏŒ",dropPasteImportFiles:"Î£ÏÏÎµÏ„Îµ Î±ÏÏ‡ÎµÎ¯Î± ÎµÎ´ÏŽ, ÎºÎ¬Î½Ï„Îµ ÎµÏ€Î¹ÎºÏŒÎ»Î»Î·ÏƒÎ·, %{browse} Î® ÎµÎ¹ÏƒÎ±Î³Ï‰Î³Î® Î±Ï€ÏŒ",dropPasteImportFolders:"Î£ÏÏÎµÏ„Îµ Î±ÏÏ‡ÎµÎ¯Î± ÎµÎ´ÏŽ, ÎºÎ¬Î½Ï„Îµ ÎµÏ€Î¹ÎºÏŒÎ»Î»Î·ÏƒÎ·, %{browse} Î® ÎµÎ¹ÏƒÎ±Î³Ï‰Î³Î® Î±Ï€ÏŒ",editFile:"Î•Ï€ÎµÎ¾ÎµÏÎ³Î±ÏƒÎ¯Î± Î±ÏÏ‡ÎµÎ¯Î¿Ï…",editImage:"Î•Ï€ÎµÎ¾ÎµÏÎ³Î±ÏƒÎ¯Î± ÎµÎ¹ÎºÏŒÎ½Î±Ï‚",editing:"Î“Î¯Î½ÎµÏ„Î±Î¹ ÎµÏ€ÎµÎ¾ÎµÏÎ³Î±ÏƒÎ¯Î± %{file}",emptyFolderAdded:"Î”ÎµÎ½ Ï€ÏÎ¿ÏƒÏ„Î­Î¸Î·ÎºÎ±Î½ Î±ÏÏ‡ÎµÎ¯Î± Î±Ï€ÏŒ Ï„Î¿Î½ Î¬Î´ÎµÎ¹Î¿ Ï†Î¬ÎºÎµÎ»Î¿",encoding:"Î“Î¯Î½ÎµÏ„Î±Î¹ ÎºÏ‰Î´Î¹ÎºÎ¿Ï€Î¿Î¯Î·ÏƒÎ·...",enterCorrectUrl:"Î›Î±Î½Î¸Î±ÏƒÎ¼Î­Î½Î¿ URL: Î Î±ÏÎ±ÎºÎ±Î»Î¿ÏÎ¼Îµ Î²ÎµÎ²Î±Î¹Ï‰Î¸ÎµÎ¯Ï„Îµ ÏŒÏ„Î¹ ÎµÎ¹ÏƒÎ¬Î³ÎµÏ„Îµ Î­Î½Î±Î½ Î¬Î¼ÎµÏƒÎ¿ ÏƒÏÎ½Î´ÎµÏƒÎ¼Î¿ Ï€ÏÎ¿Ï‚ ÎºÎ¬Ï€Î¿Î¹Î¿ Î±ÏÏ‡ÎµÎ¯Î¿",enterUrlToImport:"Î•Î¹ÏƒÎ¬Î³ÎµÏ„Îµ URL Î³Î¹Î± Î½Î± Î³Î¯Î½ÎµÎ¹ ÎµÎ¹ÏƒÎ±Î³Ï‰Î³Î® Ï„Î¿Ï… Î±ÏÏ‡ÎµÎ¯Î¿Ï…",exceedsSize:"Î¤Î¿ Î±ÏÏ‡ÎµÎ¯Î¿ Ï…Ï€ÎµÏÎ²Î±Î¯Î½ÎµÎ¹ Ï„Î¿ Î¼Î­Î³Î¹ÏƒÏ„Î¿ ÎµÏ€Î¹Ï„ÏÎµÏ€Ï„ÏŒ ÏŒÏÎ¹Î¿ Ï€Î¿Ï… ÎµÎ¯Î½Î±Î¹ %{size}",failedToFetch:"Î”ÎµÎ½ Î®Ï„Î±Î½ Î´Ï…Î½Î±Ï„Î® Î· Î»Î®ÏˆÎ· Î±Ï€ÏŒ Ï„Î¿ URL, Ï€Î±ÏÎ±ÎºÎ±Î»Î¿ÏÎ¼Îµ Î²ÎµÎ²Î±Î¹Ï‰Î¸ÎµÎ¯Ï„Îµ ÏŒÏ„Î¹ ÎµÎ¯Î½Î±Î¹ ÏƒÏ‰ÏƒÏ„ÏŒ",failedToUpload:"Î”ÎµÎ½ Î®Ï„Î±Î½ Î´Ï…Î½Î±Ï„Î® Î· Î¼ÎµÏ„Î±Ï†ÏŒÏÏ„Ï‰ÏƒÎ· %{file}",fileSource:"Î Î·Î³Î® Î±ÏÏ‡ÎµÎ¯Î¿Ï…: %{name}",filesUploadedOfTotal:{"0":"%{complete} Î±Ï€ÏŒ %{smart_count} Î±ÏÏ‡ÎµÎ¯Î± Î±Î½Î­Î²Î·ÎºÎ±Î½","1":"%{complete} Î±Ï€ÏŒ %{smart_count} Î±ÏÏ‡ÎµÎ¯Î¿ Î±Î½Î­Î²Î·ÎºÎµ"},filter:"Î¦Î¹Î»Ï„ÏÎ¬ÏÎ¹ÏƒÎ¼Î±",finishEditingFile:"ÎŸÎ»Î¿ÎºÎ»Î®ÏÏ‰ÏƒÎ· ÎµÏ€ÎµÎ¾ÎµÏÎ³Î±ÏƒÎ¯Î±Ï‚ Î±ÏÏ‡ÎµÎ¯Î¿Ï…",folderAdded:{"0":"Î ÏÎ¿ÏƒÏ„Î­Î¸Î·ÎºÎ±Î½ %{smart_count} Î±ÏÏ‡ÎµÎ¯Î± Î±Ï€ÏŒ %{folder}","1":"Î ÏÎ¿ÏƒÏ„Î­Î¸Î·ÎºÎµ %{smart_count} Î±ÏÏ‡ÎµÎ¯Î¿ Î±Ï€ÏŒ %{folder}"},import:"Î•Î¹ÏƒÎ±Î³Ï‰Î³Î®",importFrom:"Î•Î¹ÏƒÎ±Î³Ï‰Î³Î® Î±Ï€ÏŒ %{name}",loading:"Î¦Î¿ÏÏ„ÏŽÎ½ÎµÎ¹...",logOut:"Î‘Ï€Î¿ÏƒÏÎ½Î´ÎµÏƒÎ·",myDevice:"Î— ÏƒÏ…ÏƒÎºÎµÏ…Î® Î¼Î¿Ï…",noFilesFound:"Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ Î±ÏÏ‡ÎµÎ¯Î± Î® Ï†Î¬ÎºÎµÎ»Î¿Î¹ ÎµÎ´ÏŽ",noInternetConnection:"Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡ÎµÎ¹ ÏƒÏÎ½Î´ÎµÏƒÎ· ÏƒÏ„Î¿ Internet",openFolderNamed:"Î†Î½Î¿Î¹Î³Î¼Î± Ï†Î±ÎºÎ­Î»Î¿Ï… %{name}",pause:"Î Î±ÏÏƒÎ·",pauseUpload:"Î Î±ÏÏƒÎ· Î¼ÎµÏ„Î±Ï†ÏŒÏÏ„Ï‰ÏƒÎ·Ï‚",paused:"ÎˆÎ³Î¹Î½Îµ Ï€Î±ÏÏƒÎ·",poweredBy:"ÎœÎµ Ï„Î· Î´ÏÎ½Î±Î¼Î· Ï„Î¿Ï %{uppy}",processingXFiles:{"0":"Î ÏÎ¿ÎµÏ„Î¿Î¹Î¼Î±ÏƒÎ¯Î± %{smart_count} Î±ÏÏ‡ÎµÎ¯Ï‰Î½","1":"Î ÏÎ¿ÎµÏ„Î¿Î¹Î¼Î±ÏƒÎ¯Î± %{smart_count} Î±ÏÏ‡ÎµÎ¯Î¿Ï…"},removeFile:"Î‘Ï†Î±Î¯ÏÎµÏƒÎ· Î±ÏÏ‡ÎµÎ¯Î¿Ï…",resetFilter:"Î•Ï€Î±Î½Î±Ï†Î¿ÏÎ¬ Ï†Î¯Î»Ï„ÏÎ¿Ï…",resume:"Î£Ï…Î½Î­Ï‡ÎµÎ¹Î±",resumeUpload:"Î£Ï…Î½Î­Ï‡ÎµÎ¹Î± Î¼ÎµÏ„Î±Ï†ÏŒÏÏ„Ï‰ÏƒÎ·Ï‚",retry:"Î ÏÎ¿ÏƒÏ€Î¬Î¸ÎµÎ¹Î± Î¾Î±Î½Î¬",retryUpload:"Î ÏÎ¿ÏƒÏ€Î¬Î¸ÎµÎ¹Î± Î¼ÎµÏ„Î±Ï†ÏŒÏÏ„Ï‰ÏƒÎ·Ï‚ Î¾Î±Î½Î¬",saveChanges:"Î‘Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ· Î±Î»Î»Î±Î³ÏŽÎ½",selectFileNamed:"Î•Ï€Î¹Î»Î¿Î³Î® Î±ÏÏ‡ÎµÎ¯Î¿Ï… %{name}",selectX:{"0":"Î•Ï€Î¹Î»Î¿Î³Î® %{smart_count}","1":"Î•Ï€Î¹Î»Î¿Î³Î® %{smart_count}"},smile:"Î§Î±Î¼Î¿Î³ÎµÎ»Î¬ÏƒÏ„Îµ!",startRecording:"ÎžÎµÎºÎ¯Î½Î·Î¼Î± ÎµÎ³Î³ÏÎ±Ï†Î®Ï‚ Î²Î¯Î½Ï„ÎµÎ¿",stopRecording:"Î£Ï„Î±Î¼Î¬Ï„Î·Î¼Î± ÎµÎ³Î³ÏÎ±Ï†Î®Ï‚ Î²Î¯Î½Ï„ÎµÎ¿",takePicture:"Î’Î³Î¬Î»Ï„Îµ Î¼Î¹Î± Ï†Ï‰Ï„Î¿Î³ÏÎ±Ï†Î¯Î±",timedOut:"Î— Î¼ÎµÏ„Î±Ï†ÏŒÏÏ„Ï‰ÏƒÎ· ÏƒÏ„Î±Î¼Î¬Ï„Î·ÏƒÎµ Î³Î¹Î± %{seconds} Î´ÎµÏ…Ï„ÎµÏÏŒÎ»ÎµÏ€Ï„Î±, Î³Î¯Î½ÎµÏ„Î±Î¹ Î±ÎºÏÏÏ‰ÏƒÎ·.",unselectFileNamed:"Î‘Ï€Î¿ÎµÏ€Î¹Î»Î¿Î³Î® Î±ÏÏ‡ÎµÎ¯Î¿Ï… %{name}",upload:"ÎœÎµÏ„Î±Ï†ÏŒÏÏ„Ï‰ÏƒÎ·",uploadComplete:"ÎœÎµÏ„Î±Ï†ÏŒÏÏ„Ï‰ÏƒÎ· Î¿Î»Î¿ÎºÎ»Î·ÏÏŽÎ¸Î·ÎºÎµ",uploadFailed:"ÎœÎµÏ„Î±Ï†ÏŒÏÏ„Ï‰ÏƒÎ· Î±Ï€Î­Ï„Ï…Ï‡Îµ",uploadPaused:"ÎœÎµÏ„Î±Ï†ÏŒÏÏ„Ï‰ÏƒÎ· ÏƒÎµ Ï€Î±ÏÏƒÎ·",uploadXFiles:{"0":"ÎœÎµÏ„Î±Ï†ÏŒÏÏ„Ï‰ÏƒÎ· %{smart_count} Î±ÏÏ‡ÎµÎ¯Ï‰Î½","1":"ÎœÎµÏ„Î±Ï†ÏŒÏÏ„Ï‰ÏƒÎ· %{smart_count} Î±ÏÏ‡ÎµÎ¯Î¿Ï…"},uploadXNewFiles:{"0":"ÎœÎµÏ„Î±Ï†ÏŒÏÏ„Ï‰ÏƒÎ· +%{smart_count} Î±ÏÏ‡ÎµÎ¯Ï‰Î½","1":"ÎœÎµÏ„Î±Ï†ÏŒÏÏ„Ï‰ÏƒÎ· +%{smart_count} Î±ÏÏ‡ÎµÎ¯Î¿Ï…"},uploading:"Î“Î¯Î½ÎµÏ„Î±Î¹ Î¼ÎµÏ„Î±Ï†ÏŒÏÏ„Ï‰ÏƒÎ·",uploadingXFiles:{"0":"ÎœÎµÏ„Î±Ï†Î¿ÏÏ„ÏŽÎ½Î¿Î½Ï„Î±Î¹ %{smart_count} Î±ÏÏ‡ÎµÎ¯Î±","1":"ÎœÎµÏ„Î±Ï†Î¿ÏÏ„ÏŽÎ½ÎµÏ„Î±Î¹ %{smart_count} Î±ÏÏ‡ÎµÎ¯Î¿"},xFilesSelected:{"0":"%{smart_count} ÎµÏ€Î¹Î»ÎµÎ³Î¼Î­Î½Î± Î±ÏÏ‡ÎµÎ¯Î±","1":"%{smart_count} ÎµÏ€Î¹Î»ÎµÎ³Î¼Î­Î½Î¿ Î±ÏÏ‡ÎµÎ¯Î¿"},xMoreFilesAdded:{"0":"%{smart_count} Î±ÎºÏŒÎ¼Î± Î±ÏÏ‡ÎµÎ¯Î± Ï€ÏÎ¿ÏƒÏ„Î­Î¸Î·ÎºÎ±Î½","1":"%{smart_count} Î±ÎºÏŒÎ¼Î± Î±ÏÏ‡ÎµÎ¯Î¿ Ï€ÏÎ¿ÏƒÏ„Î­Î¸Î·ÎºÎµ"},xTimeLeft:"%{time} Î±Ï€Î¿Î¼Î­Î½Î¿Ï…Î½",youCanOnlyUploadFileTypes:"ÎœÏ€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± Î±Î½ÎµÎ²Î¬ÏƒÎµÏ„Îµ Î¼ÏŒÎ½Î¿: %{types}",youCanOnlyUploadX:{"0":"ÎœÏ€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± Î±Î½ÎµÎ²Î¬ÏƒÎµÏ„Îµ Î¼ÏŒÎ½Î¿ %{smart_count} Î±ÏÏ‡ÎµÎ¯Î±","1":"ÎœÏ€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± Î±Î½ÎµÎ²Î¬ÏƒÎµÏ„Îµ Î¼ÏŒÎ½Î¿ %{smart_count} Î±ÏÏ‡ÎµÎ¯Î¿"},youHaveToAtLeastSelectX:{"0":"Î ÏÎ­Ï€ÎµÎ¹ Î½Î± ÎµÏ€Î¹Î»Î­Î¾ÎµÏ„Îµ Ï„Î¿Ï…Î»Î¬Ï‡Î¹ÏƒÏ„Î¿Î½ %{smart_count} Î±ÏÏ‡ÎµÎ¯Î±","1":"Î ÏÎ­Ï€ÎµÎ¹ Î½Î± ÎµÏ€Î¹Î»Î­Î¾ÎµÏ„Îµ Ï„Î¿Ï…Î»Î¬Ï‡Î¹ÏƒÏ„Î¿Î½ %{smart_count} Î±ÏÏ‡ÎµÎ¯Î¿"}};if(typeof Uppy!=="undefined")globalThis.Uppy.locales.el_GR=Ch;var t6=Ch;function id(){return id=Object.assign||function(d){for(var h=1;h<arguments.length;h++){var c=arguments[h];for(var a in c)if(Object.prototype.hasOwnProperty.call(c,a))d[a]=c[a]}return d},id.apply(this,arguments)}var w6={"[object HTMLCollection]":!0,"[object NodeList]":!0,"[object RadioNodeList]":!0},X6={button:!0,fieldset:!0,reset:!0,submit:!0},O6={checkbox:!0,radio:!0},o6=/^\s+|\s+$/g,U6=Array.prototype.slice,H3=Object.prototype.toString;function md(d,h){if(!d)throw new Error("A form is required by getFormData, was given form="+d);h=id({includeDisabled:!1,trim:!1},h);var c={},a,b=[],f={};for(var z=0,i=d.elements.length;z<i;z++){var m=d.elements[z];if(X6[m.type]||m.disabled&&!h.includeDisabled)continue;if(a=m.name||m.id,a&&!f[a])b.push(a),f[a]=!0}for(var s=0,t=b.length;s<t;s++){a=b[s];var V=J3(d,a,h);if(V!=null)c[a]=V}return c}function J3(d,h,c){if(!d)throw new Error("A form is required by getFieldData, was given form="+d);if(!h&&H3.call(h)!=="[object String]")throw new Error("A field name is required by getFieldData, was given fieldName="+h);c=id({includeDisabled:!1,trim:!1},c);var a=d.elements[h];if(!a||a.disabled&&!c.includeDisabled)return null;if(!w6[H3.call(a)])return Q3(a,c.trim);var b=[],f=!0;for(var z=0,i=a.length;z<i;z++){if(a[z].disabled&&!c.includeDisabled)continue;if(f&&a[z].type!=="radio")f=!1;var m=Q3(a[z],c.trim);if(m!=null)b=b.concat(m)}if(f&&b.length===1)return b[0];return b.length>0?b:null}function Q3(d,h){var c=null,a=d.type;if(a==="select-one"){if(d.options.length)c=d.options[d.selectedIndex].value;return c}if(a==="select-multiple"){c=[];for(var b=0,f=d.options.length;b<f;b++)if(d.options[b].selected)c.push(d.options[b].value);if(c.length===0)c=null;return c}if(a==="file"&&"files"in d){if(d.multiple){if(c=U6.call(d.files),c.length===0)c=null}else c=d.files[0];return c}if(!O6[a])c=h?d.value.replace(o6,""):d.value;else if(d.checked)if(a==="checkbox"&&!d.hasAttribute("value"))c=!0;else c=d.value;return c}md.getFieldData=J3;var B3={name:"@uppy/form",description:"Connect Uppy to an existing HTML <form>.",version:"4.2.2",license:"MIT",main:"lib/index.js",type:"module",scripts:{build:"tsc --build tsconfig.build.json",typecheck:"tsc --build"},keywords:["file uploader","uppy","uppy-plugin","form"],homepage:"https://uppy.io",bugs:{url:"https://github.com/transloadit/uppy/issues"},repository:{type:"git",url:"git+https://github.com/transloadit/uppy.git"},files:["src","lib","dist","CHANGELOG.md"],dependencies:{"@uppy/utils":"^6.2.2","get-form-data":"^3.0.0"},peerDependencies:{"@uppy/core":"^4.5.2"},devDependencies:{typescript:"^5.8.3"}};var Y6={resultName:"uppyResult",getMetaFromForm:!0,addResultToForm:!0,submitOnSuccess:!1,triggerUploadOnSubmit:!1};function A6(d){if(d==null||d.nodeName!=="FORM")throw new Error("ASSERTION FAILED: the target is not a <form> element",{cause:d});return d}class Rh extends a1{static VERSION=B3.version;#d;constructor(d,h){super(d,{...Y6,...h});this.type="acquirer",this.id=this.opts.id||"Form",this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleUploadStart=this.handleUploadStart.bind(this),this.handleSuccess=this.handleSuccess.bind(this),this.addResultToForm=this.addResultToForm.bind(this),this.getMetaFromForm=this.getMetaFromForm.bind(this)}handleUploadStart(){if(this.opts.getMetaFromForm)this.getMetaFromForm()}handleSuccess(d){if(this.opts.addResultToForm)this.addResultToForm(d);if(this.opts.submitOnSuccess){if(this.#d.reportValidity())this.#d.submit()}}handleFormSubmit(d){if(this.opts.triggerUploadOnSubmit){d.preventDefault();let h=T(d.target.elements),c=[];h.forEach((a)=>{if((a.tagName==="BUTTON"||a.tagName==="INPUT"&&a.type==="submit")&&!a.disabled)a.disabled=!0,c.push(a)}),this.uppy.upload().then(()=>{c.forEach((a)=>{a.disabled=!1})},(a)=>{return c.forEach((b)=>{b.disabled=!1}),Promise.reject(a)}).catch((a)=>{this.uppy.log(a.stack||a.message||a)})}}addResultToForm(d){this.uppy.log("[Form] Adding result to the original form:"),this.uppy.log(d);let h=this.#d.querySelector(`[name="${this.opts.resultName}"]`);if(h){let c;try{c=JSON.parse(h.value)}catch(a){}if(!Array.isArray(c))c=[];c.push(d),h.value=JSON.stringify(c);return}h=document.createElement("input"),h.name=this.opts.resultName,h.type="hidden",h.value=JSON.stringify([d]),this.#d.appendChild(h)}getMetaFromForm(){let d=md(this.#d);delete d[this.opts.resultName],this.uppy.setMeta(d)}install(){this.#d=A6(i0(this.opts.target)),this.#d.addEventListener("submit",this.handleFormSubmit),this.uppy.on("upload",this.handleUploadStart),this.uppy.on("complete",this.handleSuccess)}uninstall(){this.#d.removeEventListener("submit",this.handleFormSubmit),this.uppy.off("upload",this.handleUploadStart),this.uppy.off("complete",this.handleSuccess)}}export{Qh as XHRUpload,Dd as Uppy,V6 as Spanish,s6 as Italian,t6 as Greek,m6 as German,i6 as French,Rh as Form,u6 as English,f0 as DragDrop,ad as Dashboard};
