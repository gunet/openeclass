!function(){"use strict";tinymce.PluginManager.add("latexhelper",(function(e,t){function n(){var n=e.selection.getContent({format:"text"});n=n.replace(/^\\\(|\\\)$/g,"").replace(/^\[m\]|\[\/m\]$/g,"");var a=void 0!==window.latexHelperLang?window.latexHelperLang:{};e.windowManager.open({title:a.title||"Insert LaTeX",url:t+"/dialog.html",width:900,height:700,buttons:[],inline:1},{initialCode:n,latexLang:a})}return window.addEventListener("message",(function(t){if(t.origin===window.location.origin){var n=t.data;if("latexhelper-insert"===n.mceAction){var a=n.content.trim();""!==(a=a.replace(/<\/?[^>]+(>|$)/g,""))&&e.insertContent("\\("+a+"\\)"),e.windowManager.close()}"latexhelper-cancel"===n.mceAction&&e.windowManager.close()}})),e.addButton("latexhelper",{text:"LaTeX",tooltip:"Insert Math",onclick:n}),e.addMenuItem("latexhelper",{icon:"latex",text:"LaTeX Math",context:"insert",onclick:n}),{getMetadata:function(){return{name:"LaTeX Helper",url:"https://www.openeclass.org"}}}}))}();